function Os(je){(()=>{let Ls=je,qs=je,Ns=je;var $s=Object.create,Jn=Object.defineProperty,Hs=Object.getPrototypeOf,Ws=Object.prototype.hasOwnProperty,Ks=Object.getOwnPropertyNames,zs=Object.getOwnPropertyDescriptor,js=q=>Jn(q,"__esModule",{value:!0}),pt=q=>()=>(q(je),je),Yn=pt(q=>{"use strict";(i=>{let{Error:e,ObjectFreeze:t,ObjectAssign:d,StringPrototypeStartsWith:ce,StringPrototypeEndsWith:$,ObjectDefineProperties:L,ArrayPrototypePush:he,ArrayPrototypeMap:j,ArrayPrototypeJoin:te}=i.__bootstrap.primordials;function R(B,X){return{getThis(){return B.getThis()},getTypeName(){return B.getTypeName()},getFunction(){return B.getFunction()},getFunctionName(){return B.getFunctionName()},getMethodName(){return B.getMethodName()},getFileName(){return X.fileName},getLineNumber(){return X.lineNumber},getColumnNumber(){return X.columnNumber},getEvalOrigin(){return B.getEvalOrigin()},isToplevel(){return B.isToplevel()},isEval(){return B.isEval()},isNative(){return B.isNative()},isConstructor(){return B.isConstructor()},isAsync(){return B.isAsync()},isPromiseAll(){return B.isPromiseAll()},getPromiseIndex(){return B.getPromiseIndex()}}}function fe(B,X){if(B.isNative())return"native";let y="",S=B.getFileName();if(S)y+=X(S);else{if(B.isEval()){let A=B.getEvalOrigin();if(A==null)throw new e("assert evalOrigin");y+=`${A}, `}y+="<anonymous>"}let h=B.getLineNumber();if(h!=null){y+=`:${h}`;let A=B.getColumnNumber();A!=null&&(y+=`:${A}`)}return y}function Y(B,X){let y="",S=B.getFunctionName(),h=B.isToplevel(),A=B.isAsync(),V=B.isPromiseAll(),M=B.isConstructor(),g=!(h||M);if(A&&(y+="async "),V)return y+=`Promise.all (index ${B.getPromiseIndex()})`,y;if(g){let _=B.getTypeName(),ee=B.getMethodName();S?(_&&(ce(S,_)||(y+=`${_}.`)),y+=S,ee&&($(S,ee)||(y+=` [as ${ee}]`))):(_&&(y+=`${_}.`),ee?y+=ee:y+="<anonymous>")}else if(M)y+="new ",S?y+=S:y+="<anonymous>";else if(S)y+=S;else return y+=fe(B,X),y;return y+=` (${fe(B,X)})`,y}function ne(B){return{this:B.getThis(),typeName:B.getTypeName(),function:B.getFunction(),functionName:B.getFunctionName(),methodName:B.getMethodName(),fileName:B.getFileName(),lineNumber:B.getLineNumber(),columnNumber:B.getColumnNumber(),evalOrigin:B.getEvalOrigin(),isToplevel:B.isToplevel(),isEval:B.isEval(),isNative:B.isNative(),isConstructor:B.isConstructor(),isAsync:B.isAsync(),isPromiseAll:B.isPromiseAll(),promiseIndex:B.getPromiseIndex()}}function K(B,X){return function(S,h){let A=j(h,ee=>{let ue=ee.getFileName(),D=ee.getLineNumber(),C=ee.getColumnNumber();return B&&ue&&D!=null&&C!=null?R(ee,B({fileName:ue,lineNumber:D,columnNumber:C})):ee});L(S,{__callSiteEvals:{value:[],configurable:!0}});let V=[];for(let ee of A)he(S.__callSiteEvals,ne(ee)),he(V,Y(ee,X));let M=S.message!==void 0?S.message:"",g=S.name!==void 0?S.name:"Error",_;return g!=""&&M!=""?_=`${g}: ${M}`:(g||M)!=""?_=g||M:_="",_+te(j(V,ee=>`
      at ${ee}`),"")}}d(je.__bootstrap.core,{createPrepareStackTrace:K}),t(je.__bootstrap.core)})(q)}),Zn=pt(q=>{"use strict";(i=>{let{RegExp:e,StringPrototypeReplace:t,ArrayPrototypeJoin:d}=i.__bootstrap.primordials;function ce(h,A){return{open:`[${h}m`,close:`[${A}m`,regexp:new e(`\\x1b\\[${A}m`,"g")}}function $(h,A){return`${A.open}${t(h,A.regexp,A.open)}${A.close}`}function L(h){return $(h,ce(1,22))}function he(h){return $(h,ce(3,23))}function j(h){return $(h,ce(33,39))}function te(h){return $(h,ce(36,39))}function R(h){return $(h,ce(31,39))}function fe(h){return $(h,ce(32,39))}function Y(h){return $(h,ce(41,49))}function ne(h){return $(h,ce(37,39))}function K(h){return $(h,ce(90,39))}function B(h){return $(h,ce(35,39))}let X=new e(d(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"],"|"),"g");function y(h){return t(h,X,"")}function S(h){return je.Deno?.noColor??!1?A=>A:h}i.__bootstrap.colors={bold:L,italic:he,yellow:j,cyan:te,red:R,green:fe,bgRed:Y,white:ne,gray:K,magenta:B,stripColor:y,maybeColor:S}})(q)}),Xn=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.colors,{ArrayBufferIsView:d,isNaN:ce,DataView:$,Date:L,DateNow:he,DatePrototypeGetTime:j,DatePrototypeToISOString:te,Boolean:R,BooleanPrototypeToString:fe,ObjectKeys:Y,ObjectCreate:ne,ObjectAssign:K,ObjectIs:B,ObjectValues:X,ObjectFromEntries:y,ObjectGetPrototypeOf:S,ObjectGetOwnPropertyDescriptor:h,ObjectGetOwnPropertySymbols:A,ObjectPrototypeHasOwnProperty:V,ObjectPrototypePropertyIsEnumerable:M,Promise:g,String:_,StringPrototypeRepeat:ee,StringPrototypeReplace:ue,StringPrototypeReplaceAll:D,StringPrototypeSplit:C,StringPrototypeSlice:p,StringPrototypeCodePointAt:u,StringPrototypeCharCodeAt:v,StringPrototypeNormalize:U,StringPrototypeMatch:k,StringPrototypePadStart:l,StringPrototypeLocaleCompare:T,StringPrototypeToString:f,StringPrototypeTrim:J,StringPrototypeIncludes:P,TypeError:E,NumberParseInt:m,RegExp:F,RegExpPrototypeTest:I,RegExpPrototypeToString:Z,Set:ae,SetPrototypeEntries:O,Symbol:ge,SymbolPrototypeToString:we,SymbolPrototypeValueOf:Ae,SymbolToStringTag:G,SymbolHasInstance:pe,SymbolFor:Ue,Array:it,ArrayIsArray:Q,ArrayPrototypeJoin:ve,ArrayPrototypeMap:Se,ArrayPrototypeReduce:Te,ArrayPrototypeEntries:Fe,ArrayPrototypePush:z,ArrayPrototypePop:ie,ArrayPrototypeSort:w,ArrayPrototypeSlice:le,ArrayPrototypeIncludes:me,ArrayPrototypeFill:b,ArrayPrototypeFilter:re,ArrayPrototypeFind:De,FunctionPrototypeBind:Re,Map:ye,MapPrototypeHas:Ze,MapPrototypeGet:gt,MapPrototypeSet:Ie,MapPrototypeDelete:Ft,MapPrototypeEntries:St,MapPrototypeForEach:dt,Error:Lt,ErrorCaptureStackTrace:Tt,MathAbs:$e,MathMax:zt,MathMin:qt,MathSqrt:mt,MathRound:ot,MathFloor:Dt,Number:At,NumberPrototypeToString:kt,NumberPrototypeValueOf:_e,BigInt:N,BigIntPrototypeToString:Pe,Proxy:Qe,ReflectGet:st,ReflectGetOwnPropertyDescriptor:ct,ReflectGetPrototypeOf:ut,WeakMap:Et,WeakSet:_t}=i.__bootstrap.primordials;function Pt(x){return ce(j(x))}function xe(x,oe){return x==null?!1:V(x,oe)}function Ce(x,oe){return x==null||typeof x.propertyIsEnumerable!="function"?!1:M(x,oe)}function Ge(x){return d(x)&&!(x instanceof $)}let Le={middleMiddle:"\u2500",rowMiddle:"\u253C",topRight:"\u2510",topLeft:"\u250C",leftMiddle:"\u251C",topMiddle:"\u252C",bottomRight:"\u2518",bottomLeft:"\u2514",bottomMiddle:"\u2534",rightMiddle:"\u2524",left:"\u2502 ",right:" \u2502",middle:" \u2502 "};function nt(x){return x>=4352&&(x<=4447||x===9001||x===9002||x>=11904&&x<=12871&&x!==12351||x>=12880&&x<=19903||x>=19968&&x<=42182||x>=43360&&x<=43388||x>=44032&&x<=55203||x>=63744&&x<=64255||x>=65040&&x<=65049||x>=65072&&x<=65131||x>=65281&&x<=65376||x>=65504&&x<=65510||x>=110592&&x<=110593||x>=127488&&x<=127569||x>=127744&&x<=128591||x>=131072&&x<=262141)}function Je(x){x=U(t.stripColor(x),"NFC");let oe=0;for(let be of x)oe+=nt(u(be,0))?2:1;return oe}function at(x,oe,be){let Oe=Le.left;for(let Xe=0;Xe<x.length;Xe++){let We=x[Xe],ze=Je(We),Ye=ee(" ",oe[Xe]-ze);be?.[Xe]?Oe+=`${Ye}${We}`:Oe+=`${We}${Ye}`,Xe!==x.length-1&&(Oe+=Le.middle)}return Oe+=Le.right,Oe}function Be(x){let oe=!ce(x);return oe}function xt(x,oe){let be=[],Oe=Se(x,et=>Je(et)),Xe=Te(oe,(et,ht)=>zt(et,ht.length),0),We=new it(Oe.length).fill(!0);for(let et=0;et<x.length;et++){let ht=oe[et];for(let Rt=0;Rt<Xe;Rt++){be[Rt]===void 0&&(be[Rt]=[]);let Ut=be[Rt][et]=xe(ht,Rt)?ht[Rt]:"",lt=Oe[et]||0,yt=Je(Ut);Oe[et]=zt(lt,yt),We[et]&=Be(Ut)}}let ze=Se(Oe,et=>ee(Le.middleMiddle,et+2)),Ye=`${Le.topLeft}${ve(ze,Le.topMiddle)}${Le.topRight}
  ${at(x,Oe)}
  ${Le.leftMiddle}${ve(ze,Le.rowMiddle)}${Le.rightMiddle}
  `;for(let et of be)Ye+=`${at(et,Oe,We)}
  `;return Ye+=`${Le.bottomLeft}${ve(ze,Le.bottomMiddle)}`+Le.bottomRight,Ye}let tt={depth:4,indentLevel:0,sorted:!1,trailingComma:!1,compact:!0,iterableLimit:100,showProxy:!1,colors:!1,getters:!1,showHidden:!1},qe="  ",Ne=80,Bt=6,Qt=100,Ot=12;class Yt{static kClear="[1;1H";static kClearScreenDown="[0J"}function Vt(x){if(typeof x!="object")return"";let oe=x?.constructor;return typeof oe=="function"?oe.name??"":""}function Mt(x,oe){return oe.colors?x:be=>be}function jt(x,oe,be){let Oe=Mt(t.cyan,be);if(Ar in x&&typeof x[Ar]=="function")return _(x[Ar](en));let Xe=S(x)?.constructor?.name;Xe||(Xe="Function");let We="";if(Y(x).length>0||A(x).length>0){let ze=sn(x,oe,be);ze.length>0&&ze!=="{}"&&(We=` ${ze}`)}return x.name&&x.name!=="anonymous"?Oe(`[${Xe}: ${x.name}]`)+We:Oe(`[${Xe}]`)+We}function Rr(x,oe,be,Oe){let Xe=Mt(t.cyan,Oe);if(oe>=Oe.depth)return Xe(`[${be.typeName}]`);let We=[],ze,Ye=!1;switch(be.typeName){case"Map":ze=St(x);break;case"Set":ze=O(x);break;case"Array":ze=Fe(x);break;default:if(Ge(x))ze=Fe(x),Ye=!0;else throw new E("unreachable")}let et=0,ht=()=>ze.next();for(;;){let Xt;try{let er=ze.next();if(er.done)break;Xt=er.value}catch(er){if(Ye)break;throw er}et<Oe.iterableLimit&&z(We,be.entryHandler(Xt,oe+1,Oe,Re(ht,ze))),et++}if(be.sort&&w(We),et>Oe.iterableLimit){let Xt=et-Oe.iterableLimit;z(We,`... ${Xt} more items`)}let Rt=`${be.displayName?be.displayName+" ":""}`,Ut=`
  ${ee(qe,oe+1)}`,lt=`,
  ${ee(qe,oe+1)}`,yt=`${Oe.trailingComma?",":""}
  ${ee(qe,oe)}`,$t;if(be.group&&We.length>Bt){let Xt=Gr(We,oe,x);$t=`${Ut}${ve(Xt,lt)}${yt}`}else $t=We.length===0?"":` ${ve(We,", ")} `,(t.stripColor($t).length>Ne||!Oe.compact)&&($t=`${Ut}${ve(We,lt)}${yt}`);return`${Rt}${be.delims[0]}${$t}${be.delims[1]}`}function Gr(x,oe,be,Oe=100){let Xe=0,We=0,ze=x.length;Oe<ze&&ze--;let Ye=2,et=new it(ze);for(let Rt=0;Rt<ze;Rt++){let Ut=t.stripColor(x[Rt]).length;et[Rt]=Ut,Xe+=Ut+Ye,We<Ut&&(We=Ut)}let ht=We+Ye;if(ht*3+(oe+1)<Ne&&(Xe/ht>5||We<=6)){let Rt=2.5,Ut=mt(ht-Xe/x.length),lt=zt(ht-3-Ut,1),yt=qt(ot(mt(Rt*lt*ze)/lt),Dt((Ne-(oe+1))/ht),15);if(yt<=1)return x;let $t=[],Xt=[];for(let Jt=0;Jt<yt;Jt++){let lr=0;for(let tr=Jt;tr<x.length;tr+=yt)et[tr]>lr&&(lr=et[tr]);lr+=Ye,Xt[Jt]=lr}let er="padStart";if(be!==void 0){for(let Jt=0;Jt<x.length;Jt++)if(typeof be[Jt]!="number"&&typeof be[Jt]!="bigint"){er="padEnd";break}}for(let Jt=0;Jt<ze;Jt+=yt){let lr=qt(Jt+yt,ze),tr="",Ht=Jt;for(;Ht<lr-1;Ht++){let _r=x[Ht].length-et[Ht],sr=Xt[Ht-Jt]+_r;tr+=`${x[Ht]}, `[er](sr," ")}if(er==="padStart"){let _r=x[Ht].length-et[Ht],sr=Xt[Ht-Jt]+_r-Ye;tr+=l(x[Ht],sr," ")}else tr+=x[Ht];z($t,tr)}Oe<x.length&&z($t,x[ze]),x=$t}return x}function Ir(x,oe,be){let Oe=e.getProxyDetails(x);if(Oe!=null&&be.showProxy)return on(Oe,oe,be);let Xe=Mt(t.green,be),We=Mt(t.yellow,be),ze=Mt(t.gray,be),Ye=Mt(t.cyan,be),et=Mt(t.bold,be),ht=Mt(t.red,be);switch(typeof x){case"string":return Xe(He(x));case"number":return We(B(x,-0)?"-0":`${x}`);case"boolean":return We(_(x));case"undefined":return ze(_(x));case"symbol":return Xe(a(x));case"bigint":return We(`${x}n`);case"function":return W(x)?Ye("[Circular]"):jt(x,oe,be);case"object":return x===null?et("null"):W(x)?Ye("[Circular]"):Cr(x,oe,be);default:return ht("[Not Implemented]")}}function Fr(x,oe,be){z(H,x);let Oe;try{Oe=Ir(x,oe,be)}finally{ie(H)}return Oe}let mr=['"',"'","`"];function He(x){let oe=De(mr,Oe=>!P(x,Oe))??mr[0],be=new F(`(?=[${oe}\\\\])`,"g");return x=ue(x,be,"\\"),x=o(x),`${oe}${x}${oe}`}function o(x){return ue(ue(ue(ue(ue(ue(ue(x,/[\b]/g,"\\b"),/\f/g,"\\f"),/\n/g,"\\n"),/\r/g,"\\r"),/\t/g,"\\t"),/\v/g,"\\v"),/[\x00-\x1f\x7f-\x9f]/g,oe=>"\\x"+l(kt(v(oe,0),16),2,"0"))}function s(x){return I(/^[a-zA-Z_][a-zA-Z_0-9]*$/,x)?o(x):He(x)}function a(x){return x.description===void 0||I(/^[a-zA-Z_][a-zA-Z_.0-9]*$/,x.description)?we(x):`Symbol(${He(x.description)})`}let H=[];function W(x){return me(le(H,0,H.length-1),x)}function se(x,oe,be){let Oe=Mt(t.green,be);switch(typeof x){case"string":{let Xe=x.length>Qt?p(x,0,Qt)+"...":x;return Oe(He(Xe))}default:return Fr(x,oe,be)}}function ke(x,oe,be){let Oe=Mt(t.gray,be),Xe={typeName:"Array",displayName:"",delims:["[","]"],entryHandler:(We,ze,Ye,et)=>{let[ht,Rt]=We,Ut=ht;if(V(x,Ut))return se(Rt,ze,Ye);{for(Ut++;!V(x,Ut)&&Ut<x.length;)et(),Ut++;let lt=Ut-ht,yt=lt>1?"s":"";return Oe(`<${lt} empty item${yt}>`)}},group:be.compact,sort:!1};return Rr(x,oe,Xe,be)}function Ve(x,oe,be,Oe){let Xe=oe.length,We={typeName:x,displayName:`${x}(${Xe})`,delims:["[","]"],entryHandler:(ze,Ye,et)=>{let ht=ze[1];return se(ht,Ye+1,et)},group:Oe.compact,sort:!1};return Rr(oe,be,We,Oe)}function Ke(x,oe,be){let Oe={typeName:"Set",displayName:"Set",delims:["{","}"],entryHandler:(Xe,We,ze)=>{let Ye=Xe[1];return se(Ye,We+1,ze)},group:!1,sort:be.sorted};return Rr(x,oe,Oe,be)}function Wt(x,oe,be){let Oe={typeName:"Map",displayName:"Map",delims:["{","}"],entryHandler:(Xe,We,ze)=>{let[Ye,et]=Xe;return`${se(Ye,We+1,ze)} => ${se(et,We+1,ze)}`},group:!1,sort:be.sorted};return Rr(x,oe,Oe,be)}function It(x){let oe=Mt(t.cyan,x);return`WeakSet { ${oe("[items unknown]")} }`}function Zt(x){let oe=Mt(t.cyan,x);return`WeakMap { ${oe("[items unknown]")} }`}function fr(x,oe){let be=Mt(t.magenta,oe);return be(Pt(x)?"Invalid Date":te(x))}function cr(x,oe){let be=Mt(t.red,oe);return be(Z(x))}function wn(x){let oe=[],be=x;for(;be.cause instanceof Lt&&be.cause!==x&&!me(oe,be.cause);)z(oe,be.cause),be=be.cause;return`${x.stack}${ve(Se(oe,Oe=>`
  Caused by ${Oe.stack}`),"")}`}function Ur(x,oe){let be=Mt(t.cyan,oe);return be(`[String: "${f(x)}"]`)}function Zr(x,oe){let be=Mt(t.cyan,oe);return be(`[Boolean: ${fe(x)}]`)}function pr(x,oe){let be=Mt(t.cyan,oe);return be(`[Number: ${B(_e(x),-0)?"-0":kt(x)}]`)}function pn(x,oe){let be=Mt(t.cyan,oe);return be(`[BigInt: ${Pe(x)}n]`)}function Hr(x,oe){let be=Mt(t.cyan,oe);return be(`[Symbol: ${a(Ae(x))}]`)}let Wr={Pending:0,Fulfilled:1,Rejected:2};function Xr(x,oe,be){let Oe=Mt(t.cyan,be),Xe=Mt(t.red,be),[We,ze]=e.getPromiseDetails(x);if(We===Wr.Pending)return`Promise { ${Oe("<pending>")} }`;let Ye=We===Wr.Fulfilled?"":`${Xe("<rejected>")} `,et=`${Ye}${se(ze,oe+1,be)}`;return et.length+Ot>Ne?`Promise {
  ${ee(qe,oe+1)}${et}
  }`:`Promise { ${et} }`}function on(x,oe,be){return`Proxy ${ke(x,oe,be)}`}function sn(x,oe,be){let Oe=Mt(t.cyan,be);if(oe>=be.depth)return Oe("[Object]");let Xe,We=!1,ze=x[G];ze||(ze=Vt(x)),ze&&ze!=="Object"&&ze!=="anonymous"&&(We=!0);let Ye=[],et=Y(x),ht=A(x);be.sorted&&(w(et),w(ht,(lt,yt)=>T(lt.description??"",yt.description??"")));let Rt=Mt(t.red,be);for(let lt of et)if(be.getters){let yt,$t=null;try{yt=x[lt]}catch(er){$t=er}let Xt=$t==null?se(yt,oe+1,be):Rt(`[Thrown ${$t.name}: ${$t.message}]`);z(Ye,`${s(lt)}: ${Xt}`)}else{let yt=h(x,lt);yt.get!==void 0&&yt.set!==void 0?z(Ye,`${s(lt)}: [Getter/Setter]`):yt.get!==void 0?z(Ye,`${s(lt)}: [Getter]`):z(Ye,`${s(lt)}: ${se(x[lt],oe+1,be)}`)}for(let lt of ht){if(!be.showHidden&&!Ce(x,lt))continue;if(be.getters){let yt,$t;try{yt=x[lt]}catch(er){$t=er}let Xt=$t==null?se(yt,oe+1,be):Rt(`Thrown ${$t.name}: ${$t.message}`);z(Ye,`[${a(lt)}]: ${Xt}`)}else{let yt=h(x,lt);yt.get!==void 0&&yt.set!==void 0?z(Ye,`[${a(lt)}]: [Getter/Setter]`):yt.get!==void 0?z(Ye,`[${a(lt)}]: [Getter]`):z(Ye,`[${a(lt)}]: ${se(x[lt],oe+1,be)}`)}}let Ut=Ye.length+oe+t.stripColor(ve(Ye,"")).length;if(Ye.length===0)Xe="{}";else if(Ut>Ne||!be.compact){let lt=ee(qe,oe+1),yt=ee(qe,oe);Xe=`{
  ${lt}${ve(Ye,`,
  ${lt}`)}${be.trailingComma?",":""}
  ${yt}}`}else Xe=`{ ${ve(Ye,", ")} }`;return We&&(Xe=`${ze} ${Xe}`),Xe}function Cr(x,oe,be){if(Ar in x&&typeof x[Ar]=="function")return _(x[Ar](en));let Oe=Ue("Deno.privateCustomInspect");return Oe in x&&typeof x[Oe]=="function"?_(x[Oe](en)):x instanceof Lt?wn(x):Q(x)?ke(x,oe,be):x instanceof At?pr(x,be):x instanceof N?pn(x,be):x instanceof R?Zr(x,be):x instanceof _?Ur(x,be):x instanceof ge?Hr(x,be):x instanceof g?Xr(x,oe,be):x instanceof F?cr(x,be):x instanceof L?fr(x,be):x instanceof ae?Ke(x,oe,be):x instanceof ye?Wt(x,oe,be):x instanceof _t?It(be):x instanceof Et?Zt(be):Ge(x)?Ve(S(x).constructor.name,x,oe,be):sn(x,oe,be)}let an=new ye([["black","#000000"],["silver","#c0c0c0"],["gray","#808080"],["white","#ffffff"],["maroon","#800000"],["red","#ff0000"],["purple","#800080"],["fuchsia","#ff00ff"],["green","#008000"],["lime","#00ff00"],["olive","#808000"],["yellow","#ffff00"],["navy","#000080"],["blue","#0000ff"],["teal","#008080"],["aqua","#00ffff"],["orange","#ffa500"],["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["blanchedalmond","#ffebcd"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkgrey","#a9a9a9"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkslategrey","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["gold","#ffd700"],["goldenrod","#daa520"],["greenyellow","#adff2f"],["grey","#808080"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavender","#e6e6fa"],["lavenderblush","#fff0f5"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgray","#d3d3d3"],["lightgreen","#90ee90"],["lightgrey","#d3d3d3"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370db"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["oldlace","#fdf5e6"],["olivedrab","#6b8e23"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#db7093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["slategrey","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["thistle","#d8bfd8"],["tomato","#ff6347"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["whitesmoke","#f5f5f5"],["yellowgreen","#9acd32"],["rebeccapurple","#663399"]]);function Kr(x){Ze(an,x)&&(x=gt(an,x));let oe=k(x,/^#([\dA-Fa-f]{2})([\dA-Fa-f]{2})([\dA-Fa-f]{2})([\dA-Fa-f]{2})?$/);if(oe!=null)return[At(`0x${oe[1]}`),At(`0x${oe[2]}`),At(`0x${oe[3]}`)];let be=k(x,/^#([\dA-Fa-f])([\dA-Fa-f])([\dA-Fa-f])([\dA-Fa-f])?$/);if(be!=null)return[At(`0x${be[1]}0`),At(`0x${be[2]}0`),At(`0x${be[3]}0`)];let Oe=k(x,/^rgba?\(\s*([+\-]?\d*\.?\d+)\s*,\s*([+\-]?\d*\.?\d+)\s*,\s*([+\-]?\d*\.?\d+)\s*(,\s*([+\-]?\d*\.?\d+)\s*)?\)$/);if(Oe!=null)return[ot(zt(0,qt(255,At(Oe[1])))),ot(zt(0,qt(255,At(Oe[2])))),ot(zt(0,qt(255,At(Oe[3]))))];let Xe=k(x,/^hsla?\(\s*([+\-]?\d*\.?\d+)\s*,\s*([+\-]?\d*\.?\d+)%\s*,\s*([+\-]?\d*\.?\d+)%\s*(,\s*([+\-]?\d*\.?\d+)\s*)?\)$/);if(Xe!=null){let We=At(Xe[1])%360;We<0&&(We+=360);let ze=zt(0,qt(100,At(Xe[2])))/100,Ye=zt(0,qt(100,At(Xe[3])))/100,et=(1-$e(2*Ye-1))*ze,ht=et*(1-$e(We/60%2-1)),Rt=Ye-et/2,Ut,lt,yt;return We<60?[Ut,lt,yt]=[et,ht,0]:We<120?[Ut,lt,yt]=[ht,et,0]:We<180?[Ut,lt,yt]=[0,et,ht]:We<240?[Ut,lt,yt]=[0,ht,et]:We<300?[Ut,lt,yt]=[ht,0,et]:[Ut,lt,yt]=[et,0,ht],[ot((Ut+Rt)*255),ot((lt+Rt)*255),ot((yt+Rt)*255)]}return null}function cn(){return{backgroundColor:null,color:null,fontWeight:null,fontStyle:null,textDecorationColor:null,textDecorationLine:[]}}function un(x){let oe=cn(),be=[],Oe=!1,Xe=null,We=0,ze="";for(let Ye=0;Ye<x.length;Ye++){let et=x[Ye];if(et=="(")We++;else if(We>0)et==")"&&We--;else if(Oe){if(et==";"){let ht=J(ze);ht!=""&&z(be,[Xe,ht]),Xe=null,ze="",Oe=!1;continue}}else if(et==":"){Xe=J(ze),ze="",Oe=!0;continue}ze+=et}if(Oe&&We==0){let Ye=J(ze);Ye!=""&&z(be,[Xe,Ye]),Xe=null,ze=""}for(let[Ye,et]of be)if(Ye=="background-color"){let ht=Kr(et);ht!=null&&(oe.backgroundColor=ht)}else if(Ye=="color"){let ht=Kr(et);ht!=null&&(oe.color=ht)}else if(Ye=="font-weight")et=="bold"&&(oe.fontWeight=et);else if(Ye=="font-style")me(["italic","oblique","oblique 14deg"],et)&&(oe.fontStyle="italic");else if(Ye=="text-decoration-line"){oe.textDecorationLine=[];for(let ht of C(et,/\s+/g))me(["line-through","overline","underline"],ht)&&z(oe.textDecorationLine,ht)}else if(Ye=="text-decoration-color"){let ht=Kr(et);ht!=null&&(oe.textDecorationColor=ht)}else if(Ye=="text-decoration"){oe.textDecorationColor=null,oe.textDecorationLine=[];for(let ht of C(et,/\s+/g)){let Rt=Kr(ht);Rt!=null?oe.textDecorationColor=Rt:me(["line-through","overline","underline"],ht)&&z(oe.textDecorationLine,ht)}}return oe}function nr(x,oe){return x?.[0]==oe?.[0]&&x?.[1]==oe?.[1]&&x?.[2]==oe?.[2]}function Mr(x,oe=null){oe=oe??cn();let be="";if(!nr(x.backgroundColor,oe.backgroundColor))if(x.backgroundColor!=null){let[Oe,Xe,We]=x.backgroundColor;be+=`[48;2;${Oe};${Xe};${We}m`}else be+="[49m";if(!nr(x.color,oe.color))if(x.color!=null){let[Oe,Xe,We]=x.color;be+=`[38;2;${Oe};${Xe};${We}m`}else be+="[39m";if(x.fontWeight!=oe.fontWeight&&(x.fontWeight=="bold"?be+="[1m":be+="[22m"),x.fontStyle!=oe.fontStyle&&(x.fontStyle=="italic"?be+="[3m":be+="[23m"),!nr(x.textDecorationColor,oe.textDecorationColor))if(x.textDecorationColor!=null){let[Oe,Xe,We]=x.textDecorationColor;be+=`[58;2;${Oe};${Xe};${We}m`}else be+="[59m";return me(x.textDecorationLine,"line-through")!=me(oe.textDecorationLine,"line-through")&&(me(x.textDecorationLine,"line-through")?be+="[9m":be+="[29m"),me(x.textDecorationLine,"overline")!=me(oe.textDecorationLine,"overline")&&(me(x.textDecorationLine,"overline")?be+="[53m":be+="[55m"),me(x.textDecorationLine,"underline")!=me(oe.textDecorationLine,"underline")&&(me(x.textDecorationLine,"underline")?be+="[4m":be+="[24m"),be}function or(x,oe={}){let be=je.Deno?.noColor??!0,Oe={...tt,...oe},Xe=x[0],We=0,ze="";if(typeof Xe=="string"&&x.length>1){We++;let Ye=0,et=!1,ht=null;for(let Rt=0;Rt<Xe.length-1;Rt++)if(Xe[Rt]=="%"){let Ut=Xe[++Rt];if(We<x.length){let lt=null;if(Ut=="s")lt=_(x[We++]);else if(me(["d","i"],Ut)){let yt=x[We++];typeof yt=="bigint"?lt=`${yt}n`:typeof yt=="number"?lt=`${m(_(yt))}`:lt="NaN"}else if(Ut=="f"){let yt=x[We++];typeof yt=="number"?lt=`${yt}`:lt="NaN"}else if(me(["O","o"],Ut))lt=Fr(x[We++],0,Oe);else if(Ut=="c"){let yt=x[We++];if(be)lt="";else{let $t=un(yt);lt=Mr($t,ht),lt!=""&&(et=!0,ht=$t)}}lt!=null&&(ze+=p(Xe,Ye,Rt-1)+lt,Ye=Rt+1)}Ut=="%"&&(ze+=p(Xe,Ye,Rt-1)+"%",Ye=Rt+1)}ze+=p(Xe,Ye),et&&(ze+="[0m")}for(;We<x.length;We++)We>0&&(ze+=" "),typeof x[We]=="string"?ze+=x[We]:ze+=Fr(x[We],0,Oe);if(Oe.indentLevel>0){let Ye=ee(qe,Oe.indentLevel);ze=Ye+D(ze,`
`,`
  ${Ye}`)}return ze}let ur=new ye,br=new ye,Tr=ge("isConsoleInstance");function vr(){return{...tt,colors:!(je.Deno?.noColor??!1)}}class Sr{#e=null;[Tr]=!1;constructor(oe){this.#e=oe,this.indentLevel=0,this[Tr]=!0;let be=ne({},{[G]:{enumerable:!1,writable:!1,configurable:!0,value:"console"}});return K(be,this),be}log=(...oe)=>{this.#e(or(oe,{...vr(),indentLevel:this.indentLevel})+`
`,1)};debug=(...oe)=>{this.#e(or(oe,{...vr(),indentLevel:this.indentLevel})+`
`,0)};info=(...oe)=>{this.#e(or(oe,{...vr(),indentLevel:this.indentLevel})+`
`,1)};dir=(oe=void 0,be={})=>{this.#e(or([oe],{...vr(),...be})+`
`,1)};dirxml=this.dir;warn=(...oe)=>{this.#e(or(oe,{...vr(),indentLevel:this.indentLevel})+`
`,2)};error=(...oe)=>{this.#e(or(oe,{...vr(),indentLevel:this.indentLevel})+`
`,3)};assert=(oe=!1,...be)=>{if(oe)return;if(be.length===0){this.error("Assertion failed");return}let[Oe,...Xe]=be;if(typeof Oe=="string"){this.error(`Assertion failed: ${Oe}`,...Xe);return}this.error("Assertion failed:",...be)};count=(oe="default")=>{if(oe=_(oe),Ze(ur,oe)){let be=gt(ur,oe)||0;Ie(ur,oe,be+1)}else Ie(ur,oe,1);this.info(`${oe}: ${gt(ur,oe)}`)};countReset=(oe="default")=>{oe=_(oe),Ze(ur,oe)?Ie(ur,oe,0):this.warn(`Count for '${oe}' does not exist`)};table=(oe=void 0,be=void 0)=>{if(be!==void 0&&!Q(be))throw new Lt("The 'properties' argument must be of type Array. Received type string");if(oe===null||typeof oe!="object")return this.log(oe);let Oe=Ht=>se(Ht,0,{...tt,depth:1}),Xe=(Ht,_r)=>this.log(xt(Ht,_r)),We,ze=oe instanceof ae,Ye=oe instanceof ye,et="Values",ht=ze||Ye?"(iter idx)":"(idx)";if(oe instanceof ae)We=[...oe];else if(oe instanceof ye){let Ht=0;We={},dt(oe,(_r,sr)=>{We[Ht]={Key:sr,Values:_r},Ht++})}else We=oe;let Rt=Y(We),Ut=Rt.length,lt=be?y(Se(be,Ht=>[Ht,b(new it(Ut),"")])):{},yt=[],$t=[],Xt=!1;Rt.forEach((Ht,_r)=>{let sr=We[Ht],ln=sr===null||typeof sr!="function"&&typeof sr!="object";if(be===void 0&&ln)Xt=!0,z($t,Oe(sr));else{let hr=sr||{},xn=be||Y(hr);for(let zr of xn)!ln&&zr in hr&&(zr in lt||(lt[zr]=b(new it(Ut),"")),lt[zr][_r]=Oe(hr[zr]));z($t,"")}z(yt,Ht)});let er=Y(lt),Jt=X(lt),lr=re([ht,...be||[...er,!Ye&&Xt&&et]],R),tr=[yt,...Jt,$t];Xe(lr,tr)};time=(oe="default")=>{if(oe=_(oe),Ze(br,oe)){this.warn(`Timer '${oe}' already exists`);return}Ie(br,oe,he())};timeLog=(oe="default",...be)=>{if(oe=_(oe),!Ze(br,oe)){this.warn(`Timer '${oe}' does not exists`);return}let Oe=gt(br,oe),Xe=he()-Oe;this.info(`${oe}: ${Xe}ms`,...be)};timeEnd=(oe="default")=>{if(oe=_(oe),!Ze(br,oe)){this.warn(`Timer '${oe}' does not exists`);return}let be=gt(br,oe);Ft(br,oe);let Oe=he()-be;this.info(`${oe}: ${Oe}ms`)};group=(...oe)=>{oe.length>0&&this.log(...oe),this.indentLevel+=2};groupCollapsed=this.group;groupEnd=()=>{this.indentLevel>0&&(this.indentLevel-=2)};clear=()=>{this.indentLevel=0,this.#e(Yt.kClear,1),this.#e(Yt.kClearScreenDown,1)};trace=(...oe)=>{let be=or(oe,{...vr(),indentLevel:0}),Oe={name:"Trace",message:be};Tt(Oe,this.trace),this.error(Oe.stack)};static[pe](oe){return oe[Tr]}}let Ar=Ue("Deno.customInspect");function en(x,oe={}){return Fr(x,0,{...tt,...oe,indentLevel:0})}function hn({object:x,keys:oe,evaluate:be}){return new Qe({},{get(We,ze){return ze===G?x.constructor?.name:me(oe,ze)?st(x,ze):void 0},getOwnPropertyDescriptor(We,ze){return me(oe,ze)?be?Xe(x,ze):Oe(x,ze)??Xe(x,ze):void 0},has(We,ze){return me(oe,ze)},ownKeys(){return oe}});function Oe(We,ze){let Ye=ct(We,ze);if(!Ye){let et=ut(We);et&&(Ye=Oe(et,ze))}return Ye}function Xe(We,ze){return{configurable:!0,enumerable:!0,value:We[ze]}}}function yn(x,oe){let be=e.callConsole;for(let Oe of Y(oe))V(x,Oe)&&(x[Oe]=Re(be,x,oe[Oe],x[Oe]))}i.__bootstrap.internals={...i.__bootstrap.internals??{},Console:Sr,cssToAnsi:Mr,inspectArgs:or,parseCss:un,parseCssColor:Kr},i.__bootstrap.console={CSI:Yt,inspectArgs:or,Console:Sr,customInspect:Ar,inspect:en,wrapConsole:yn,createFilteredInspectProxy:hn}})(q)}),eo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{ArrayBuffer:t,ArrayBufferIsView:d,ArrayPrototypeForEach:ce,ArrayPrototypePush:$,ArrayPrototypeSort:L,ArrayIteratorPrototype:he,BigInt:j,BigIntAsIntN:te,BigIntAsUintN:R,DataView:fe,Float32Array:Y,Float64Array:ne,FunctionPrototypeBind:K,Int16Array:B,Int32Array:X,Int8Array:y,isNaN:S,MathFloor:h,MathFround:A,MathMax:V,MathMin:M,MathPow:g,MathRound:_,MathTrunc:ee,Number:ue,NumberIsFinite:D,NumberIsNaN:C,NumberMAX_SAFE_INTEGER:p,NumberMIN_SAFE_INTEGER:u,ObjectAssign:v,ObjectCreate:U,ObjectDefineProperties:k,ObjectDefineProperty:l,ObjectGetOwnPropertyDescriptor:T,ObjectGetOwnPropertyDescriptors:f,ObjectGetPrototypeOf:J,ObjectPrototypeHasOwnProperty:P,ObjectIs:E,PromisePrototypeThen:m,PromiseReject:F,PromiseResolve:I,ReflectApply:Z,ReflectDefineProperty:ae,ReflectGetOwnPropertyDescriptor:O,ReflectOwnKeys:ge,RegExpPrototypeTest:we,Set:Ae,String:G,StringFromCodePoint:pe,StringPrototypeCharCodeAt:Ue,Symbol:it,SymbolIterator:Q,SymbolToStringTag:ve,TypeError:Se,Uint16Array:Te,Uint32Array:Fe,Uint8Array:z,Uint8ClampedArray:ie}=i.__bootstrap.primordials;function w(xe,Ce,Ge={}){return new xe(`${Ge.prefix?Ge.prefix+": ":""}${Ge.context?Ge.context:"Value"} ${Ce}`)}function le(xe){if(typeof xe=="bigint")throw Se("Cannot convert a BigInt value to a number");return ue(xe)}function me(xe){if(xe===null)return"Null";switch(typeof xe){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"bigint":return"BigInt";case"object":case"function":default:return"Object"}}function b(xe){return xe>0&&xe%1===.5&&(xe&1)===0||xe<0&&xe%1===-.5&&(xe&1)===1?ye(h(xe)):ye(_(xe))}function re(xe){return ye(ee(xe))}function De(xe){return xe<0?-1:1}function Re(xe,Ce){let Ge=xe%Ce;return De(Ce)!==De(Ge)?Ge+Ce:Ge}function ye(xe){return xe===0?0:xe}function Ze(xe,Ce){let Ge=!Ce.unsigned,Le,nt;xe===64?(nt=p,Le=Ge?u:0):Ge?(Le=-g(2,xe-1),nt=g(2,xe-1)-1):(Le=0,nt=g(2,xe)-1);let Je=g(2,xe),at=g(2,xe-1);return(Be,xt={})=>{let tt=le(Be,xt);if(tt=ye(tt),xt.enforceRange){if(!D(tt))throw w(Se,"is not a finite number",xt);if(tt=re(tt),tt<Le||tt>nt)throw w(Se,`is outside the accepted range of ${Le} to ${nt}, inclusive`,xt);return tt}return!C(tt)&&xt.clamp?(tt=M(V(tt,Le),nt),tt=b(tt),tt):!D(tt)||tt===0?0:(tt=re(tt),tt>=Le&&tt<=nt?tt:(tt=Re(tt,Je),Ge&&tt>=at?tt-Je:tt))}}function gt(xe,{unsigned:Ce}){let Ge=p,Le=Ce?0:u,nt=Ce?R:te;return(Je,at={})=>{let Be=le(Je,at);if(Be=ye(Be),at.enforceRange){if(!D(Be))throw w(Se,"is not a finite number",at);if(Be=re(Be),Be<Le||Be>Ge)throw w(Se,`is outside the accepted range of ${Le} to ${Ge}, inclusive`,at);return Be}if(!C(Be)&&at.clamp)return Be=M(V(Be,Le),Ge),Be=b(Be),Be;if(!D(Be)||Be===0)return 0;let xt=j(re(Be));return xt=nt(xe,xt),ue(xt)}}let Ie=[];Ie.any=xe=>xe,Ie.boolean=function(xe){return!!xe},Ie.byte=Ze(8,{unsigned:!1}),Ie.octet=Ze(8,{unsigned:!0}),Ie.short=Ze(16,{unsigned:!1}),Ie["unsigned short"]=Ze(16,{unsigned:!0}),Ie.long=Ze(32,{unsigned:!1}),Ie["unsigned long"]=Ze(32,{unsigned:!0}),Ie["long long"]=gt(64,{unsigned:!1}),Ie["unsigned long long"]=gt(64,{unsigned:!0}),Ie.float=(xe,Ce)=>{let Ge=le(xe,Ce);if(!D(Ge))throw w(Se,"is not a finite floating-point value",Ce);if(E(Ge,-0))return Ge;let Le=A(Ge);if(!D(Le))throw w(Se,"is outside the range of a single-precision floating-point value",Ce);return Le},Ie["unrestricted float"]=(xe,Ce)=>{let Ge=le(xe,Ce);return S(Ge)||E(Ge,-0)?Ge:A(Ge)},Ie.double=(xe,Ce)=>{let Ge=le(xe,Ce);if(!D(Ge))throw w(Se,"is not a finite floating-point value",Ce);return Ge},Ie["unrestricted double"]=(xe,Ce)=>{let Ge=le(xe,Ce);return Ge},Ie.DOMString=function(xe,Ce={}){if(typeof xe=="string")return xe;if(xe===null&&Ce.treatNullAsEmptyString)return"";if(typeof xe=="symbol")throw w(Se,"is a symbol, which cannot be converted to a string",Ce);return G(xe)};let Ft=/^[\x00-\xFF]*$/;Ie.ByteString=(xe,Ce)=>{let Ge=Ie.DOMString(xe,Ce);if(!we(Ft,Ge))throw w(Se,"is not a valid ByteString",Ce);return Ge},Ie.USVString=(xe,Ce)=>{let Ge=Ie.DOMString(xe,Ce),Le=Ge.length,nt="";for(let Je=0;Je<Le;++Je){let at=Ue(Ge,Je);if(at<55296||at>57343)nt+=pe(at);else if(56320<=at&&at<=57343)nt+=pe(65533);else if(Je===Le-1)nt+=pe(65533);else{let Be=Ue(Ge,Je+1);if(56320<=Be&&Be<=57343){let xt=at&1023,tt=Be&1023;nt+=pe((2<<15)+(2<<9)*xt+tt),++Je}else nt+=pe(65533)}}return nt},Ie.object=(xe,Ce)=>{if(me(xe)!=="Object")throw w(Se,"is not an object",Ce);return xe};function St(xe,Ce){if(typeof xe!="function")throw w(Se,"is not a function",Ce);return xe}function dt(xe){return xe instanceof t}function Lt(xe){return xe instanceof SharedArrayBuffer}Ie.ArrayBuffer=(xe,Ce={})=>{if(!dt(xe))throw Ce.allowShared&&!Lt(xe)?w(Se,"is not an ArrayBuffer or SharedArrayBuffer",Ce):w(Se,"is not an ArrayBuffer",Ce);return xe},Ie.DataView=(xe,Ce={})=>{if(!(xe instanceof fe))throw w(Se,"is not a DataView",Ce);if(!Ce.allowShared&&Lt(xe.buffer))throw w(Se,"is backed by a SharedArrayBuffer, which is not allowed",Ce);return xe};let Tt=T(J(z).prototype,ve).get;ce([y,B,X,z,Te,Fe,ie,Y,ne],xe=>{let Ce=xe.name,Ge=we(/^[AEIOU]/,Ce)?"an":"a";Ie[Ce]=(Le,nt={})=>{if(!d(Le)||Tt.call(Le)!==Ce)throw w(Se,`is not ${Ge} ${Ce} object`,nt);if(!nt.allowShared&&Lt(Le.buffer))throw w(Se,"is a view on a SharedArrayBuffer, which is not allowed",nt);return Le}}),Ie.ArrayBufferView=(xe,Ce={})=>{if(!d(xe))throw w(Se,"is not a view on an ArrayBuffer or SharedArrayBuffer",Ce);if(!Ce.allowShared&&Lt(xe.buffer))throw w(Se,"is a view on a SharedArrayBuffer, which is not allowed",Ce);return xe},Ie.BufferSource=(xe,Ce={})=>{if(d(xe)){if(!Ce.allowShared&&Lt(xe.buffer))throw w(Se,"is a view on a SharedArrayBuffer, which is not allowed",Ce);return xe}if(!Ce.allowShared&&!dt(xe))throw w(Se,"is not an ArrayBuffer or a view on one",Ce);if(Ce.allowShared&&!Lt(xe)&&!dt(xe))throw w(Se,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",Ce);return xe},Ie.DOMTimeStamp=Ie["unsigned long long"],Ie.DOMHighResTimeStamp=Ie.double,Ie.Function=St,Ie.VoidFunction=St,Ie["UVString?"]=mt(Ie.USVString),Ie["sequence<double>"]=ot(Ie.double),Ie["sequence<object>"]=ot(Ie.object),Ie["Promise<undefined>"]=At(()=>{}),Ie["sequence<ByteString>"]=ot(Ie.ByteString),Ie["sequence<sequence<ByteString>>"]=ot(Ie["sequence<ByteString>"]),Ie["record<ByteString, ByteString>"]=Dt(Ie.ByteString,Ie.ByteString),Ie["sequence<USVString>"]=ot(Ie.USVString),Ie["sequence<sequence<USVString>>"]=ot(Ie["sequence<USVString>"]),Ie["record<USVString, USVString>"]=Dt(Ie.USVString,Ie.USVString),Ie["sequence<DOMString>"]=ot(Ie.DOMString);function $e(xe,Ce,Ge={}){if(xe<Ce){let Le=`${Ge.prefix?Ge.prefix+": ":""}${Ce} argument${Ce===1?"":"s"} required, but only ${xe} present.`;throw new Se(Le)}}function zt(xe,...Ce){let Ge=!1,Le=[];for(let Je of Ce)for(let at of Je)at.required&&(Ge=!0),$(Le,at);L(Le,(Je,at)=>Je.key==at.key?0:Je.key<at.key?-1:1);let nt={};for(let Je of Le)if("defaultValue"in Je){let at=Je.defaultValue,Be=typeof at;Be==="number"||Be==="boolean"||Be==="string"||Be==="bigint"||Be==="undefined"?nt[Je.key]=Je.converter(at,{}):l(nt,Je.key,{get(){return Je.converter(at,Je.defaultValue)},enumerable:!0})}return function(Je,at={}){let Be=me(Je);switch(Be){case"Undefined":case"Null":case"Object":break;default:throw w(Se,"can not be converted to a dictionary",at)}let xt=Je,tt=v({},nt);if(Je==null&&!Ge)return tt;for(let qe of Le){let Ne=qe.key,Bt;if(Be==="Undefined"||Be==="Null"?Bt=void 0:Bt=xt[Ne],Bt!==void 0){let Qt=`'${Ne}' of '${xe}'${at.context?` (${at.context})`:""}`,Ot=qe.converter,Yt=Ot(Bt,{...at,context:Qt});tt[Ne]=Yt}else if(qe.required)throw w(Se,`can not be converted to '${xe}' because '${Ne}' is required in '${xe}'.`,{...at})}return tt}}function qt(xe,Ce){let Ge=new Ae(Ce);return function(Le,nt={}){let Je=G(Le);if(!Ge.has(Je))throw new Se(`${nt.prefix?nt.prefix+": ":""}The provided value '${Je}' is not a valid enum value of type ${xe}.`);return Je}}function mt(xe){return(Ce,Ge={})=>Ce==null?null:xe(Ce,Ge)}function ot(xe){return function(Ce,Ge={}){if(me(Ce)!=="Object")throw w(Se,"can not be converted to sequence.",Ge);let Le=Ce?.[Q]?.();if(Le===void 0)throw w(Se,"can not be converted to sequence.",Ge);let nt=[];for(;;){let Je=Le?.next?.();if(Je===void 0)throw w(Se,"can not be converted to sequence.",Ge);if(Je.done===!0)break;let at=xe(Je.value,{...Ge,context:`${Ge.context}, index ${nt.length}`});$(nt,at)}return nt}}function Dt(xe,Ce){return(Ge,Le)=>{if(me(Ge)!=="Object")throw w(Se,"can not be converted to dictionary.",Le);let nt={};if(!e.isProxy(Ge)){for(let at in Ge){if(!P(Ge,at))continue;let Be=xe(at,Le),xt=Ge[at],tt=Ce(xt,Le);nt[Be]=tt}return nt}let Je=ge(Ge);for(let at of Je){let Be=T(Ge,at);if(Be!==void 0&&Be.enumerable===!0){let xt=xe(at,Le),tt=Ge[at],qe=Ce(tt,Le);nt[xt]=qe}}return nt}}function At(xe){return(Ce,Ge)=>m(I(Ce),Le=>xe(Le,Ge))}function kt(xe,Ce,Ge,Le,nt){try{let Je=Z(xe,Ge,Ce);return Le(Je,{prefix:nt.prefix,context:"return value"})}catch(Je){if(nt.returnsPromise===!0)return F(Je);throw Je}}let _e=it("[[webidl.brand]]");function N(xe,Ce){return(Ge,Le)=>{if(!(Ge instanceof Ce)||Ge[_e]!==_e)throw w(Se,`is not of type ${xe}.`,Le);return Ge}}function Pe(xe){let Ce=U(xe.prototype);return Ce[_e]=_e,Ce}function Qe(xe,Ce){if(!(xe instanceof Ce)||xe[_e]!==_e)throw new Se("Illegal invocation")}function st(){throw new Se("Illegal constructor")}function ct(xe,Ce){for(let Ge of ge(Ce)){let Le=O(Ce,Ge);if(Le&&!ae(xe,Ge,Le))throw new Se(`Cannot redefine property: ${G(Ge)}`)}}let ut=it("iterator internal"),Et=J(he);function _t(xe,Ce,Ge,Le,nt){let Je=U(Et,{[ve]:{configurable:!0,value:`${xe} Iterator`}});ct(Je,{next(){let tt=this&&this[ut];if(!tt)throw new Se(`next() called on a value that is not a ${xe} iterator object`);let{target:qe,kind:Ne,index:Bt}=tt,Qt=qe[Ge],Ot=Qt.length;if(Bt>=Ot)return{value:void 0,done:!0};let Yt=Qt[Bt];tt.index=Bt+1;let Vt;switch(Ne){case"key":Vt=Yt[Le];break;case"value":Vt=Yt[nt];break;case"key+value":Vt=[Yt[Le],Yt[nt]];break}return{value:Vt,done:!1}}});function at(tt,qe){let Ne=U(Je);return l(Ne,ut,{value:{target:tt,kind:qe,index:0},configurable:!0}),Ne}function Be(){return Qe(this,Ce),at(this,"key+value")}let xt={entries:{value:Be,writable:!0,enumerable:!0,configurable:!0},[Q]:{value:Be,writable:!0,enumerable:!1,configurable:!0},keys:{value:function(){return Qe(this,Ce),at(this,"key")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return Qe(this,Ce),at(this,"value")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(qe,Ne=void 0){Qe(this,Ce);let Bt=`Failed to execute 'forEach' on '${xe}'`;$e(arguments.length,1,{prefix:Bt}),qe=Ie.Function(qe,{prefix:Bt,context:"Argument 1"}),qe=K(qe,Ne??je);let Qt=this[Ge];for(let Ot=0;Ot<Qt.length;Ot++){let Yt=Qt[Ot];qe(Yt[nt],Yt[Le],this)}},writable:!0,enumerable:!0,configurable:!0}};return k(Ce.prototype,xt)}function Pt(xe){let Ce=f(xe.prototype);for(let Ge in Ce){if(Ge==="constructor")continue;let Le=Ce[Ge];"value"in Le&&typeof Le.value=="function"?l(xe.prototype,Ge,{enumerable:!0,writable:!0,configurable:!0}):"get"in Le&&l(xe.prototype,Ge,{enumerable:!0,configurable:!0})}l(xe.prototype,ve,{value:xe.name,enumerable:!1,configurable:!0,writable:!1})}i.__bootstrap??={},i.__bootstrap.webidl={type:me,makeException:w,converters:Ie,requiredArguments:$e,createDictionaryConverter:zt,createEnumConverter:qt,createNullableConverter:mt,createSequenceConverter:ot,createRecordConverter:Dt,createPromiseConverter:At,invokeCallbackFunction:kt,createInterfaceConverter:N,brand:_e,createBranded:Pe,assertBranded:Qe,illegalConstructor:st,mixinPairIterable:_t,configurePrototype:Pt}})(q)}),to=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{ArrayIsArray:d,ArrayPrototypeMap:ce,ArrayPrototypePush:$,ArrayPrototypeSome:L,ArrayPrototypeSort:he,ArrayPrototypeSplice:j,ObjectKeys:te,StringPrototypeSlice:R,Symbol:fe,SymbolFor:Y,SymbolIterator:ne,TypeError:K}=i.__bootstrap.primordials,B=fe("list"),X=fe("url object"),y=1,S=2,h=3,A=4,V=5,M=6,g=7,_=8,ee=9;function ue(k,l,T){return C(e.opSync("op_url_reparse",k,[l,T]))}function D(k,l){return C(e.opSync("op_url_parse",k,l))}function C(k){let{0:l,1:T,2:f,3:J,4:P,5:E,6:m,7:F,8:I,9:Z,10:ae}=k.split(`
`);return{href:l,hash:T,host:f,hostname:J,origin:P,password:E,pathname:m,port:F,protocol:I,search:Z,username:ae}}class p{[B];[X]=null;constructor(l=""){let T="Failed to construct 'URL'";l=t.converters["sequence<sequence<USVString>> or record<USVString, USVString> or USVString"](l,{prefix:T,context:"Argument 1"}),this[t.brand]=t.brand,typeof l=="string"?(l[0]=="?"&&(l=R(l,1)),this[B]=e.opSync("op_url_parse_search_params",l)):d(l)?this[B]=ce(l,(f,J)=>{if(f.length!==2)throw new K(`${T}: Item ${J+0} in the parameter list does have length 2 exactly.`);return[f[0],f[1]]}):this[B]=ce(te(l),f=>[f,l[f]])}#e(){let l=this[X];if(l===null)return;l[u]=ue(l.href,_,this.toString())}append(l,T){t.assertBranded(this,p);let f="Failed to execute 'append' on 'URLSearchParams'";t.requiredArguments(arguments.length,2,{prefix:f}),l=t.converters.USVString(l,{prefix:f,context:"Argument 1"}),T=t.converters.USVString(T,{prefix:f,context:"Argument 2"}),$(this[B],[l,T]),this.#e()}delete(l){t.assertBranded(this,p);let T="Failed to execute 'append' on 'URLSearchParams'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.USVString(l,{prefix:T,context:"Argument 1"});let f=this[B],J=0;for(;J<f.length;)f[J][0]===l?j(f,J,1):J++;this.#e()}getAll(l){t.assertBranded(this,p);let T="Failed to execute 'getAll' on 'URLSearchParams'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.USVString(l,{prefix:T,context:"Argument 1"});let f=[];for(let J of this[B])J[0]===l&&$(f,J[1]);return f}get(l){t.assertBranded(this,p);let T="Failed to execute 'get' on 'URLSearchParams'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.USVString(l,{prefix:T,context:"Argument 1"});for(let f of this[B])if(f[0]===l)return f[1];return null}has(l){t.assertBranded(this,p);let T="Failed to execute 'has' on 'URLSearchParams'";return t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.USVString(l,{prefix:T,context:"Argument 1"}),L(this[B],f=>f[0]===l)}set(l,T){t.assertBranded(this,p);let f="Failed to execute 'set' on 'URLSearchParams'";t.requiredArguments(arguments.length,2,{prefix:f}),l=t.converters.USVString(l,{prefix:f,context:"Argument 1"}),T=t.converters.USVString(T,{prefix:f,context:"Argument 2"});let J=this[B],P=!1,E=0;for(;E<J.length;)J[E][0]===l?P?j(J,E,1):(J[E][1]=T,P=!0,E++):E++;P||$(J,[l,T]),this.#e()}sort(){t.assertBranded(this,p),he(this[B],(l,T)=>l[0]===T[0]?0:l[0]>T[0]?1:-1),this.#e()}toString(){return t.assertBranded(this,p),e.opSync("op_url_stringify_search_params",this[B])}}t.mixinPairIterable("URLSearchParams",p,B,0,1),t.configurePrototype(p);let u=fe("url");class v{[u];#e=null;constructor(l,T=void 0){let f="Failed to construct 'URL'";l=t.converters.DOMString(l,{prefix:f,context:"Argument 1"}),T!==void 0&&(T=t.converters.DOMString(T,{prefix:f,context:"Argument 2"})),this[t.brand]=t.brand,this[u]=D(l,T)}[Y("Deno.privateCustomInspect")](l){let T={href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,hash:this.hash,search:this.search};return`${this.constructor.name} ${l(T)}`}#t(){if(this.#e!==null){let l=this.#e[B],T=e.opSync("op_url_parse_search_params",R(this.search,1));j(l,0,l.length,...T)}}get hash(){return t.assertBranded(this,v),this[u].hash}set hash(l){t.assertBranded(this,v);let T="Failed to set 'hash' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,y,l)}catch{}}get host(){return t.assertBranded(this,v),this[u].host}set host(l){t.assertBranded(this,v);let T="Failed to set 'host' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,S,l)}catch{}}get hostname(){return t.assertBranded(this,v),this[u].hostname}set hostname(l){t.assertBranded(this,v);let T="Failed to set 'hostname' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,h,l)}catch{}}get href(){return t.assertBranded(this,v),this[u].href}set href(l){t.assertBranded(this,v);let T="Failed to set 'href' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"}),this[u]=D(l),this.#t()}get origin(){return t.assertBranded(this,v),this[u].origin}get password(){return t.assertBranded(this,v),this[u].password}set password(l){t.assertBranded(this,v);let T="Failed to set 'password' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,A,l)}catch{}}get pathname(){return t.assertBranded(this,v),this[u].pathname}set pathname(l){t.assertBranded(this,v);let T="Failed to set 'pathname' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,V,l)}catch{}}get port(){return t.assertBranded(this,v),this[u].port}set port(l){t.assertBranded(this,v);let T="Failed to set 'port' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,M,l)}catch{}}get protocol(){return t.assertBranded(this,v),this[u].protocol}set protocol(l){t.assertBranded(this,v);let T="Failed to set 'protocol' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,g,l)}catch{}}get search(){return t.assertBranded(this,v),this[u].search}set search(l){t.assertBranded(this,v);let T="Failed to set 'search' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,_,l),this.#t()}catch{}}get username(){return t.assertBranded(this,v),this[u].username}set username(l){t.assertBranded(this,v);let T="Failed to set 'username' on 'URL'";t.requiredArguments(arguments.length,1,{prefix:T}),l=t.converters.DOMString(l,{prefix:T,context:"Argument 1"});try{this[u]=ue(this[u].href,ee,l)}catch{}}get searchParams(){return this.#e==null&&(this.#e=new p(this.search),this.#e[X]=this),this.#e}toString(){return t.assertBranded(this,v),this[u].href}toJSON(){return t.assertBranded(this,v),this[u].href}}t.configurePrototype(v);function U(k){return e.opSync("op_url_parse_search_params",null,k)}t.converters["sequence<sequence<USVString>> or record<USVString, USVString> or USVString"]=(k,l)=>t.type(k)==="Object"&&k!==null?k[ne]!==void 0?t.converters["sequence<sequence<USVString>>"](k,l):t.converters["record<USVString, USVString>"](k,l):t.converters.USVString(k,l),i.__bootstrap.url={URL:v,URLSearchParams:p,parseUrlEncoded:U}})(q)}),ro=pt(q=>{"use strict";(i=>{let{ArrayPrototypeSlice:e,Error:t,ErrorPrototype:d,ObjectDefineProperty:ce,ObjectEntries:$,ObjectSetPrototypeOf:L,SymbolFor:he}=i.__bootstrap.primordials,j=i.__bootstrap.webidl,te=i.__bootstrap.console,R=1,fe=2,Y=3,ne=4,K=5,B=6,X=7,y=8,S=9,h=10,A=11,V=12,M=13,g=14,_=15,ee=16,ue=17,D=18,C=19,p=20,u=21,v=22,U=23,k=24,l=25,T={IndexSizeError:R,HierarchyRequestError:Y,WrongDocumentError:ne,InvalidCharacterError:K,NoModificationAllowedError:X,NotFoundError:y,NotSupportedError:S,InUseAttributeError:h,InvalidStateError:A,SyntaxError:V,InvalidModificationError:M,NamespaceError:g,InvalidAccessError:_,TypeMismatchError:ue,SecurityError:D,NetworkError:C,AbortError:p,URLMismatchError:u,QuotaExceededError:v,TimeoutError:U,InvalidNodeTypeError:k,DataCloneError:l};class f{#e="";#t="";#r=0;constructor(P="",E="Error"){this.#e=j.converters.DOMString(P,{prefix:"Failed to construct 'DOMException'",context:"Argument 1"}),this.#t=j.converters.DOMString(E,{prefix:"Failed to construct 'DOMException'",context:"Argument 2"}),this.#r=T[this.#t]??0;let m=new t(this.#e);m.name="DOMException",ce(this,"stack",{value:m.stack,writable:!0,configurable:!0}),ce(this,"__callSiteEvals",{value:e(m.__callSiteEvals,1),configurable:!0})}get message(){return this.#e}get name(){return this.#t}get code(){return this.#r}[he("Deno.customInspect")](P){return this instanceof f?`DOMException: ${this.#e}`:P(te.createFilteredInspectProxy({object:this,evaluate:!1,keys:["message","name","code"]}))}}L(f.prototype,d),j.configurePrototype(f);for(let[J,P]of $({INDEX_SIZE_ERR:R,DOMSTRING_SIZE_ERR:fe,HIERARCHY_REQUEST_ERR:Y,WRONG_DOCUMENT_ERR:ne,INVALID_CHARACTER_ERR:K,NO_DATA_ALLOWED_ERR:B,NO_MODIFICATION_ALLOWED_ERR:X,NOT_FOUND_ERR:y,NOT_SUPPORTED_ERR:S,INUSE_ATTRIBUTE_ERR:h,INVALID_STATE_ERR:A,SYNTAX_ERR:V,INVALID_MODIFICATION_ERR:M,NAMESPACE_ERR:g,INVALID_ACCESS_ERR:_,VALIDATION_ERR:ee,TYPE_MISMATCH_ERR:ue,SECURITY_ERR:D,NETWORK_ERR:C,ABORT_ERR:p,URL_MISMATCH_ERR:u,QUOTA_EXCEEDED_ERR:v,TIMEOUT_ERR:U,INVALID_NODE_TYPE_ERR:k,DATA_CLONE_ERR:l})){let E={value:P,enumerable:!0};ce(f,J,E),ce(f.prototype,J,E)}i.__bootstrap.domException={DOMException:f}})(q)}),no=pt(q=>{"use strict";(i=>{let{ArrayPrototypeIncludes:e,Map:t,MapPrototypeHas:d,MapPrototypeSet:ce,RegExpPrototypeTest:$,StringPrototypeReplaceAll:L,StringPrototypeToLowerCase:he}=i.__bootstrap.primordials,{collectSequenceOfCodepoints:j,HTTP_WHITESPACE:te,HTTP_WHITESPACE_PREFIX_RE:R,HTTP_WHITESPACE_SUFFIX_RE:fe,HTTP_QUOTED_STRING_TOKEN_POINT_RE:Y,HTTP_TOKEN_CODE_POINT_RE:ne,collectHttpQuotedString:K}=i.__bootstrap.infra;function B(S){S=L(S,R,""),S=L(S,fe,"");let h=0,A=S.length,V=j(S,h,ue=>ue!="/"),M=V.result;if(h=V.position,M===""||!$(ne,M))return null;if(h>=A)return null;h++;let g=j(S,h,ue=>ue!=";"),_=g.result;if(h=g.position,_=L(_,fe,""),_===""||!$(ne,_))return null;let ee={type:he(M),subtype:he(_),parameters:new t};for(;h<A;){h++;let ue=j(S,h,u=>e(te,u));h=ue.position;let D=j(S,h,u=>u!==";"&&u!=="="),C=D.result;if(h=D.position,C=he(C),h<A){if(S[h]==";")continue;h++}if(h>=A)break;let p=null;if(S[h]==='"'){let u=K(S,h,!0);p=u.result,h=u.position,h++}else{let u=j(S,h,v=>v!==";");if(p=u.result,h=u.position,p=L(p,fe,""),p==="")continue}C!==""&&$(ne,C)&&$(Y,p)&&!d(ee.parameters,C)&&ce(ee.parameters,C,p)}return ee}function X(S){return`${S.type}/${S.subtype}`}function y(S){let h=X(S);for(let A of S.parameters){h+=`;${A[0]}=`;let V=A[1];$(ne,V)||(V=L(V,"\\","\\\\"),V=L(V,'"','\\"'),V=`"${V}"`),h+=V}return h}i.__bootstrap.mimesniff={parseMimeType:B,essence:X,serializeMimeType:y}})(q)}),oo=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{DOMException:t}=i.__bootstrap.domException,d=i.__bootstrap.console,{ArrayPrototypeFilter:ce,ArrayPrototypeIncludes:$,ArrayPrototypeIndexOf:L,ArrayPrototypeMap:he,ArrayPrototypePush:j,ArrayPrototypeSlice:te,ArrayPrototypeSplice:R,ArrayPrototypeUnshift:fe,Boolean:Y,DateNow:ne,Error:K,FunctionPrototypeCall:B,Map:X,MapPrototypeGet:y,MapPrototypeSet:S,ObjectCreate:h,ObjectDefineProperty:A,ObjectGetOwnPropertyDescriptor:V,ReflectDefineProperty:M,Symbol:g,SymbolFor:_,SymbolToStringTag:ee,TypeError:ue}=i.__bootstrap.primordials;function D(_e){return Y(_e[we])}function C(_e){return _e[G]??[]}function p(_e){return Y(_e[O])}function u(_e,N){_e[I].currentTarget=N}function v(_e,N){_e[Ae]=N}function U(_e,N){_e[we]=N}function k(_e,N){_e[I].eventPhase=N}function l(_e,N){_e[ge]=N}function T(_e,N){_e[G]=N}function f(_e,N){_e[I].relatedTarget=N}function J(_e,N){_e[I].target=N}function P(_e,N){_e[O]=N}function E(_e){return"relatedTarget"in _e}let m=V({get isTrusted(){return this[Ae]}},"isTrusted").get,F=e.createDictionaryConverter("EventInit",[{key:"bubbles",defaultValue:!1,converter:e.converters.boolean},{key:"cancelable",defaultValue:!1,converter:e.converters.boolean},{key:"composed",defaultValue:!1,converter:e.converters.boolean}]),I=g("[[attributes]]"),Z=g("[[canceledFlag]]"),ae=g("[[stopPropagationFlag]]"),O=g("[[stopImmediatePropagationFlag]]"),ge=g("[[inPassiveListener]]"),we=g("[[dispatched]]"),Ae=g("[[isTrusted]]"),G=g("[[path]]");class pe{constructor(N,Pe={}){this[ee]="Event",this[Z]=!1,this[ae]=!1,this[O]=!1,this[ge]=!1,this[we]=!1,this[Ae]=!1,this[G]=[],e.requiredArguments(arguments.length,1,{prefix:"Failed to construct 'Event'"}),N=e.converters.DOMString(N,{prefix:"Failed to construct 'Event'",context:"Argument 1"});let Qe=F(Pe,{prefix:"Failed to construct 'Event'",context:"Argument 2"});this[I]={type:N,...Qe,currentTarget:null,eventPhase:pe.NONE,target:null,timeStamp:ne()},M(this,"isTrusted",{enumerable:!0,get:m})}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof pe,keys:it}))}get type(){return this[I].type}get target(){return this[I].target}get srcElement(){return null}set srcElement(N){}get currentTarget(){return this[I].currentTarget}composedPath(){let N=this[G];if(N.length===0)return[];if(!this.currentTarget)throw new K("assertion error");let Pe=[{item:this.currentTarget,itemInShadowTree:!1,relatedTarget:null,rootOfClosedTree:!1,slotInClosedTree:!1,target:null,touchTargetList:[]}],Qe=0,st=0;for(let Et=N.length-1;Et>=0;Et--){let{item:_t,rootOfClosedTree:Pt,slotInClosedTree:xe}=N[Et];if(Pt&&st++,_t===this.currentTarget){Qe=Et;break}xe&&st--}let ct=st,ut=st;for(let Et=Qe-1;Et>=0;Et--){let{item:_t,rootOfClosedTree:Pt,slotInClosedTree:xe}=N[Et];Pt&&ct++,ct<=ut&&fe(Pe,{item:_t,itemInShadowTree:!1,relatedTarget:null,rootOfClosedTree:!1,slotInClosedTree:!1,target:null,touchTargetList:[]}),xe&&(ct--,ct<ut&&(ut=ct))}ct=st,ut=st;for(let Et=Qe+1;Et<N.length;Et++){let{item:_t,rootOfClosedTree:Pt,slotInClosedTree:xe}=N[Et];xe&&ct++,ct<=ut&&j(Pe,{item:_t,itemInShadowTree:!1,relatedTarget:null,rootOfClosedTree:!1,slotInClosedTree:!1,target:null,touchTargetList:[]}),Pt&&(ct--,ct<ut&&(ut=ct))}return he(Pe,Et=>Et.item)}get NONE(){return pe.NONE}get CAPTURING_PHASE(){return pe.CAPTURING_PHASE}get AT_TARGET(){return pe.AT_TARGET}get BUBBLING_PHASE(){return pe.BUBBLING_PHASE}static get NONE(){return 0}static get CAPTURING_PHASE(){return 1}static get AT_TARGET(){return 2}static get BUBBLING_PHASE(){return 3}get eventPhase(){return this[I].eventPhase}stopPropagation(){this[ae]=!0}get cancelBubble(){return this[ae]}set cancelBubble(N){this[ae]=e.converters.boolean(N)}stopImmediatePropagation(){this[ae]=!0,this[O]=!0}get bubbles(){return this[I].bubbles}get cancelable(){return this[I].cancelable}get returnValue(){return!this[Z]}set returnValue(N){e.converters.boolean(N)||(this[Z]=!0)}preventDefault(){this[I].cancelable&&!this[ge]&&(this[Z]=!0)}get defaultPrevented(){return this[Z]}get composed(){return this[I].composed}get initialized(){return!0}get timeStamp(){return this[I].timeStamp}}function Ue(_e,N){for(let Pe of N)M(_e.prototype,Pe,{enumerable:!0})}let it=["bubbles","cancelable","composed","currentTarget","defaultPrevented","eventPhase","srcElement","target","returnValue","timeStamp","type"];Ue(pe,it);let Q=11;function ve(_e){return Te(_e)?_e.parentNode:null}function Se(_e){return Te(_e)?_e.getRootNode({composed:!0}):null}function Te(_e){return Y(_e&&"nodeType"in _e)}function Fe(_e,N){for(;Te(N);){if(N===_e)return!0;z(N)?N=N&&Ft(N):N=ve(N)}return!1}function z(_e){return Y(_e&&Te(_e)&&_e.nodeType===Q&&Ft(_e)!=null)}function ie(_e){return Y(Te(_e)&&"assignedSlot"in _e)}function w(_e,N,Pe,Qe,st,ct){let ut=Te(N)&&z(Se(N)),Et=z(N)&&dt(N)==="closed";j(C(_e),{item:N,itemInShadowTree:ut,target:Pe,relatedTarget:Qe,touchTargetList:st,rootOfClosedTree:Et,slotInClosedTree:ct})}function le(_e,N,Pe){let Qe=!1,st=null;U(N,!0),Pe=Pe??_e;let ct=E(N)?N.relatedTarget:null,ut=Re(ct,_e);if(_e!==ut||_e===ct){let Et=[];w(N,_e,Pe,ut,Et,!1);let _t=N.type==="click";_t&&Ie(_e)&&(st=_e);let Pt=!1,xe=ie(_e)&&gt(_e)?_e:null,Ce=ve(_e);for(;Ce!==null;){if(xe!==null){xe=null;let Je=Se(Ce);z(Je)&&Je&&dt(Je)==="closed"&&(Pt=!0)}ut=Re(ct,Ce),Te(Ce)&&Fe(Se(_e),Ce)?w(N,Ce,null,ut,Et,Pt):Ce===ut?Ce=null:(_e=Ce,_t&&st===null&&Ie(_e)&&(st=_e),w(N,Ce,_e,ut,Et,Pt)),Ce!==null&&(Ce=ve(Ce)),Pt=!1}let Ge=-1,Le=C(N);for(let Je=Le.length-1;Je>=0&&Ge===-1;Je--)Le[Je].target!==null&&(Ge=Je);let nt=Le[Ge];Qe=Te(nt.target)&&z(Se(nt.target))||Te(nt.relatedTarget)&&z(Se(nt.relatedTarget)),k(N,pe.CAPTURING_PHASE);for(let Je=Le.length-1;Je>=0;--Je){let at=Le[Je];at.target===null&&b(at,N)}for(let Je=0;Je<Le.length;Je++){let at=Le[Je];at.target!==null?k(N,pe.AT_TARGET):k(N,pe.BUBBLING_PHASE),(N.eventPhase===pe.BUBBLING_PHASE&&N.bubbles||N.eventPhase===pe.AT_TARGET)&&b(at,N)}}return k(N,pe.NONE),u(N,null),T(N,[]),U(N,!1),N.cancelBubble=!1,P(N,!1),Qe&&(J(N,null),f(N,null)),!N.defaultPrevented}function me(_e,N){let Pe=!1,{type:Qe}=_e;if(!N||!N[Qe])return Pe;let st=te(N[Qe]);for(let ct=0;ct<st.length;ct++){let ut=st[ct],Et,_t,Pt;if(typeof ut.options=="boolean"?(Et=ut.options,_t=!1,Pt=!1):(Et=ut.options.capture,_t=ut.options.once,Pt=ut.options.passive),!$(N[Qe],ut))continue;if(Pe=!0,_e.eventPhase===pe.CAPTURING_PHASE&&!Et||_e.eventPhase===pe.BUBBLING_PHASE&&Et)continue;if(_t&&R(N[Qe],L(N[Qe],ut),1),Pt&&l(_e,!0),typeof ut.callback=="object"?typeof ut.callback.handleEvent=="function"&&ut.callback.handleEvent(_e):B(ut.callback,_e.currentTarget,_e),l(_e,!1),p(_e))return Pe}return Pe}function b(_e,N){let Pe=C(N),Qe=L(Pe,_e);for(let st=Qe;st>=0;st--){let ct=Pe[st];if(ct.target){J(N,ct.target);break}}if(f(N,_e.relatedTarget),N.cancelBubble)return;u(N,_e.item),me(N,St(_e.item))}function re(_e){return typeof _e=="boolean"||typeof _e=="undefined"?{capture:Y(_e),once:!1,passive:!1}:_e}function De(_e){return typeof _e=="boolean"||typeof _e=="undefined"?{capture:Y(_e)}:_e}function Re(_e,N){for(;;){if(!Te(_e))return _e;let Pe=_e.getRootNode();if(Pe){if(!z(Pe)||Te(N)&&Fe(Pe,N))return _e;_e=Ft(Pe)}}}let ye=g();function Ze(_e){_e[ye]=Lt()}function gt(_e){return Y(_e?.[ye]?.assignedSlot)}function Ie(_e){return Y(_e?.[ye]?.hasActivationBehavior)}function Ft(_e){return _e?.[ye]?.host??null}function St(_e){return _e?.[ye]?.listeners??{}}function dt(_e){return _e?.[ye]?.mode??null}function Lt(){return{assignedSlot:!1,hasActivationBehavior:!1,host:null,listeners:h(null),mode:""}}class Tt{constructor(){this[ye]=Lt()}addEventListener(N,Pe,Qe){if(e.requiredArguments(arguments.length,2,{prefix:"Failed to execute 'addEventListener' on 'EventTarget'"}),Pe===null)return;Qe=re(Qe);let{listeners:st}=(this??je)[ye];N in st||(st[N]=[]);for(let ct of st[N])if((typeof ct.options=="boolean"&&ct.options===Qe.capture||typeof ct.options=="object"&&ct.options.capture===Qe.capture)&&ct.callback===Pe)return;if(Qe?.signal){let ct=Qe?.signal;if(ct.aborted)return;ct.addEventListener("abort",()=>{this.removeEventListener(N,Pe,Qe)})}else if(Qe?.signal===null)throw new ue("signal must be non-null");j(st[N],{callback:Pe,options:Qe})}removeEventListener(N,Pe,Qe){e.requiredArguments(arguments.length,2,{prefix:"Failed to execute 'removeEventListener' on 'EventTarget'"});let{listeners:st}=(this??je)[ye];if(Pe!==null&&N in st)st[N]=ce(st[N],ct=>ct.callback!==Pe);else if(Pe===null||!st[N])return;Qe=De(Qe);for(let ct=0;ct<st[N].length;++ct){let ut=st[N][ct];if((typeof ut.options=="boolean"&&ut.options===Qe.capture||typeof ut.options=="object"&&ut.options.capture===Qe.capture)&&ut.callback===Pe){R(st[N],ct,1);break}}}dispatchEvent(N){e.requiredArguments(arguments.length,1,{prefix:"Failed to execute 'dispatchEvent' on 'EventTarget'"});let Pe=this??je,{listeners:Qe}=Pe[ye];if(!(N.type in Qe))return J(N,this),!0;if(D(N))throw new t("Invalid event state.","InvalidStateError");if(N.eventPhase!==pe.NONE)throw new t("Invalid event state.","InvalidStateError");return le(Pe,N)}getParent(N){return null}}e.configurePrototype(Tt),Ue(Tt,["addEventListener","removeEventListener","dispatchEvent"]);class $e extends pe{#e="";#t="";#r="";#n="";#o="";get message(){return this.#e}get filename(){return this.#t}get lineno(){return this.#r}get colno(){return this.#n}get error(){return this.#o}constructor(N,{bubbles:Pe,cancelable:Qe,composed:st,message:ct="",filename:ut="",lineno:Et=0,colno:_t=0,error:Pt=null}={}){super(N,{bubbles:Pe,cancelable:Qe,composed:st});this.#e=ct,this.#t=ut,this.#r=Et,this.#n=_t,this.#o=Pt}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof $e,keys:[...it,"message","filename","lineno","colno","error"]}))}[ee]="ErrorEvent"}Ue($e,["message","filename","lineno","colno","error"]);class zt extends pe{#e="";#t="";#r="";get wasClean(){return this.#e}get code(){return this.#t}get reason(){return this.#r}constructor(N,{bubbles:Pe,cancelable:Qe,composed:st,wasClean:ct=!1,code:ut=0,reason:Et=""}={}){super(N,{bubbles:Pe,cancelable:Qe,composed:st});this.#e=ct,this.#t=ut,this.#r=Et}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof zt,keys:[...it,"wasClean","code","reason"]}))}}class qt extends pe{get source(){return null}constructor(N,Pe){super(N,{bubbles:Pe?.bubbles??!1,cancelable:Pe?.cancelable??!1,composed:Pe?.composed??!1});this.data=Pe?.data??null,this.ports=Pe?.ports??[],this.origin=Pe?.origin??"",this.lastEventId=Pe?.lastEventId??""}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof qt,keys:[...it,"data","origin","lastEventId"]}))}[ee]="CloseEvent"}class mt extends pe{#e=null;constructor(N,Pe={}){super(N,Pe);e.requiredArguments(arguments.length,1,{prefix:"Failed to construct 'CustomEvent'"});let{detail:Qe}=Pe;this.#e=Qe}get detail(){return this.#e}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof mt,keys:[...it,"detail"]}))}[ee]="CustomEvent"}M(mt.prototype,"detail",{enumerable:!0});class ot extends pe{constructor(N,Pe={}){super(N,Pe);this.lengthComputable=Pe?.lengthComputable??!1,this.loaded=Pe?.loaded??0,this.total=Pe?.total??0}[_("Deno.privateCustomInspect")](N){return N(d.createFilteredInspectProxy({object:this,evaluate:this instanceof ot,keys:[...it,"lengthComputable","loaded","total"]}))}[ee]="ProgressEvent"}let Dt=g("eventHandlers");function At(_e,N){function Pe(Qe){if(typeof Pe.handler!="function")return;if(N&&Qe instanceof $e&&Qe.type==="error"){let st=B(Pe.handler,this,Qe.message,Qe.filename,Qe.lineno,Qe.colno,Qe.error);st===!0&&Qe.preventDefault();return}return B(Pe.handler,this,Qe)}return Pe.handler=_e,Pe}function kt(_e,N,Pe=void 0,Qe=!1){A(_e,`on${N}`,{get(){return this[Dt]?y(this[Dt],N)?.handler??null:null},set(st){typeof st!="object"&&typeof st!="function"&&(st=null),this[Dt]||(this[Dt]=new X);let ct=y(this[Dt],N);ct?ct.handler=st:st!==null&&(ct=At(st,Qe),this.addEventListener(N,ct),Pe?.(this)),S(this[Dt],N,ct)},configurable:!0,enumerable:!0})}i.Event=pe,i.EventTarget=Tt,i.ErrorEvent=$e,i.CloseEvent=zt,i.MessageEvent=qt,i.CustomEvent=mt,i.ProgressEvent=ot,i.dispatchEvent=Tt.prototype.dispatchEvent,i.addEventListener=Tt.prototype.addEventListener,i.removeEventListener=Tt.prototype.removeEventListener,i.__bootstrap.eventTarget={EventTarget:Tt,setEventTargetData:Ze},i.__bootstrap.event={setIsTrusted:v,setTarget:J,defineEventHandler:kt}})(q)}),so=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{setIsTrusted:t,defineEventHandler:d}=i.__bootstrap.event,{Set:ce,SetPrototypeAdd:$,SetPrototypeDelete:L,Symbol:he,TypeError:j}=i.__bootstrap.primordials,te=he("[[add]]"),R=he("[[signalAbort]]"),fe=he("[[remove]]"),Y=he("[[abortReason]]"),ne=he("[[abortAlgos]]"),K=he("[[signal]]"),B=he("illegalConstructorKey");class X extends EventTarget{static abort(V=void 0){V!==void 0&&(V=e.converters.any(V));let M=new X(B);return M[R](V),M}[te](V){if(this.aborted)return;this[ne]===null&&(this[ne]=new ce),$(this[ne],V)}[R](V=new DOMException("The signal has been aborted","AbortError")){if(this.aborted)return;if(this[Y]=V,this[ne]!==null){for(let g of this[ne])g();this[ne]=null}let M=new Event("abort");t(M,!0),this.dispatchEvent(M)}[fe](V){this[ne]&&L(this[ne],V)}constructor(V=null){if(V!=B)throw new j("Illegal constructor.");super();this[Y]=void 0,this[ne]=null,this[e.brand]=e.brand}get aborted(){return e.assertBranded(this,X),this[Y]!==void 0}get reason(){return e.assertBranded(this,X),this[Y]}}d(X.prototype,"abort"),e.configurePrototype(X);class y{[K]=new X(B);constructor(){this[e.brand]=e.brand}get signal(){return e.assertBranded(this,y),this[K]}abort(V){e.assertBranded(this,y),this[K][R](V)}}e.configurePrototype(y),e.converters.AbortSignal=e.createInterfaceConverter("AbortSignal",X);function S(){return new X(B)}function h(A,V){if(A.aborted)return;V.aborted?A[R](V.reason):V[te](()=>A[R](V.reason))}i.AbortSignal=X,i.AbortController=y,i.__bootstrap.abortSignal={add:te,signalAbort:R,remove:fe,follow:h,newSignal:S}})(q)}),io=pt(q=>{"use strict";(i=>{let{EventTarget:e}=i,{Symbol:t,SymbolToStringTag:d,TypeError:ce}=i.__bootstrap.primordials,$=t("illegalConstructorKey");class L extends e{constructor(R=null){if(R!==$)throw new ce("Illegal constructor.");super()}get[d](){return"Window"}}class he extends e{constructor(R=null){if(R!=$)throw new ce("Illegal constructor.");super()}get[d](){return"WorkerGlobalScope"}}class j extends he{constructor(R=null){if(R!=$)throw new ce("Illegal constructor.");super()}get[d](){return"DedicatedWorkerGlobalScope"}}i.__bootstrap.globalInterfaces={DedicatedWorkerGlobalScope:j,Window:L,WorkerGlobalScope:he,dedicatedWorkerGlobalScopeConstructorDescriptor:{configurable:!0,enumerable:!1,value:j,writable:!0},windowConstructorDescriptor:{configurable:!0,enumerable:!1,value:L,writable:!0},workerGlobalScopeConstructorDescriptor:{configurable:!0,enumerable:!1,value:he,writable:!0}}})(q)}),ao=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{add:t,remove:d,signalAbort:ce,newSignal:$}=i.__bootstrap.abortSignal,{ArrayBuffer:L,ArrayBufferIsView:he,ArrayPrototypeMap:j,ArrayPrototypePush:te,ArrayPrototypeShift:R,BigInt64Array:fe,BigUint64Array:Y,DataView:ne,Error:K,Int8Array:B,Int16Array:X,Int32Array:y,NumberIsInteger:S,NumberIsNaN:h,MathMin:A,ObjectCreate:V,ObjectDefineProperties:M,ObjectDefineProperty:g,ObjectGetPrototypeOf:_,ObjectSetPrototypeOf:ee,Promise:ue,PromiseAll:D,PromisePrototypeCatch:C,PromisePrototypeThen:p,PromiseReject:u,PromiseResolve:v,queueMicrotask:U,RangeError:k,SharedArrayBuffer:l,Symbol:T,SymbolAsyncIterator:f,SymbolFor:J,TypeError:P,Uint8Array:E,Uint16Array:m,Uint32Array:F,Uint8ClampedArray:I,WeakMap:Z,WeakMapPrototypeGet:ae,WeakMapPrototypeHas:O,WeakMapPrototypeSet:ge}=je.__bootstrap.primordials,we=i.__bootstrap.console;class Ae extends K{constructor(n){super(n);this.name="AssertionError"}}function G(r,n="Assertion failed."){if(!r)throw new Ae(n)}class pe{#e;#t;#r;#n="pending";constructor(){this.#e=new ue((n,c)=>{this.#r=n,this.#t=c})}get promise(){return this.#e}get state(){return this.#n}reject(n){if(this.#n!=="pending")return;this.#n="fulfilled",this.#t(n)}resolve(n){if(this.#n!=="pending")return;this.#n="fulfilled",this.#r(n)}}function Ue(r){return new ue(n=>n(r))}function it(r){r&&r instanceof Ae&&U(()=>{console.error(`Internal Error: ${r.stack}`)})}function Q(r){p(r,void 0,it)}function ve(r,n,c){return p(r,n,c)}function Se(r,n){Fe(r,n)}function Te(r,n){Fe(r,void 0,n)}function Fe(r,n,c){p(p(r,n,c),void 0,it)}let z=T("<<detached>>");function ie(r){return z in r}function w(r){return G(typeof r=="object"),G(r instanceof L||r instanceof l),!ie(r)}function le(r){G(!ie(r));let n=r.slice(0);return g(r,"byteLength",{get(){return 0}}),r[z]=!0,n}function me(r){G(typeof r=="object"),G(he(r)),G(!ie(r.buffer));let n=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength);return new E(n)}let b=T("[[abortAlgorithm]]"),re=T("[[AbortSteps]]"),De=T("[[autoAllocateChunkSize]]"),Re=T("[[backpressure]]"),ye=T("[[backpressureChangePromise]]"),Ze=T("[[byobRequest]]"),gt=T("[[cancelAlgorithm]]"),Ie=T("[[CancelSteps]]"),Ft=T("close sentinel"),St=T("[[closeAlgorithm]]"),dt=T("[[closedPromise]]"),Lt=T("[[closeRequest]]"),Tt=T("[[closeRequested]]"),$e=T("[[controller]]"),zt=T("[[Detached]]"),qt=T("[[disturbed]]"),mt=T("[[ErrorSteps]]"),ot=T("[[flushAlgorithm]]"),Dt=T("[[globalObject]]"),At=T("[[highWaterMark]]"),kt=T("[[inFlightCloseRequest]]"),_e=T("[[inFlightWriteRequest]]"),N=T("[pendingAbortRequest]"),Pe=T("[[pendingPullIntos]]"),Qe=T("[[preventCancel]]"),st=T("[[pullAgain]]"),ct=T("[[pullAlgorithm]]"),ut=T("[[pulling]]"),Et=T("[[PullSteps]]"),_t=T("[[queue]]"),Pt=T("[[queueTotalSize]]"),xe=T("[[readable]]"),Ce=T("[[reader]]"),Ge=T("[[readRequests]]"),Le=T("[[readIntoRequests]]"),nt=T("[[readyPromise]]"),Je=T("[[signal]]"),at=T("[[started]]"),Be=T("[[state]]"),xt=T("[[storedError]]"),tt=T("[[strategyHWM]]"),qe=T("[[strategySizeAlgorithm]]"),Ne=T("[[stream]]"),Bt=T("[[transformAlgorithm]]"),Qt=T("[[view]]"),Ot=T("[[writable]]"),Yt=T("[[writeAlgorithm]]"),Vt=T("[[writer]]"),Mt=T("[[writeRequests]]");function jt(r){return new Or(r)}function Rr(r){let n=e.createBranded(Lr);return Mn(n,r),n}function Gr(r){return new wr(r)}function Ir(r,n,c,de=1,Ee=()=>1){G(ke(de));let Me=e.createBranded(rr);H(Me);let rt=e.createBranded(Br);return Fn(Me,rt,r,n,c,de,Ee),Me}function Fr(r,n,c,de,Ee,Me){G(ke(Ee));let rt=e.createBranded(kr);se(rt);let ft=e.createBranded(qr);return On(rt,ft,r,n,c,de,Ee,Me),rt}function mr(r){G(_t in r&&Pt in r),G(r[_t].length);let n=R(r[_t]);return r[Pt]-=n.size,r[Pt]<0&&(r[Pt]=0),n.value}function He(r,n,c){if(G(_t in r&&Pt in r),ke(c)===!1)throw k("chunk size isn't a positive number");if(c===Infinity)throw k("chunk size is invalid");te(r[_t],{value:n,size:c}),r[Pt]+=c}function o(r,n){if(r.highWaterMark===void 0)return n;let c=r.highWaterMark;if(h(c)||c<0)throw k(`Expected highWaterMark to be a positive number or Infinity, got "${c}".`);return c}function s(r){return r.size===void 0?()=>1:n=>e.invokeCallbackFunction(r.size,[n],void 0,e.converters["unrestricted double"],{prefix:"Failed to call `sizeAlgorithm`"})}function a(r,n,c){let de=e.createBranded(rr);H(de);let Ee=e.createBranded(dr);return In(de,Ee,r,n,c,0,void 0),de}function H(r){r[Be]="readable",r[Ce]=r[xt]=void 0,r[qt]=!1}function W(r,n,c,de,Ee,Me){function rt(){return n.promise}function ft(ir){return hs(r,ir)}function Ct(ir){return fs(r,ir)}function vt(){return ps(r)}r[Ot]=Fr(rt,ft,vt,Ct,c,de);function bt(){return ys(r)}function Nt(ir){return mn(r,ir),Ue(void 0)}r[xe]=Ir(rt,bt,Nt,Ee,Me),r[Re]=r[ye]=void 0,bn(r,!0),r[$e]=void 0}function se(r){r[Be]="writable",r[xt]=r[Vt]=r[$e]=r[_e]=r[Lt]=r[kt]=r[N]=void 0,r[Mt]=[],r[Re]=!1}function ke(r){return typeof r!="number"||h(r)?!1:!(r<0)}function Ve(r){return!(typeof r!="object"||r===null||!($e in r))}function Ke(r){return!(r[Ce]===void 0)}function Wt(r){return!(typeof r!="object"||r===null||!(Ge in r))}function It(r){return!(typeof r!="object"||r===null||!(Le in r))}function Zt(r){return G(Ve(r)),r[qt]}function fr(r){return!(typeof r!="object"||r===null||!($e in r))}function cr(r){return!(r[Vt]===void 0)}function wn(r){G(_t in r&&Pt in r),G(r[_t].length);let n=r[_t][0];return n.value}function Ur(r){let n=Kr(r);if(!n)return;if(r[ut]){r[st]=!0;return}G(r[st]===!1),r[ut]=!0;let c=r[ct](r);Q(p(c,()=>{r[ut]=!1,r[st]&&(r[st]=!1,Ur(r))},de=>{pr(r,de)}))}function Zr(r){r[ct]=void 0,r[gt]=void 0}function pr(r,n){let c=r[Ne];if(c[Be]!=="readable")return;pn(r),Cr(r),Zr(r),$t(c,n)}function pn(r){We(r),r[Pe]=[]}function Hr(r){let n=r[Ne];if(r[Tt]||n[Be]!=="readable")return;if(r[Pt]>0){r[Tt]=!0;return}if(r[Pe].length!==0){let c=r[Pe][0];if(c.bytesFilled>0){let de=new P("Insufficient bytes to fill elements in the given buffer");throw pr(r,de),de}}Zr(r),Mr(n)}function Wr(r,n){let c=r[Ne];if(r[Tt]||r[Ne][Be]!=="readable")return;let{buffer:de,byteOffset:Ee,byteLength:Me}=n;if(ie(de))throw new P("chunk's buffer is detached and so cannot be enqueued");let rt=le(de);if(r[Pe].length!==0){let ft=r[Pe][0];if(ie(ft.buffer))throw new P("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");ft.buffer=le(ft.buffer)}if(We(r),Ht(c))if(lr(c)===0)G(r[Pe].length===0),Xr(r,rt,Ee,Me);else{G(r[_t].length===0),r[Pe].length!==0&&(G(r[Pe][0].readerType==="default"),ht(r));let ft=new E(rt,Ee,Me);er(c,ft,!1)}else tr(c)?(Xr(r,rt,Ee,Me),x(r)):(G(Ke(c)===!1),Xr(r,rt,Ee,Me));Ur(r)}function Xr(r,n,c,de){te(r[_t],{buffer:n,byteOffset:c,byteLength:de}),r[Pt]+=de}function on(r){if(r[Ze]===null&&r[Pe].length!==0){let n=r[Pe][0],c=new E(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),de=e.createBranded(jr);de[$e]=r,de[Qt]=c,r[Ze]=de}return r[Ze]}function sn(r){let n=r[Ne][Be];return n==="errored"?null:n==="closed"?0:r[tt]-r[Pt]}function Cr(r){r[_t]=[],r[Pt]=0}function an(r){G(r[Ne][Be]==="readable"),r[Pt]===0&&r[Tt]?(Zr(r),Mr(r[Ne])):Ur(r)}function Kr(r){let n=r[Ne];if(n[Be]!=="readable"||r[Tt]||!r[at])return!1;if(Ht(n)&&lr(n)>0)return!0;if(tr(n)&&Jt(n)>0)return!0;let c=sn(r);return G(c!==null),c>0}function cn(r,n){G(Wt(r[Ce])),G(r[Be]==="readable"),te(r[Ce][Ge],n)}function un(r,n){G(It(r[Ce])),G(r[Be]==="readable"||r[Be]==="closed"),te(r[Ce][Le],n)}function nr(r,n){if(r[qt]=!0,r[Be]==="closed")return Ue(void 0);if(r[Be]==="errored")return u(r[xt]);Mr(r);let c=r[Ce];if(c!==void 0&&It(c)){for(let Ee of c[Le])Ee.closeSteps(void 0);c[Le]=[]}let de=r[$e][Ie](n);return p(de,()=>{})}function Mr(r){G(r[Be]==="readable"),r[Be]="closed";let n=r[Ce];if(!n)return;if(Wt(n)){let c=n[Ge];for(let de of c)de.closeSteps();n[Ge]=[]}n[dt].resolve(void 0)}function or(r){let n=hn(r);if(n===!1)return;if(r[ut]===!0){r[st]=!0;return}G(r[st]===!1),r[ut]=!0;let c=r[ct](r);Se(c,()=>{r[ut]=!1,r[st]===!0&&(r[st]=!1,or(r))}),Te(c,de=>{Sr(r,de)})}function ur(r){let n=r[Ne][Be];return r[Tt]===!1&&n==="readable"}function br(r){r[ct]=void 0,r[gt]=void 0,r[qe]=void 0}function Tr(r){if(ur(r)===!1)return;let n=r[Ne];r[Tt]=!0,r[_t].length===0&&(br(r),Mr(n))}function vr(r,n){if(ur(r)===!1)return;let c=r[Ne];if(Ke(c)===!0&&lr(c)>0)er(c,n,!1);else{let de;try{de=r[qe](n)}catch(Ee){throw Sr(r,Ee),Ee}try{He(r,n,de)}catch(Ee){throw Sr(r,Ee),Ee}}or(r)}function Sr(r,n){let c=r[Ne];if(c[Be]!=="readable")return;Cr(r),br(r),$t(c,n)}function Ar(r){let n=r[Ne][Be];return n==="errored"?null:n==="closed"?0:r[tt]-r[Pt]}function en(r){return!(hn(r)===!0)}function hn(r){let n=r[Ne];if(ur(r)===!1)return!1;if(r[at]===!1)return!1;if(Ke(n)&&lr(n)>0)return!0;let c=Ar(r);return G(c!==null),c>0}function yn(r,n,c){let de=r[Ne];G(de),de[qt]=!0,de[Be]==="errored"?c.errorSteps(de[xt]):oe(de[$e],n,c)}function x(r){for(G(!r[Tt]);r[Pe].length!==0;){if(r[Pt]===0)return;let n=r[Pe][0];Rt(r,n)&&(ht(r),Ye(r[Ne],n))}}function oe(r,n,c){let de=r[Ne],Ee=1,Me=ne;(n instanceof B||n instanceof E||n instanceof I||n instanceof X||n instanceof m||n instanceof y||n instanceof F||n instanceof fe||n instanceof Y)&&(Ee=n.constructor.BYTES_PER_ELEMENT,Me=n.constructor);let rt=n.byteOffset,ft=n.byteLength,Ct;try{Ct=le(n.buffer)}catch(bt){c.errorSteps(bt);return}let vt={buffer:Ct,bufferByteLength:Ct.byteLength,byteOffset:rt,byteLength:ft,bytesFilled:0,elementSize:Ee,viewConstructor:Me,readerType:"byob"};if(r[Pe].length!==0){te(r[Pe],vt),un(de,c);return}if(de[Be]==="closed"){let bt=new Me(vt.buffer,vt.byteOffset,0);c.closeSteps(bt);return}if(r[Pt]>0){if(Rt(r,vt)){let bt=lt(vt);an(r),c.chunkSteps(bt);return}if(r[Tt]){let bt=new P("Insufficient bytes to fill elements in the given buffer");pr(r,bt),c.errorSteps(bt);return}}r[Pe].push(vt),un(de,c),Ur(r)}function be(r,n){G(r[Pe].length!==0);let c=r[Pe][0],de=r[Ne][Be];if(de==="closed"){if(n!==0)throw new P("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(G(de==="readable"),n===0)throw new P("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(c.bytesFilled+n>c.byteLength)throw new k("bytesWritten out of range")}c.buffer=le(c.buffer),Xe(r,n)}function Oe(r,n,c){if(G(c.bytesFilled+n<=c.byteLength),Ut(r,n,c),c.bytesFilled<c.elementSize)return;ht(r);let de=c.bytesFilled%c.elementSize;if(de>0){let Ee=c.byteOffset+c.bytesFilled,Me=c.buffer.slice(Ee-de,Ee);Xr(r,Me,0,Me.byteLength)}c.bytesFilled-=de,Ye(r[Ne],c),x(r)}function Xe(r,n){let c=r[Pe][0];G(w(c.buffer)),We(r);let de=r[Ne][Be];de==="closed"?(G(n===0),ze(r,c)):(G(de==="readable"),G(n>0),Oe(r,n,c)),Ur(r)}function We(r){if(r[Ze]===null)return;r[Ze][$e]=void 0,r[Ze][Qt]=null,r[Ze]=null}function ze(r,n){G(n.bytesFilled===0);let c=r[Ne];if(tr(c))for(;Jt(c)>0;){let de=ht(r);Ye(c,de)}}function Ye(r,n){G(r[Be]!=="errored");let c=!1;r[Be]==="closed"&&(G(n.bytesFilled===0),c=!0);let de=lt(n);n.readerType==="default"?er(r,de,c):(G(n.readerType==="byob"),Xt(r,de,c))}function et(r,n){G(r[Pe].length!==0),G(!ie(n.buffer));let c=r[Pe][0],de=r[Ne][Be];if(de==="closed"){if(n.byteLength!==0)throw new P("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(G(de==="readable"),n.byteLength===0)throw new P("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(c.byteOffset+c.bytesFilled!==n.byteOffset)throw new k("The region specified by view does not match byobRequest");if(c.bufferByteLength!==n.buffer.byteLength)throw new k("The buffer of view has different capacity than byobRequest");if(c.bytesFilled+n.byteLength>c.byteLength)throw new k("The region specified by view is larger than byobRequest");let Ee=n.byteLength;c.buffer=le(n.buffer),Xe(r,Ee)}function ht(r){return G(r[Ze]===null),R(r[Pe])}function Rt(r,n){let c=n.elementSize,de=n.bytesFilled-n.bytesFilled%c,Ee=A(r[Pt],n.byteLength-n.bytesFilled),Me=n.bytesFilled+Ee,rt=Me-Me%c,ft=Ee,Ct=!1;rt>de&&(ft=rt-n.bytesFilled,Ct=!0);let vt=r[_t];for(;ft>0;){let bt=vt[0],Nt=A(ft,bt.byteLength),ir=n.byteOffset+n.bytesFilled,Nr=new E(n.buffer,ir,Nt),Er=new E(bt.buffer,bt.byteOffset,Nt);Nr.set(Er),bt.byteLength===Nt?R(vt):(bt.byteOffset+=Nt,bt.byteLength-=Nt),r[Pt]-=Nt,Ut(r,Nt,n),ft-=Nt}return Ct||(G(r[Pt]===0),G(n.bytesFilled>0),G(n.bytesFilled<n.elementSize)),Ct}function Ut(r,n,c){G(r[Pe].length===0||r[Pe][0]===c),G(r[Ze]===null),c.bytesFilled+=n}function lt(r){let n=r.bytesFilled,c=r.elementSize;G(n<=r.byteLength),G(n%c===0);let de=le(r.buffer);return new r.viewConstructor(de,r.byteOffset,n/c)}function yt(r,n){let c=r[Ne];G(c),c[qt]=!0,c[Be]==="closed"?n.closeSteps():c[Be]==="errored"?n.errorSteps(c[xt]):(G(c[Be]==="readable"),c[$e][Et](n))}function $t(r,n){G(r[Be]==="readable"),r[Be]="errored",r[xt]=n;let c=r[Ce];if(c===void 0)return;let de=c[dt];if(de.reject(n),Q(de.promise),Wt(c)){let Ee=c[Ge];for(let Me of Ee)Me.errorSteps(n);c[Ge]=[]}else{G(It(c));for(let Ee of c[Le])Ee.errorSteps(n);c[Le]=[]}}function Xt(r,n,c){G(tr(r));let de=r[Ce];G(de[Le].length!==0);let Ee=R(de[Le]);c?Ee.closeSteps(n):Ee.chunkSteps(n)}function er(r,n,c){G(Ht(r)===!0);let de=r[Ce];G(de[Ge].length);let Ee=R(de[Ge]);c?Ee.closeSteps():Ee.chunkSteps(n)}function Jt(r){return G(tr(r)===!0),r[Ce][Le].length}function lr(r){return G(Ht(r)===!0),r[Ce][Ge].length}function tr(r){let n=r[Ce];return n===void 0?!1:!!It(n)}function Ht(r){let n=r[Ce];return n===void 0?!1:!!Wt(n)}function _r(r,n,c,de,Ee,Me){G(Ve(r)),G(fr(n)),G(typeof c=="boolean"&&typeof de=="boolean"&&typeof Ee=="boolean"),G(Me===void 0||Me instanceof AbortSignal),G(!Ke(r)),G(!cr(n));let rt=jt(r),ft=Gr(n);r[qt]=!0;let Ct=!1,vt=Ue(void 0),bt=new pe,Nt;if(Me){if(Nt=()=>{let wt=Me.reason,Gt=[];de===!1&&te(Gt,()=>n[Be]==="writable"?vn(n,wt):Ue(void 0)),Ee===!1&&te(Gt,()=>r[Be]==="readable"?nr(r,wt):Ue(void 0)),yr(()=>D(j(Gt,Kt=>Kt())),!0,wt)},Me.aborted)return Nt(),bt.promise;Me[t](Nt)}function ir(){return new ue((wt,Gt)=>{function Kt(gr){gr?wt():Fe(Nr(),Kt,Gt)}Kt(!1)})}function Nr(){return Ct===!0?Ue(!0):ve(ft[nt].promise,()=>new ue((wt,Gt)=>{yt(rt,{chunkSteps(Kt){vt=ve(jn(ft,Kt),void 0,()=>{}),wt(!1)},closeSteps(){wt(!0)},errorSteps:Gt})}))}if(ar(r,rt[dt].promise,wt=>{de===!1?yr(()=>vn(n,wt),!0,wt):$r(!0,wt)}),ar(n,ft[dt].promise,wt=>{Ee===!1?yr(()=>nr(r,wt),!0,wt):$r(!0,wt)}),xr(r,rt[dt].promise,()=>{c===!1?yr(()=>ws(ft)):$r()}),Pr(n)===!0||n[Be]==="closed"){let wt=new P("The destination writable stream closed before all the data could be piped to it.");Ee===!1?yr(()=>nr(r,wt),!0,wt):$r(!0,wt)}return Q(ir()),bt.promise;function Er(){let wt=vt;return ve(vt,()=>wt!==vt?Er():void 0)}function ar(wt,Gt,Kt){wt[Be]==="errored"?Kt(wt[xt]):Te(Gt,Kt)}function xr(wt,Gt,Kt){wt[Be]==="closed"?Kt():Se(Gt,Kt)}function yr(wt,Gt,Kt){function gr(){Fe(wt(),()=>Qr(Gt,Kt),Jr=>Qr(!0,Jr))}if(Ct===!0)return;Ct=!0,n[Be]==="writable"&&Pr(n)===!1?Se(Er(),gr):gr()}function $r(wt,Gt){if(Ct)return;Ct=!0,n[Be]==="writable"&&Pr(n)===!1?Se(Er(),()=>Qr(wt,Gt)):Qr(wt,Gt)}function Qr(wt,Gt){zn(ft),hr(rt),Me!==void 0&&Me[d](Nt),wt?bt.reject(Gt):bt.resolve(void 0)}}function sr(r,n){let c=r[Ne];return G(c!==void 0),nr(c,n)}function ln(r,n){r[Ne]=n,n[Ce]=r,n[Be]==="readable"?r[dt]=new pe:n[Be]==="closed"?(r[dt]=new pe,r[dt].resolve(void 0)):(G(n[Be]==="errored"),r[dt]=new pe,r[dt].reject(n[xt]),Q(r[dt].promise))}function hr(r){G(r[Ne]!==void 0),G(r[Ne][Ce]===r),r[Ne][Be]==="readable"?r[dt].reject(new P("Reader was released and can no longer be used to monitor the stream's closedness.")):(r[dt]=new pe,r[dt].reject(new P("Reader was released and can no longer be used to monitor the stream's closedness."))),Q(r[dt].promise),r[Ne][Ce]=void 0,r[Ne]=void 0}function xn(r,n){return G(Ve(r)),G(typeof n=="boolean"),r[$e]instanceof dr?rs(r):zr(r,n)}function zr(r,n){G(Ve(r)),G(typeof n=="boolean");let c=jt(r),de=!1,Ee=!1,Me=!1,rt,ft,Ct,vt,bt=new pe;function Nt(){if(de===!0)return Ue(void 0);de=!0;let ar={chunkSteps(xr){U(()=>{de=!1;let yr=xr,$r=xr;Ee===!1&&vr(Ct[$e],yr),Me===!1&&vr(vt[$e],$r)})},closeSteps(){de=!1,Ee===!1&&Tr(Ct[$e]),Me===!1&&Tr(vt[$e]),bt.resolve(void 0)},errorSteps(){de=!1}};return yt(c,ar),Ue(void 0)}function ir(ar){if(Ee=!0,rt=ar,Me===!0){let xr=[rt,ft],yr=nr(r,xr);bt.resolve(yr)}return bt.promise}function Nr(ar){if(Me=!0,ft=ar,Ee===!0){let xr=[rt,ft],yr=nr(r,xr);bt.resolve(yr)}return bt.promise}function Er(){}return Ct=Ir(Er,Nt,ir),vt=Ir(Er,Nt,Nr),Te(c[dt].promise,ar=>{Sr(Ct[$e],ar),Sr(vt[$e],ar),(Ee===!1||Me===!1)&&bt.resolve(void 0)}),[Ct,vt]}function rs(r){G(Ve(r)),G(r[$e]instanceof dr);let n=jt(r),c=!1,de=!1,Ee=!1,Me=!1,rt=!1,ft,Ct,vt,bt,Nt=new pe;function ir(wt){C(wt[dt].promise,Gt=>{if(wt!==n)return;pr(vt[$e],Gt),pr(bt[$e],Gt),(!Me||!rt)&&Nt.resolve(void 0)})}function Nr(){It(n)&&(G(n[Le].length===0),hr(n),n=jt(r),ir(n));let wt={chunkSteps(Gt){U(()=>{de=!1,Ee=!1;let Kt=Gt,gr=Gt;if(!Me&&!rt)try{gr=me(Gt)}catch(Jr){pr(vt[$e],Jr),pr(bt[$e],Jr),Nt.resolve(nr(r,Jr));return}Me||Wr(vt[$e],Kt),rt||Wr(bt[$e],gr),c=!1,de?ar():Ee&&xr()})},closeSteps(){c=!1,Me||Hr(vt[$e]),rt||Hr(bt[$e]),vt[$e][Pe].length!==0&&be(vt[$e],0),bt[$e][Pe].length!==0&&be(bt[$e],0),(!Me||!rt)&&Nt.resolve(void 0)},errorSteps(){c=!1}};yt(n,wt)}function Er(wt,Gt){Wt(n)&&(G(n[Ge].length===0),hr(n),n=Rr(r),ir(n));let Kt=Gt?bt:vt,gr=Gt?vt:bt,Jr={chunkSteps(Yr){U(()=>{de=!1,Ee=!1;let nn=Gt?rt:Me,fn=Gt?Me:rt;if(fn)nn||et(Kt[$e],Yr);else{let Qn;try{Qn=me(Yr)}catch(Gn){pr(Kt[$e],Gn),pr(gr[$e],Gn),Nt.resolve(nr(r,Gn));return}nn||et(Kt[$e],Yr),Wr(gr[$e],Qn)}c=!1,de?ar():Ee&&xr()})},closeSteps(Yr){c=!1;let nn=Gt?rt:Me,fn=Gt?Me:rt;nn||Hr(Kt[$e]),fn||Hr(gr[$e]),Yr!==void 0&&(G(Yr.byteLength===0),nn||et(Kt[$e],Yr),!fn&&gr[$e][Pe].length!==0&&be(gr[$e],0)),(!nn||!fn)&&Nt.resolve(void 0)},errorSteps(){c=!1}};yn(n,wt,Jr)}function ar(){if(c)return de=!0,v(void 0);c=!0;let wt=on(vt[$e]);return wt===null?Nr():Er(wt[Qt],!1),v(void 0)}function xr(){if(c)return Ee=!0,v(void 0);c=!0;let wt=on(bt[$e]);return wt===null?Nr():Er(wt[Qt],!0),v(void 0)}function yr(wt){if(Me=!0,ft=wt,rt){let Gt=[ft,Ct],Kt=nr(r,Gt);Nt.resolve(Kt)}return Nt.promise}function $r(wt){if(rt=!0,Ct=wt,Me){let Gt=[ft,Ct],Kt=nr(r,Gt);Nt.resolve(Kt)}return Nt.promise}function Qr(){}return vt=a(Qr,ar,yr),bt=a(Qr,xr,$r),ir(n),[vt,bt]}function In(r,n,c,de,Ee,Me,rt){G(r[$e]===void 0),rt!==void 0&&(G(S(rt)),G(rt>=0)),n[Ne]=r,n[st]=n[ut]=!1,n[Ze]=null,Cr(n),n[Tt]=n[at]=!1,n[tt]=Me,n[ct]=de,n[gt]=Ee,n[De]=rt,n[Pe]=[],r[$e]=n;let ft=c(),Ct=Ue(ft);Q(p(Ct,()=>{n[at]=!0,G(n[ut]===!1),G(n[st]===!1),Ur(n)},vt=>{pr(n,vt)}))}function ns(r,n,c,de){let Ee=e.createBranded(dr),Me=()=>{},rt=()=>Ue(void 0),ft=vt=>Ue(void 0);c.start!==void 0&&(Me=()=>e.invokeCallbackFunction(c.start,[Ee],n,e.converters.any,{prefix:"Failed to call 'startAlgorithm' on 'ReadableByteStreamController'"})),c.pull!==void 0&&(rt=()=>e.invokeCallbackFunction(c.pull,[Ee],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'pullAlgorithm' on 'ReadableByteStreamController'",returnsPromise:!0})),c.cancel!==void 0&&(ft=vt=>e.invokeCallbackFunction(c.cancel,[vt],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'cancelAlgorithm' on 'ReadableByteStreamController'",returnsPromise:!0}));let Ct=c.autoAllocateChunkSize;if(Ct===0)throw new P("autoAllocateChunkSize must be greater than 0");In(r,Ee,Me,rt,ft,de,Ct)}function Fn(r,n,c,de,Ee,Me,rt){G(r[$e]===void 0),n[Ne]=r,Cr(n),n[at]=n[Tt]=n[st]=n[ut]=!1,n[qe]=rt,n[tt]=Me,n[ct]=de,n[gt]=Ee,r[$e]=n;let ft=c(n),Ct=Ue(ft);Fe(Ct,()=>{n[at]=!0,G(n[ut]===!1),G(n[st]===!1),or(n)},vt=>{Sr(n,vt)})}function os(r,n,c,de,Ee){let Me=e.createBranded(Br),rt=()=>{},ft=()=>Ue(void 0),Ct=()=>Ue(void 0);c.start!==void 0&&(rt=()=>e.invokeCallbackFunction(c.start,[Me],n,e.converters.any,{prefix:"Failed to call 'startAlgorithm' on 'ReadableStreamDefaultController'"})),c.pull!==void 0&&(ft=()=>e.invokeCallbackFunction(c.pull,[Me],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'pullAlgorithm' on 'ReadableStreamDefaultController'",returnsPromise:!0})),c.cancel!==void 0&&(Ct=vt=>e.invokeCallbackFunction(c.cancel,[vt],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'cancelAlgorithm' on 'ReadableStreamDefaultController'",returnsPromise:!0})),Fn(r,Me,rt,ft,Ct,de,Ee)}function Mn(r,n){if(Ke(n))throw new P("ReadableStream is locked.");if(!(n[$e]instanceof dr))throw new P("Cannot use a BYOB reader with a non-byte stream");ln(r,n),r[Le]=[]}function ss(r,n){if(Ke(n))throw new P("ReadableStream is locked.");ln(r,n),r[Ge]=[]}function is(r,n,c,de){G(r instanceof Vr),G(r[$e]===void 0),n[Ne]=r,r[$e]=n,n[Bt]=c,n[ot]=de}function as(r,n,c){let de=e.createBranded(Dr),Ee=rt=>{try{qn(de,rt)}catch(ft){return u(ft)}return Ue(void 0)},Me=()=>Ue(void 0);c.transform!==void 0&&(Ee=(rt,ft)=>e.invokeCallbackFunction(c.transform,[rt,ft],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'transformAlgorithm' on 'TransformStreamDefaultController'",returnsPromise:!0})),c.flush!==void 0&&(Me=rt=>e.invokeCallbackFunction(c.flush,[rt],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'flushAlgorithm' on 'TransformStreamDefaultController'",returnsPromise:!0})),is(r,de,Ee,Me)}function On(r,n,c,de,Ee,Me,rt,ft){G(fr(r)),G(r[$e]===void 0),n[Ne]=r,r[$e]=n,Cr(n),n[Je]=$(),n[at]=!1,n[qe]=ft,n[tt]=rt,n[Yt]=de,n[St]=Ee,n[b]=Me;let Ct=Bn(n);Tn(r,Ct);let vt=c(n),bt=Ue(vt);Fe(bt,()=>{G(r[Be]==="writable"||r[Be]==="erroring"),n[at]=!0,Sn(n)},Nt=>{G(r[Be]==="writable"||r[Be]==="erroring"),n[at]=!0,En(r,Nt)})}function cs(r,n,c,de,Ee){let Me=e.createBranded(qr),rt=()=>{},ft=()=>Ue(void 0),Ct=()=>Ue(void 0),vt=()=>Ue(void 0);c.start!==void 0&&(rt=()=>e.invokeCallbackFunction(c.start,[Me],n,e.converters.any,{prefix:"Failed to call 'startAlgorithm' on 'WritableStreamDefaultController'"})),c.write!==void 0&&(ft=bt=>e.invokeCallbackFunction(c.write,[bt,Me],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'writeAlgorithm' on 'WritableStreamDefaultController'",returnsPromise:!0})),c.close!==void 0&&(Ct=()=>e.invokeCallbackFunction(c.close,[],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'closeAlgorithm' on 'WritableStreamDefaultController'",returnsPromise:!0})),c.abort!==void 0&&(vt=bt=>e.invokeCallbackFunction(c.abort,[bt],n,e.converters["Promise<undefined>"],{prefix:"Failed to call 'abortAlgorithm' on 'WritableStreamDefaultController'",returnsPromise:!0})),On(r,Me,rt,ft,Ct,vt,de,Ee)}function us(r,n){if(cr(n)===!0)throw new P("The stream is already locked.");r[Ne]=n,n[Vt]=r;let c=n[Be];if(c==="writable")Pr(n)===!1&&n[Re]===!0?r[nt]=new pe:(r[nt]=new pe,r[nt].resolve(void 0)),r[dt]=new pe;else if(c==="erroring")r[nt]=new pe,r[nt].reject(n[xt]),Q(r[nt].promise),r[dt]=new pe;else if(c==="closed")r[nt]=new pe,r[nt].resolve(void 0),r[dt]=new pe,r[dt].resolve(void 0);else{G(c==="errored");let de=n[xt];r[nt]=new pe,r[nt].reject(de),Q(r[nt].promise),r[dt]=new pe,r[dt].reject(de),Q(r[dt].promise)}}function Ln(r){r[Bt]=void 0,r[ot]=void 0}function qn(r,n){let c=r[Ne],de=c[xe][$e];if(ur(de)===!1)throw new P("Readable stream is unavailable.");try{vr(de,n)}catch(Me){throw mn(c,Me),c[xe][xt]}let Ee=en(de);Ee!==c[Re]&&(G(Ee===!0),bn(c,!0))}function ls(r,n){gn(r[Ne],n)}function Nn(r,n){let c=r[Bt](n,r);return ve(c,void 0,de=>{throw gn(r[Ne],de),de})}function ds(r){let n=r[Ne],c=n[xe][$e];Tr(c);let de=new P("The stream has been terminated.");mn(n,de)}function fs(r,n){return gn(r,n),Ue(void 0)}function ps(r){let n=r[xe],c=r[$e],de=c[ot](c);return Ln(c),ve(de,()=>{if(n[Be]==="errored")throw n[xt];Tr(n[$e])},Ee=>{throw gn(r,Ee),n[xt]})}function hs(r,n){G(r[Ot][Be]==="writable");let c=r[$e];if(r[Re]===!0){let de=r[ye];return G(de!==void 0),ve(de.promise,()=>{let Ee=r[Ot],Me=Ee[Be];if(Me==="erroring")throw Ee[xt];return G(Me==="writable"),Nn(c,n)})}return Nn(c,n)}function ys(r){return G(r[Re]===!0),G(r[ye]!==void 0),bn(r,!1),r[ye].promise}function gn(r,n){Sr(r[xe][$e],n),mn(r,n)}function mn(r,n){Ln(r[$e]),Cn(r[Ot][$e],n),r[Re]===!0&&bn(r,!1)}function bn(r,n){G(r[Re]!==n),r[ye]!==void 0&&r[ye].resolve(void 0),r[ye]=new pe,r[Re]=n}function vn(r,n){let c=r[Be];if(c==="closed"||c==="errored")return Ue(void 0);if(r[$e][Je][ce](n),c==="closed"||c==="errored")return Ue(void 0);if(r[N]!==void 0)return r[N].deferred.promise;G(c==="writable"||c==="erroring");let de=!1;c==="erroring"&&(de=!0,n=void 0);let Ee=new pe;return r[N]={deferred:Ee,reason:n,wasAlreadyErroring:de},de===!1&&Un(r,n),Ee.promise}function gs(r){G(cr(r)===!0),G(r[Be]==="writable");let n=new pe;return te(r[Mt],n),n.promise}function An(r){let n=r[Be];if(n==="closed"||n==="errored")return u(new P("Writable stream is closed or errored."));G(n==="writable"||n==="erroring"),G(Pr(r)===!1);let c=new pe;r[Lt]=c;let de=r[Vt];return de!==void 0&&r[Re]===!0&&n==="writable"&&de[nt].resolve(void 0),ms(r[$e]),c.promise}function Pr(r){return!(r[Lt]===void 0&&r[kt]===void 0)}function En(r,n){let c=r[Be];if(c==="writable"){Un(r,n);return}G(c==="erroring"),Rn(r)}function Sn(r){let n=r[Ne];if(r[at]===!1)return;if(n[_e]!==void 0)return;let c=n[Be];if(G(c!=="closed"&&c!=="errored"),c==="erroring"){Rn(n);return}if(r[_t].length===0)return;let de=wn(r);de===Ft?vs(r):Ss(r,de)}function _n(r){r[Yt]=void 0,r[St]=void 0,r[b]=void 0,r[qe]=void 0}function ms(r){He(r,Ft,0),Sn(r)}function $n(r,n){let c=r[Ne];G(c[Be]==="writable"),_n(r),Un(c,n)}function Cn(r,n){r[Ne][Be]==="writable"&&$n(r,n)}function Bn(r){let n=Hn(r);return n<=0}function bs(r,n){let c;try{c=r[qe](n)}catch(de){return Cn(r,de),1}return c}function Hn(r){return r[tt]-r[Pt]}function vs(r){let n=r[Ne];Us(n),mr(r),G(r[_t].length===0);let c=r[St]();_n(r),Fe(c,()=>{Es(n)},de=>{Cs(n,de)})}function Ss(r,n){let c=r[Ne];Ts(c);let de=r[Yt](n,r);Fe(de,()=>{Bs(c);let Ee=c[Be];if(G(Ee==="writable"||Ee==="erroring"),mr(r),Pr(c)===!1&&Ee==="writable"){let Me=Bn(r);Tn(c,Me)}Sn(r)},Ee=>{c[Be]==="writable"&&_n(r),Rs(c,Ee)})}function _s(r,n,c){try{He(r,n,c)}catch(Ee){Cn(r,Ee);return}let de=r[Ne];if(Pr(de)===!1&&de[Be]==="writable"){let Ee=Bn(r);Tn(de,Ee)}Sn(r)}function Ps(r,n){let c=r[Ne];return G(c!==void 0),vn(c,n)}function Wn(r){let n=r[Ne];return G(n!==void 0),An(n)}function ws(r){let n=r[Ne];G(n!==void 0);let c=n[Be];return Pr(n)===!0||c==="closed"?Ue(void 0):c==="errored"?u(n[xt]):(G(c==="writable"||c==="erroring"),Wn(r))}function xs(r,n){r[dt].state==="pending"||(r[dt]=new pe),r[dt].reject(n),Q(r[dt].promise)}function Kn(r,n){r[nt].state==="pending"||(r[nt]=new pe),r[nt].reject(n),Q(r[nt].promise)}function As(r){let n=r[Ne],c=n[Be];return c==="errored"||c==="erroring"?null:c==="closed"?0:Hn(n[$e])}function zn(r){let n=r[Ne];G(n!==void 0),G(n[Vt]===r);let c=new P("The writer has already been released.");Kn(r,c),xs(r,c),n[Vt]=void 0,r[Ne]=void 0}function jn(r,n){let c=r[Ne];G(c!==void 0);let de=c[$e],Ee=bs(de,n);if(c!==r[Ne])return u(new P("Writer's stream is unexpected."));let Me=c[Be];if(Me==="errored")return u(c[xt]);if(Pr(c)===!0||Me==="closed")return u(new P("The stream is closing or is closed."));if(Me==="erroring")return u(c[xt]);G(Me==="writable");let rt=gs(c);return _s(de,n,Ee),rt}function Rn(r){G(r[Be]==="erroring"),G(Vn(r)===!1),r[Be]="errored",r[$e][mt]();let n=r[xt];for(let Ee of r[Mt])Ee.reject(n);if(r[Mt]=[],r[N]===void 0){Pn(r);return}let c=r[N];if(r[N]=void 0,c.wasAlreadyErroring===!0){c.deferred.reject(n),Pn(r);return}let de=r[$e][re](c.reason);Fe(de,()=>{c.deferred.resolve(void 0),Pn(r)},Ee=>{c.deferred.reject(Ee),Pn(r)})}function Es(r){G(r[kt]!==void 0),r[kt].resolve(void 0),r[kt]=void 0;let n=r[Be];G(n==="writable"||n==="erroring"),n==="erroring"&&(r[xt]=void 0,r[N]!==void 0&&(r[N].deferred.resolve(void 0),r[N]=void 0)),r[Be]="closed";let c=r[Vt];c!==void 0&&c[dt].resolve(void 0),G(r[N]===void 0),G(r[xt]===void 0)}function Cs(r,n){G(r[kt]!==void 0),r[kt].reject(n),r[kt]=void 0,G(r[Be]==="writable"||r[Be]==="erroring"),r[N]!==void 0&&(r[N].deferred.reject(n),r[N]=void 0),En(r,n)}function Bs(r){G(r[_e]!==void 0),r[_e].resolve(void 0),r[_e]=void 0}function Rs(r,n){G(r[_e]!==void 0),r[_e].reject(n),r[_e]=void 0,G(r[Be]==="writable"||r[Be]==="erroring"),En(r,n)}function Vn(r){return!(r[_e]===void 0&&r[kt]===void 0)}function Us(r){G(r[kt]===void 0),G(r[Lt]!==void 0),r[kt]=r[Lt],r[Lt]=void 0}function Ts(r){G(r[_e]===void 0),G(r[Mt].length);let n=r[Mt].shift();r[_e]=n}function Pn(r){G(r[Be]==="errored"),r[Lt]!==void 0&&(G(r[kt]===void 0),r[Lt].reject(r[xt]),r[Lt]=void 0);let n=r[Vt];n!==void 0&&(n[dt].reject(r[xt]),Q(n[dt].promise))}function Un(r,n){G(r[xt]===void 0),G(r[Be]==="writable");let c=r[$e];G(c!==void 0),r[Be]="erroring",r[xt]=n;let de=r[Vt];de!==void 0&&Kn(de,n),Vn(r)===!1&&c[at]===!0&&Rn(r)}function Tn(r,n){G(r[Be]==="writable"),G(Pr(r)===!1);let c=r[Vt];c!==void 0&&n!==r[Re]&&(n===!0?c[nt]=new pe:(G(n===!1),c[nt].resolve(void 0))),r[Re]=n}function dn(r,n){let c=V(null);return M(c,{value:{value:r,writable:!0,enumerable:!0,configurable:!0},done:{value:n,writable:!0,enumerable:!0,configurable:!0}}),c}let Ds=_(_(async function*(){}).prototype),ks=ee({next(){let r=this[Ce];if(r[Ne]===void 0)return u(new P("Cannot get the next iteration result once the reader has been released."));let n=new pe,c={chunkSteps(de){n.resolve(dn(de,!1))},closeSteps(){hr(r),n.resolve(dn(void 0,!0))},errorSteps(de){hr(r),n.reject(de)}};return yt(r,c),n.promise},async return(r){let n=this[Ce];if(n[Ne]===void 0)return dn(void 0,!0);if(G(n[Ge].length===0),this[Qe]===!1){let c=sr(n,r);return hr(n),await c,dn(r,!0)}return hr(n),dn(void 0,!0)}},Ds);class tn{constructor(n){let c="Failed to construct 'ByteLengthQueuingStrategy'";e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.QueuingStrategyInit(n,{prefix:c,context:"Argument 1"}),this[e.brand]=e.brand,this[Dt]=i,this[At]=n.highWaterMark}get highWaterMark(){return e.assertBranded(this,tn),this[At]}get size(){return e.assertBranded(this,tn),Gs(this[Dt]),ae(Dn,this[Dt])}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof tn,keys:["highWaterMark","size"]}))}}e.configurePrototype(tn);let Dn=new Z;function Gs(r){if(O(Dn,r))return;let n=c=>c.byteLength;ge(Dn,r,n)}class rn{constructor(n){let c="Failed to construct 'CountQueuingStrategy'";e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.QueuingStrategyInit(n,{prefix:c,context:"Argument 1"}),this[e.brand]=e.brand,this[Dt]=i,this[At]=n.highWaterMark}get highWaterMark(){return e.assertBranded(this,rn),this[At]}get size(){return e.assertBranded(this,rn),Is(this[Dt]),ae(kn,this[Dt])}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof rn,keys:["highWaterMark","size"]}))}}e.configurePrototype(rn);let kn=new Z;function Is(r){if(O(kn,r))return;let n=()=>1;ge(kn,r,n)}class rr{[$e];[zt];[qt];[Ce];[Be];[xt];constructor(n=void 0,c={}){let de="Failed to construct 'ReadableStream'";n!==void 0&&(n=e.converters.object(n,{prefix:de,context:"Argument 1"})),c=e.converters.QueuingStrategy(c,{prefix:de,context:"Argument 2"}),this[e.brand]=e.brand,n===void 0&&(n=null);let Ee=e.converters.UnderlyingSource(n,{prefix:de,context:"underlyingSource"});if(H(this),Ee.type==="bytes"){if(c.size!==void 0)throw new k(`${de}: When underlying source is "bytes", strategy.size must be undefined.`);let Me=o(c,0);ns(this,n,Ee,Me)}else{G(!("type"in Ee));let Me=s(c),rt=o(c,1);os(this,n,Ee,rt,Me)}}get locked(){return e.assertBranded(this,rr),Ke(this)}cancel(n=void 0){try{e.assertBranded(this,rr),n!==void 0&&(n=e.converters.any(n))}catch(c){return u(c)}return Ke(this)?u(new P("Cannot cancel a locked ReadableStream.")):nr(this,n)}getReader(n={}){e.assertBranded(this,rr);let c="Failed to execute 'getReader' on 'ReadableStream'";return n=e.converters.ReadableStreamGetReaderOptions(n,{prefix:c,context:"Argument 1"}),n.mode===void 0?jt(this):(G(n.mode==="byob"),Rr(this))}pipeThrough(n,c={}){e.assertBranded(this,rr);let de="Failed to execute 'pipeThrough' on 'ReadableStream'";e.requiredArguments(arguments.length,1,{prefix:de}),n=e.converters.ReadableWritablePair(n,{prefix:de,context:"Argument 1"}),c=e.converters.StreamPipeOptions(c,{prefix:de,context:"Argument 2"});let{readable:Ee,writable:Me}=n,{preventClose:rt,preventAbort:ft,preventCancel:Ct,signal:vt}=c;if(Ke(this))throw new P("ReadableStream is already locked.");if(cr(Me))throw new P("Target WritableStream is already locked.");let bt=_r(this,Me,rt,ft,Ct,vt);return Q(bt),Ee}pipeTo(n,c={}){try{e.assertBranded(this,rr);let ft="Failed to execute 'pipeTo' on 'ReadableStream'";e.requiredArguments(arguments.length,1,{prefix:ft}),n=e.converters.WritableStream(n,{prefix:ft,context:"Argument 1"}),c=e.converters.StreamPipeOptions(c,{prefix:ft,context:"Argument 2"})}catch(ft){return u(ft)}let{preventClose:de,preventAbort:Ee,preventCancel:Me,signal:rt}=c;return Ke(this)?u(new P("ReadableStream is already locked.")):cr(n)?u(new P("destination WritableStream is already locked.")):_r(this,n,de,Ee,Me,rt)}tee(){return e.assertBranded(this,rr),xn(this,!1)}values(n={}){e.assertBranded(this,rr);let c="Failed to execute 'values' on 'ReadableStream'";n=e.converters.ReadableStreamIteratorOptions(n,{prefix:c,context:"Argument 1"});let de=V(ks),Ee=jt(this);return de[Ce]=Ee,de[Qe]=n.preventCancel,de}[J("Deno.privateCustomInspect")](n){return`${this.constructor.name} ${n({locked:this.locked})}`}}rr.prototype[f]=rr.prototype.values,g(rr.prototype,f,{writable:!0,enumerable:!1,configurable:!0}),e.configurePrototype(rr);function Fs(r,n){Sr(r[$e],n)}class Or{[dt];[Ne];[Ge];constructor(n){let c="Failed to construct 'ReadableStreamDefaultReader'";e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.ReadableStream(n,{prefix:c,context:"Argument 1"}),this[e.brand]=e.brand,ss(this,n)}read(){try{e.assertBranded(this,Or)}catch(de){return u(de)}if(this[Ne]===void 0)return u(new P("Reader has no associated stream."));let n=new pe,c={chunkSteps(de){n.resolve({value:de,done:!1})},closeSteps(){n.resolve({value:void 0,done:!0})},errorSteps(de){n.reject(de)}};return yt(this,c),n.promise}releaseLock(){if(e.assertBranded(this,Or),this[Ne]===void 0)return;if(this[Ge].length)throw new P("There are pending read requests, so the reader cannot be release.");hr(this)}get closed(){try{e.assertBranded(this,Or)}catch(n){return u(n)}return this[dt].promise}cancel(n=void 0){try{e.assertBranded(this,Or),n!==void 0&&(n=e.converters.any(n))}catch(c){return u(c)}return this[Ne]===void 0?u(new P("Reader has no associated stream.")):sr(this,n)}[J("Deno.privateCustomInspect")](n){return`${this.constructor.name} ${n({closed:this.closed})}`}}e.configurePrototype(Or);class Lr{[dt];[Ne];[Le];constructor(n){let c="Failed to construct 'ReadableStreamBYOBReader'";e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.ReadableStream(n,{prefix:c,context:"Argument 1"}),this[e.brand]=e.brand,Mn(this,n)}read(n){try{e.assertBranded(this,Lr);let Ee="Failed to execute 'read' on 'ReadableStreamBYOBReader'";n=e.converters.ArrayBufferView(n,{prefix:Ee,context:"Argument 1"})}catch(Ee){return u(Ee)}if(n.byteLength===0)return u(new P("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return u(new P("view's buffer must have non-zero byteLength"));if(ie(n.buffer))return u(new P("view's buffer has been detached"));if(this[Ne]===void 0)return u(new P("Reader has no associated stream."));let c=new pe,de={chunkSteps(Ee){c.resolve({value:Ee,done:!1})},closeSteps(Ee){c.resolve({value:Ee,done:!0})},errorSteps(Ee){c.reject(Ee)}};return yn(this,n,de),c.promise}releaseLock(){if(e.assertBranded(this,Lr),this[Ne]===void 0)return;if(this[Le].length!==0)throw new P("There are pending read requests, so the reader cannot be released.");hr(this)}get closed(){try{e.assertBranded(this,Lr)}catch(n){return u(n)}return this[dt].promise}cancel(n=void 0){try{e.assertBranded(this,Lr),n!==void 0&&(n=e.converters.any(n))}catch(c){return u(c)}return this[Ne]===void 0?u(new P("Reader has no associated stream.")):sr(this,n)}[J("Deno.privateCustomInspect")](n){return`${this.constructor.name} ${n({closed:this.closed})}`}}e.configurePrototype(Lr);class jr{[$e];[Qt];get view(){return e.assertBranded(this,jr),this[Qt]}constructor(){e.illegalConstructor()}respond(n){e.assertBranded(this,jr);let c="Failed to execute 'respond' on 'ReadableStreamBYOBRequest'";if(e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters["unsigned long long"](n,{enforceRange:!0,prefix:c,context:"Argument 1"}),this[$e]===void 0)throw new P("This BYOB request has been invalidated");if(ie(this[Qt].buffer))throw new P("The BYOB request's buffer has been detached and so cannot be used as a response");G(this[Qt].byteLength>0),G(this[Qt].buffer.byteLength>0),be(this[$e],n)}respondWithNewView(n){e.assertBranded(this,jr);let c="Failed to execute 'respondWithNewView' on 'ReadableStreamBYOBRequest'";if(e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.ArrayBufferView(n,{prefix:c,context:"Argument 1"}),this[$e]===void 0)throw new P("This BYOB request has been invalidated");if(ie(n.buffer))throw new P("The given view's buffer has been detached and so cannot be used as a response");et(this[$e],n)}}e.configurePrototype(jr);class dr{[De];[Ze];[gt];[Tt];[st];[ct];[ut];[Pe];[_t];[Pt];[at];[tt];[Ne];constructor(){e.illegalConstructor()}get byobRequest(){return e.assertBranded(this,dr),on(this)}get desiredSize(){return e.assertBranded(this,dr),sn(this)}close(){if(e.assertBranded(this,dr),this[Tt]===!0)throw new P("Closed already requested.");if(this[Ne][Be]!=="readable")throw new P("ReadableByteStreamController's stream is not in a readable state.");Hr(this)}enqueue(n){e.assertBranded(this,dr);let c="Failed to execute 'enqueue' on 'ReadableByteStreamController'";e.requiredArguments(arguments.length,1,{prefix:c});let de="Argument 1";if(n=e.converters.ArrayBufferView(n,{prefix:c,context:de}),n.byteLength===0)throw e.makeException(P,"length must be non-zero",{prefix:c,context:de});if(n.buffer.byteLength===0)throw e.makeException(P,"buffer length must be non-zero",{prefix:c,context:de});if(this[Tt]===!0)throw new P("Cannot enqueue chunk after a close has been requested.");if(this[Ne][Be]!=="readable")throw new P("Cannot enqueue chunk when underlying stream is not readable.");return Wr(this,n)}error(n=void 0){e.assertBranded(this,dr),n!==void 0&&(n=e.converters.any(n)),pr(this,n)}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof dr,keys:["desiredSize"]}))}[Ie](n){pn(this),Cr(this);let c=this[gt](n);return Zr(this),c}[Et](n){let c=this[Ne];if(G(Ht(c)),this[Pt]>0){G(lr(c)===0);let Ee=R(this[_t]);this[Pt]-=Ee.byteLength,an(this);let Me=new E(Ee.buffer,Ee.byteOffset,Ee.byteLength);n.chunkSteps(Me);return}let de=this[De];if(de!==void 0){let Ee;try{Ee=new L(de)}catch(rt){n.errorSteps(rt);return}let Me={buffer:Ee,bufferByteLength:de,byteOffset:0,byteLength:de,bytesFilled:0,elementSize:1,viewConstructor:E,readerType:"default"};te(this[Pe],Me)}cn(c,n),Ur(this)}}e.configurePrototype(dr);class Br{[gt];[Tt];[st];[ct];[ut];[_t];[Pt];[at];[tt];[qe];[Ne];constructor(){e.illegalConstructor()}get desiredSize(){return e.assertBranded(this,Br),Ar(this)}close(){if(e.assertBranded(this,Br),ur(this)===!1)throw new P("The stream controller cannot close or enqueue.");Tr(this)}enqueue(n=void 0){if(e.assertBranded(this,Br),n!==void 0&&(n=e.converters.any(n)),ur(this)===!1)throw new P("The stream controller cannot close or enqueue.");vr(this,n)}error(n=void 0){e.assertBranded(this,Br),n!==void 0&&(n=e.converters.any(n)),Sr(this,n)}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof Br,keys:["desiredSize"]}))}[Ie](n){Cr(this);let c=this[gt](n);return br(this),c}[Et](n){let c=this[Ne];if(this[_t].length){let de=mr(this);this[Tt]&&this[_t].length===0?(br(this),Mr(c)):or(this),n.chunkSteps(de)}else cn(c,n),or(this)}}e.configurePrototype(Br);class Vr{[Re];[ye];[$e];[zt];[xe];[Ot];constructor(n=void 0,c={},de={}){let Ee="Failed to construct 'TransformStream'";n!==void 0&&(n=e.converters.object(n,{prefix:Ee,context:"Argument 1"})),c=e.converters.QueuingStrategy(c,{prefix:Ee,context:"Argument 2"}),de=e.converters.QueuingStrategy(de,{prefix:Ee,context:"Argument 2"}),this[e.brand]=e.brand,n===void 0&&(n=null);let Me=e.converters.Transformer(n,{prefix:Ee,context:"transformer"});if(Me.readableType!==void 0)throw new k(`${Ee}: readableType transformers not supported.`);if(Me.writableType!==void 0)throw new k(`${Ee}: writableType transformers not supported.`);let rt=o(de,0),ft=s(de),Ct=o(c,1),vt=s(c),bt=new pe;W(this,bt,Ct,vt,rt,ft),as(this,n,Me),Me.start?bt.resolve(e.invokeCallbackFunction(Me.start,[this[$e]],n,e.converters.any,{prefix:"Failed to call 'start' on 'TransformStreamDefaultController'"})):bt.resolve(void 0)}get readable(){return e.assertBranded(this,Vr),this[xe]}get writable(){return e.assertBranded(this,Vr),this[Ot]}[J("Deno.privateCustomInspect")](n){return`${this.constructor.name} ${n({readable:this.readable,writable:this.writable})}`}}e.configurePrototype(Vr);class Dr{[ot];[Ne];[Bt];constructor(){e.illegalConstructor()}get desiredSize(){e.assertBranded(this,Dr);let n=this[Ne][xe][$e];return Ar(n)}enqueue(n=void 0){e.assertBranded(this,Dr),n!==void 0&&(n=e.converters.any(n)),qn(this,n)}error(n=void 0){e.assertBranded(this,Dr),n!==void 0&&(n=e.converters.any(n)),ls(this,n)}terminate(){e.assertBranded(this,Dr),ds(this)}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof Dr,keys:["desiredSize"]}))}}e.configurePrototype(Dr);class kr{[Re];[Lt];[$e];[zt];[_e];[kt];[N];[Be];[xt];[Vt];[Mt];constructor(n=void 0,c={}){let de="Failed to construct 'WritableStream'";n!==void 0&&(n=e.converters.object(n,{prefix:de,context:"Argument 1"})),c=e.converters.QueuingStrategy(c,{prefix:de,context:"Argument 2"}),this[e.brand]=e.brand,n===void 0&&(n=null);let Ee=e.converters.UnderlyingSink(n,{prefix:de,context:"underlyingSink"});if(Ee.type!=null)throw new k(`${de}: WritableStream does not support 'type' in the underlying sink.`);se(this);let Me=s(c),rt=o(c,1);cs(this,n,Ee,rt,Me)}get locked(){return e.assertBranded(this,kr),cr(this)}abort(n=void 0){try{e.assertBranded(this,kr)}catch(c){return u(c)}return n!==void 0&&(n=e.converters.any(n)),cr(this)?u(new P("The writable stream is locked, therefore cannot be aborted.")):vn(this,n)}close(){try{e.assertBranded(this,kr)}catch(n){return u(n)}return cr(this)?u(new P("The writable stream is locked, therefore cannot be closed.")):Pr(this)===!0?u(new P("The writable stream is already closing.")):An(this)}getWriter(){return e.assertBranded(this,kr),Gr(this)}[J("Deno.privateCustomInspect")](n){return`${this.constructor.name} ${n({locked:this.locked})}`}}e.configurePrototype(kr);class wr{[dt];[nt];[Ne];constructor(n){let c="Failed to construct 'WritableStreamDefaultWriter'";e.requiredArguments(arguments.length,1,{prefix:c}),n=e.converters.WritableStream(n,{prefix:c,context:"Argument 1"}),this[e.brand]=e.brand,us(this,n)}get closed(){try{e.assertBranded(this,wr)}catch(n){return u(n)}return this[dt].promise}get desiredSize(){if(e.assertBranded(this,wr),this[Ne]===void 0)throw new P("A writable stream is not associated with the writer.");return As(this)}get ready(){try{e.assertBranded(this,wr)}catch(n){return u(n)}return this[nt].promise}abort(n=void 0){try{e.assertBranded(this,wr)}catch(c){return u(c)}return n!==void 0&&(n=e.converters.any(n)),this[Ne]===void 0?u(new P("A writable stream is not associated with the writer.")):Ps(this,n)}close(){try{e.assertBranded(this,wr)}catch(c){return u(c)}let n=this[Ne];return n===void 0?u(new P("A writable stream is not associated with the writer.")):Pr(n)===!0?u(new P("The associated stream is already closing.")):Wn(this)}releaseLock(){e.assertBranded(this,wr);let n=this[Ne];if(n===void 0)return;G(n[Vt]!==void 0),zn(this)}write(n=void 0){try{e.assertBranded(this,wr),n!==void 0&&(n=e.converters.any(n))}catch(c){return u(c)}return this[Ne]===void 0?u(new P("A writable stream is not associate with the writer.")):jn(this,n)}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof wr,keys:["closed","desiredSize","ready"]}))}}e.configurePrototype(wr);class qr{[b];[St];[_t];[Pt];[at];[tt];[qe];[Ne];[Yt];[Je];get signal(){return e.assertBranded(this,qr),this[Je]}constructor(){e.illegalConstructor()}error(n=void 0){e.assertBranded(this,qr),n!==void 0&&(n=e.converters.any(n));let c=this[Ne][Be];if(c!=="writable")return;$n(this,n)}[J("Deno.customInspect")](n){return n(we.createFilteredInspectProxy({object:this,evaluate:this instanceof qr,keys:[]}))}[re](n){let c=this[b](n);return _n(this),c}[mt](){Cr(this)}}e.configurePrototype(qr);function Ms(r){return r.pipeThrough(new Vr)}e.converters.ReadableStream=e.createInterfaceConverter("ReadableStream",rr),e.converters.WritableStream=e.createInterfaceConverter("WritableStream",kr),e.converters.ReadableStreamType=e.createEnumConverter("ReadableStreamType",["bytes"]),e.converters.UnderlyingSource=e.createDictionaryConverter("UnderlyingSource",[{key:"start",converter:e.converters.Function},{key:"pull",converter:e.converters.Function},{key:"cancel",converter:e.converters.Function},{key:"type",converter:e.converters.ReadableStreamType},{key:"autoAllocateChunkSize",converter:(r,n)=>e.converters["unsigned long long"](r,{...n,enforceRange:!0})}]),e.converters.UnderlyingSink=e.createDictionaryConverter("UnderlyingSink",[{key:"start",converter:e.converters.Function},{key:"write",converter:e.converters.Function},{key:"close",converter:e.converters.Function},{key:"abort",converter:e.converters.Function},{key:"type",converter:e.converters.any}]),e.converters.Transformer=e.createDictionaryConverter("Transformer",[{key:"start",converter:e.converters.Function},{key:"transform",converter:e.converters.Function},{key:"flush",converter:e.converters.Function},{key:"readableType",converter:e.converters.any},{key:"writableType",converter:e.converters.any}]),e.converters.QueuingStrategy=e.createDictionaryConverter("QueuingStrategy",[{key:"highWaterMark",converter:e.converters["unrestricted double"]},{key:"size",converter:e.converters.Function}]),e.converters.QueuingStrategyInit=e.createDictionaryConverter("QueuingStrategyInit",[{key:"highWaterMark",converter:e.converters["unrestricted double"],required:!0}]),e.converters.ReadableStreamIteratorOptions=e.createDictionaryConverter("ReadableStreamIteratorOptions",[{key:"preventCancel",defaultValue:!1,converter:e.converters.boolean}]),e.converters.ReadableStreamReaderMode=e.createEnumConverter("ReadableStreamReaderMode",["byob"]),e.converters.ReadableStreamGetReaderOptions=e.createDictionaryConverter("ReadableStreamGetReaderOptions",[{key:"mode",converter:e.converters.ReadableStreamReaderMode}]),e.converters.ReadableWritablePair=e.createDictionaryConverter("ReadableWritablePair",[{key:"readable",converter:e.converters.ReadableStream,required:!0},{key:"writable",converter:e.converters.WritableStream,required:!0}]),e.converters.StreamPipeOptions=e.createDictionaryConverter("StreamPipeOptions",[{key:"preventClose",defaultValue:!1,converter:e.converters.boolean},{key:"preventAbort",defaultValue:!1,converter:e.converters.boolean},{key:"preventCancel",defaultValue:!1,converter:e.converters.boolean},{key:"signal",converter:e.converters.AbortSignal}]),i.__bootstrap.streams={isReadableStreamDisturbed:Zt,errorReadableStream:Fs,createProxy:Ms,writableStreamClose:An,Deferred:pe,ByteLengthQueuingStrategy:tn,CountQueuingStrategy:rn,ReadableStream:rr,ReadableStreamDefaultReader:Or,TransformStream:Vr,WritableStream:kr,WritableStreamDefaultWriter:wr,WritableStreamDefaultController:qr,ReadableByteStreamController:dr,ReadableStreamBYOBReader:Lr,ReadableStreamBYOBRequest:jr,ReadableStreamDefaultController:Br,TransformStreamDefaultController:Dr}})(q)}),co=pt(q=>{"use strict";(i=>{let e=je.Deno.core,t=i.__bootstrap.webidl,{ArrayBufferIsView:d,PromiseReject:ce,PromiseResolve:$,StringPrototypeCharCodeAt:L,StringPrototypeSlice:he,TypedArrayPrototypeSubarray:j,TypedArrayPrototypeSlice:te,Uint8Array:R}=i.__bootstrap.primordials;class fe{#e;#t;#r;#n=null;constructor(S="utf-8",h={}){let A="Failed to construct 'TextDecoder'";S=t.converters.DOMString(S,{prefix:A,context:"Argument 1"}),h=t.converters.TextDecoderOptions(h,{prefix:A,context:"Argument 2"});let V=e.opSync("op_encoding_normalize_label",S);this.#e=V,this.#t=h.fatal,this.#r=h.ignoreBOM,this[t.brand]=t.brand}get encoding(){return t.assertBranded(this,fe),this.#e}get fatal(){return t.assertBranded(this,fe),this.#t}get ignoreBOM(){return t.assertBranded(this,fe),this.#r}decode(S=new R,h={}){t.assertBranded(this,fe);let A="Failed to execute 'decode' on 'TextDecoder'";S!==void 0&&(S=t.converters.BufferSource(S,{prefix:A,context:"Argument 1",allowShared:!0})),h=t.converters.TextDecodeOptions(h,{prefix:A,context:"Argument 2"}),this.#n===null&&(this.#n=e.opSync("op_encoding_new_decoder",{label:this.#e,fatal:this.#t,ignoreBom:this.#r}));try{try{d(S)?S=new R(S.buffer,S.byteOffset,S.byteLength):S=new R(S)}catch{S=new R}return S.buffer instanceof SharedArrayBuffer&&(S=new R(S)),e.opSync("op_encoding_decode",S,{rid:this.#n,stream:h.stream})}finally{h.stream||(e.close(this.#n),this.#n=null)}}}t.configurePrototype(fe);class Y{constructor(){this[t.brand]=t.brand}get encoding(){return t.assertBranded(this,Y),"utf-8"}encode(S=""){t.assertBranded(this,Y);let h="Failed to execute 'encode' on 'TextEncoder'";return S=t.converters.DOMString(S,{prefix:h,context:"Argument 1"}),e.encode(S)}encodeInto(S,h){t.assertBranded(this,Y);let A="Failed to execute 'encodeInto' on 'TextEncoder'";return S=t.converters.DOMString(S,{prefix:A,context:"Argument 1"}),h=t.converters.Uint8Array(h,{prefix:A,context:"Argument 2",allowShared:!0}),e.opSync("op_encoding_encode_into",S,h)}}t.configurePrototype(Y);class ne{#e;#t;constructor(S="utf-8",h={}){let A="Failed to construct 'TextDecoderStream'";S=t.converters.DOMString(S,{prefix:A,context:"Argument 1"}),h=t.converters.TextDecoderOptions(h,{prefix:A,context:"Argument 2"}),this.#e=new fe(S,h),this.#t=new TransformStream({transform:(V,M)=>{try{V=t.converters.BufferSource(V,{allowShared:!0});let g=this.#e.decode(V,{stream:!0});return g&&M.enqueue(g),$()}catch(g){return ce(g)}},flush:V=>{try{let M=this.#e.decode();return M&&V.enqueue(M),$()}catch(M){return ce(M)}}}),this[t.brand]=t.brand}get encoding(){return t.assertBranded(this,ne),this.#e.encoding}get fatal(){return t.assertBranded(this,ne),this.#e.fatal}get ignoreBOM(){return t.assertBranded(this,ne),this.#e.ignoreBOM}get readable(){return t.assertBranded(this,ne),this.#t.readable}get writable(){return t.assertBranded(this,ne),this.#t.writable}}t.configurePrototype(ne);class K{#e=null;#t;constructor(){this.#t=new TransformStream({transform:(S,h)=>{try{S=t.converters.DOMString(S),this.#e!==null&&(S=this.#e+S);let A=L(S,S.length-1);return 55296<=A&&A<=56319?(this.#e=he(S,-1),S=he(S,0,-1)):this.#e=null,S&&h.enqueue(e.encode(S)),$()}catch(A){return ce(A)}},flush:S=>{try{return this.#e!==null&&S.enqueue(new R([239,191,189])),$()}catch(h){return ce(h)}}}),this[t.brand]=t.brand}get encoding(){return t.assertBranded(this,K),"utf-8"}get readable(){return t.assertBranded(this,K),this.#t.readable}get writable(){return t.assertBranded(this,K),this.#t.writable}}t.configurePrototype(K),t.converters.TextDecoderOptions=t.createDictionaryConverter("TextDecoderOptions",[{key:"fatal",converter:t.converters.boolean,defaultValue:!1},{key:"ignoreBOM",converter:t.converters.boolean,defaultValue:!1}]),t.converters.TextDecodeOptions=t.createDictionaryConverter("TextDecodeOptions",[{key:"stream",converter:t.converters.boolean,defaultValue:!1}]);function B(y,S){let h=X(y),A=0;return h!==null&&(S=h,h==="UTF-8"?A=3:A=2),new fe(S).decode(te(y,A))}function X(y){let S=j(y,0,3);return S[0]===239&&S[1]===187&&S[2]===191?"UTF-8":S[0]===254&&S[1]===255?"UTF-16BE":S[0]===255&&S[1]===254?"UTF-16LE":null}i.__bootstrap.encoding={TextEncoder:Y,TextDecoder:fe,TextEncoderStream:K,TextDecoderStream:ne,decode:B}})(q)}),uo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{ArrayBuffer:d,ArrayBufferPrototypeSlice:ce,ArrayBufferIsView:$,ArrayPrototypePush:L,Date:he,DatePrototypeGetTime:j,MathMax:te,MathMin:R,RegExpPrototypeTest:fe,StringPrototypeCharAt:Y,StringPrototypeToLowerCase:ne,StringPrototypeSlice:K,Symbol:B,SymbolFor:X,TypedArrayPrototypeSet:y,TypeError:S,Uint8Array:h}=i.__bootstrap.primordials,A=i.__bootstrap.console,V=!1;function M(E,m){let F=m;for(let I=Y(E,m);m<E.length&&!(I==="\r"||I===`
`);I=Y(E,++m));return{result:K(E,F,m),position:m}}function g(E){let m=V?`\r
`:`
`,{result:F,position:I}=M(E,0);for(;I<E.length;){let Z=Y(E,I);Z==="\r"?(F+=m,I++,I<E.length&&Y(E,I)===`
`&&I++):Z===`
`&&(I++,F+=m);let{result:ae,position:O}=M(E,I);I=O,F+=ae}return F}async function*_(E){for(let m of E)yield*m.stream()}function ee(E,m){let F=[],I=0;for(let Z of E)if(Z instanceof d){let ae=new h(ce(Z,0));L(F,J.fromUint8Array(ae)),I+=Z.byteLength}else if($(Z)){let ae=new h(Z.buffer,Z.byteOffset,Z.byteLength);I+=Z.byteLength,L(F,J.fromUint8Array(ae))}else if(Z instanceof v)L(F,Z),I+=Z.size;else if(typeof Z=="string"){let ae=e.encode(m=="native"?g(Z):Z);I+=ae.byteLength,L(F,J.fromUint8Array(ae))}else throw new S("Unreachable code (invalid element type)");return{parts:F,size:I}}function ue(E){let m=E;return fe(/^[\x20-\x7E]*$/,E)||(m=""),ne(m)}function D(E,m=[]){for(let F of E[u])F instanceof v?D(F,m):L(m,F._id);return m}let C=B("Type"),p=B("Size"),u=B("Parts");class v{[C]="";[p]=0;[u];constructor(m=[],F={}){let I="Failed to construct 'Blob'";m=t.converters["sequence<BlobPart>"](m,{context:"Argument 1",prefix:I}),F=t.converters.BlobPropertyBag(F,{context:"Argument 2",prefix:I}),this[t.brand]=t.brand;let{parts:Z,size:ae}=ee(m,F.endings);this[u]=Z,this[p]=ae,this[C]=ue(F.type)}get size(){return t.assertBranded(this,v),this[p]}get type(){return t.assertBranded(this,v),this[C]}slice(m=void 0,F=void 0,I=void 0){t.assertBranded(this,v);let Z="Failed to execute 'slice' on 'Blob'";m!==void 0&&(m=t.converters["long long"](m,{clamp:!0,context:"Argument 1",prefix:Z})),F!==void 0&&(F=t.converters["long long"](F,{clamp:!0,context:"Argument 2",prefix:Z})),I!==void 0&&(I=t.converters.DOMString(I,{context:"Argument 3",prefix:Z}));let ae=this,O;m===void 0?O=0:m<0?O=te(ae.size+m,0):O=R(m,ae.size);let ge;F===void 0?ge=ae.size:F<0?ge=te(ae.size+F,0):ge=R(F,ae.size);let we=te(ge-O,0),Ae=[],G=0;for(let it of this[u]){if(G>=we)break;let Q=it.size;if(O&&Q<=O)O-=Q,ge-=Q;else{let ve=it.slice(O,R(it.size,ge));G+=ve.size,ge-=it.size,L(Ae,ve),O=0}}let pe;I===void 0?pe="":pe=ue(I);let Ue=new v([],{type:pe});return Ue[u]=Ae,Ue[p]=we,Ue}stream(){t.assertBranded(this,v);let m=_(this[u]),F=new ReadableStream({type:"bytes",async pull(I){for(;;){let{value:Z,done:ae}=await m.next();if(ae)return I.close();if(Z.byteLength>0)return I.enqueue(Z)}}});return F}async text(){t.assertBranded(this,v);let m=await this.arrayBuffer();return e.decode(new h(m))}async arrayBuffer(){t.assertBranded(this,v);let m=this.stream(),F=new h(this.size),I=0;for await(let Z of m)y(F,Z,I),I+=Z.byteLength;return F.buffer}[X("Deno.customInspect")](m){return m(A.createFilteredInspectProxy({object:this,evaluate:this instanceof v,keys:["size","type"]}))}}t.configurePrototype(v),t.converters.Blob=t.createInterfaceConverter("Blob",v),t.converters.BlobPart=(E,m)=>{if(typeof E=="object"){if(E instanceof v)return t.converters.Blob(E,m);if(E instanceof d||E instanceof SharedArrayBuffer)return t.converters.ArrayBuffer(E,m);if($(E))return t.converters.ArrayBufferView(E,m)}return t.converters.USVString(E,m)},t.converters["sequence<BlobPart>"]=t.createSequenceConverter(t.converters.BlobPart),t.converters.EndingType=t.createEnumConverter("EndingType",["transparent","native"]);let U=[{key:"type",converter:t.converters.DOMString,defaultValue:""},{key:"endings",converter:t.converters.EndingType,defaultValue:"transparent"}];t.converters.BlobPropertyBag=t.createDictionaryConverter("BlobPropertyBag",U);let k=B("[[Name]]"),l=B("[[LastModified]]");class T extends v{[k];[l];constructor(m,F,I={}){let Z="Failed to construct 'File'";t.requiredArguments(arguments.length,2,{prefix:Z}),m=t.converters["sequence<BlobPart>"](m,{context:"Argument 1",prefix:Z}),F=t.converters.USVString(F,{context:"Argument 2",prefix:Z}),I=t.converters.FilePropertyBag(I,{context:"Argument 3",prefix:Z}),super(m,I),this[k]=F,I.lastModified===void 0?this[l]=j(new he):this[l]=I.lastModified}get name(){return t.assertBranded(this,T),this[k]}get lastModified(){return t.assertBranded(this,T),this[l]}}t.configurePrototype(T),t.converters.FilePropertyBag=t.createDictionaryConverter("FilePropertyBag",U,[{key:"lastModified",converter:t.converters["long long"]}]);let f=new FinalizationRegistry(E=>{e.opSync("op_blob_remove_part",E)});class J{constructor(m,F){this._id=m,this.size=F,f.register(this,m)}static fromUint8Array(m){let F=e.opSync("op_blob_create_part",m);return new J(F,m.byteLength)}slice(m,F){let I=F-m,Z=e.opSync("op_blob_slice_part",this._id,{start:m,len:I});return new J(Z,I)}async*stream(){yield e.opAsync("op_blob_read_part",this._id)}}function P(E){let m=e.opSync("op_blob_from_object_url",E);if(m===null)return null;let F=[],I=0;for(let{uuid:ae,size:O}of m.parts)L(F,new J(ae,O)),I+=O;let Z=t.createBranded(v);return Z[C]=m.media_type,Z[p]=I,Z[u]=F,Z}i.__bootstrap.file={blobFromObjectUrl:P,getParts:D,Blob:v,File:T}})(q)}),lo=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{forgivingBase64Encode:t}=i.__bootstrap.infra,{decode:d,TextDecoder:ce}=i.__bootstrap.encoding,{parseMimeType:$}=i.__bootstrap.mimesniff,{DOMException:L}=i.__bootstrap.domException,{ArrayPrototypeJoin:he,ArrayPrototypeMap:j,ArrayPrototypePush:te,ArrayPrototypeReduce:R,FunctionPrototypeCall:fe,Map:Y,MapPrototypeGet:ne,MapPrototypeSet:K,ObjectDefineProperty:B,queueMicrotask:X,StringFromCodePoint:y,Symbol:S,TypedArrayPrototypeSet:h,TypeError:A,Uint8Array:V}=i.__bootstrap.primordials,M=S("[[state]]"),g=S("[[result]]"),_=S("[[error]]"),ee=S("[[aborted]]"),ue=S("eventHandlers");class D extends EventTarget{[M]="empty";[g]=null;[_]=null;[ee]=null;#e(u,v){if(this[M]==="loading")throw new L("Invalid FileReader state.","InvalidStateError");this[M]="loading",this[g]=null,this[_]=null;let U=this[ee]={aborted:!1},k=u.stream(),l=k.getReader(),T=[],f=l.read(),J=!0;(async()=>{for(;!U.aborted;)try{let P=await f;if(U.aborted)return;if(J&&X(()=>{if(U.aborted)return;let E=new ProgressEvent("loadstart",{});this.dispatchEvent(E)}),J=!1,!P.done&&P.value instanceof V){te(T,P.value);{let E=R(T,(F,I)=>F+I.byteLength,0),m=new ProgressEvent("progress",{loaded:E});X(()=>{if(U.aborted)return;this.dispatchEvent(m)})}f=l.read()}else if(P.done===!0){X(()=>{if(U.aborted)return;this[M]="done";let E=R(T,(I,Z)=>I+Z.byteLength,0),m=new V(E),F=0;for(let I of T)h(m,I,F),F+=I.byteLength;switch(v.kind){case"ArrayBuffer":{this[g]=m.buffer;break}case"BinaryString":this[g]=he(j([...new V(m.buffer)],I=>y(I)),"");break;case"Text":{let I;if(v.encoding)try{I=new ce(v.encoding)}catch{}if(I===void 0){let Z=$(u.type);if(Z){let ae=ne(Z.parameters,"charset");if(ae)try{I=new ce(ae)}catch{}}}I===void 0&&(I=new ce),this[g]=d(m,I.encoding);break}case"DataUrl":{let I=u.type||"application/octet-stream";this[g]=`data:${I};base64,${t(m)}`;break}}{let I=new ProgressEvent("load",{lengthComputable:!0,loaded:E,total:E});this.dispatchEvent(I)}if(this[M]!=="loading"){let I=new ProgressEvent("loadend",{lengthComputable:!0,loaded:E,total:E});this.dispatchEvent(I)}});break}}catch(P){X(()=>{if(U.aborted)return;this[M]="done",this[_]=P;{let E=new ProgressEvent("error",{});this.dispatchEvent(E)}if(this[M]!=="loading"){let E=new ProgressEvent("loadend",{});this.dispatchEvent(E)}});break}})()}#t(u){e.assertBranded(this,D);let v=this[ue];return v?ne(v,u)?.handler??null:null}#r(u,v){e.assertBranded(this,D),this[ue]||(this[ue]=new Y);let U=ne(this[ue],u);U?U.handler=v:(U=C(v),this.addEventListener(u,U)),K(this[ue],u,U)}constructor(){super();this[e.brand]=e.brand}get readyState(){e.assertBranded(this,D);switch(this[M]){case"empty":return D.EMPTY;case"loading":return D.LOADING;case"done":return D.DONE;default:throw new A("Invalid state")}}get result(){return e.assertBranded(this,D),this[g]}get error(){return e.assertBranded(this,D),this[_]}abort(){if(e.assertBranded(this,D),this[M]==="empty"||this[M]==="done"){this[g]=null;return}this[M]==="loading"&&(this[M]="done",this[g]=null),this[ee]!==null&&(this[ee].aborted=!0);let u=new ProgressEvent("abort",{});if(this.dispatchEvent(u),this[M]!=="loading"){let v=new ProgressEvent("loadend",{});this.dispatchEvent(v)}}readAsArrayBuffer(u){e.assertBranded(this,D);let v="Failed to execute 'readAsArrayBuffer' on 'FileReader'";e.requiredArguments(arguments.length,1,{prefix:v}),this.#e(u,{kind:"ArrayBuffer"})}readAsBinaryString(u){e.assertBranded(this,D);let v="Failed to execute 'readAsBinaryString' on 'FileReader'";e.requiredArguments(arguments.length,1,{prefix:v}),this.#e(u,{kind:"BinaryString"})}readAsDataURL(u){e.assertBranded(this,D);let v="Failed to execute 'readAsDataURL' on 'FileReader'";e.requiredArguments(arguments.length,1,{prefix:v}),this.#e(u,{kind:"DataUrl"})}readAsText(u,v=void 0){e.assertBranded(this,D);let U="Failed to execute 'readAsText' on 'FileReader'";e.requiredArguments(arguments.length,1,{prefix:U}),v!==void 0&&(v=e.converters.DOMString(v,{prefix:U,context:"Argument 2"})),this.#e(u,{kind:"Text",encoding:v})}get onerror(){return this.#t("error")}set onerror(u){this.#r("error",u)}get onloadstart(){return this.#t("loadstart")}set onloadstart(u){this.#r("loadstart",u)}get onload(){return this.#t("load")}set onload(u){this.#r("load",u)}get onloadend(){return this.#t("loadend")}set onloadend(u){this.#r("loadend",u)}get onprogress(){return this.#t("progress")}set onprogress(u){this.#r("progress",u)}get onabort(){return this.#t("abort")}set onabort(u){this.#r("abort",u)}}e.configurePrototype(D),B(D,"EMPTY",{writable:!1,enumerable:!0,configurable:!1,value:0}),B(D,"LOADING",{writable:!1,enumerable:!0,configurable:!1,value:1}),B(D,"DONE",{writable:!1,enumerable:!0,configurable:!1,value:2}),B(D.prototype,"EMPTY",{writable:!1,enumerable:!0,configurable:!1,value:0}),B(D.prototype,"LOADING",{writable:!1,enumerable:!0,configurable:!1,value:1}),B(D.prototype,"DONE",{writable:!1,enumerable:!0,configurable:!1,value:2});function C(p){function u(...v){return typeof u.handler!="function"?void 0:fe(u.handler,this,...v)}return u.handler=p,u}i.__bootstrap.fileReader={FileReader:D}})(q)}),fo=pt(q=>{"use strict";(i=>{let{URL:e}=i.__bootstrap.url,{DOMException:t}=i.__bootstrap.domException,{Error:d,ObjectDefineProperties:ce,ReferenceError:$,Symbol:L,SymbolFor:he,SymbolToStringTag:j,TypeError:te,WeakMap:R,WeakMapPrototypeGet:fe,WeakMapPrototypeSet:Y}=i.__bootstrap.primordials,ne=L("locationConstuctorKey");class K{constructor(V=null,M=null){if(M!=ne)throw new te("Illegal constructor.");let g=new e(V);g.username="",g.password="",ce(this,{hash:{get(){return g.hash},set(){throw new t('Cannot set "location.hash".',"NotSupportedError")},enumerable:!0},host:{get(){return g.host},set(){throw new t('Cannot set "location.host".',"NotSupportedError")},enumerable:!0},hostname:{get(){return g.hostname},set(){throw new t('Cannot set "location.hostname".',"NotSupportedError")},enumerable:!0},href:{get(){return g.href},set(){throw new t('Cannot set "location.href".',"NotSupportedError")},enumerable:!0},origin:{get(){return g.origin},enumerable:!0},pathname:{get(){return g.pathname},set(){throw new t('Cannot set "location.pathname".',"NotSupportedError")},enumerable:!0},port:{get(){return g.port},set(){throw new t('Cannot set "location.port".',"NotSupportedError")},enumerable:!0},protocol:{get(){return g.protocol},set(){throw new t('Cannot set "location.protocol".',"NotSupportedError")},enumerable:!0},search:{get(){return g.search},set(){throw new t('Cannot set "location.search".',"NotSupportedError")},enumerable:!0},ancestorOrigins:{get(){return{length:0,item:()=>null,contains:()=>!1}},enumerable:!0},assign:{value:function(){throw new t('Cannot call "location.assign()".',"NotSupportedError")},enumerable:!0},reload:{value:function(){throw new t('Cannot call "location.reload()".',"NotSupportedError")},enumerable:!0},replace:{value:function(){throw new t('Cannot call "location.replace()".',"NotSupportedError")},enumerable:!0},toString:{value:function(){return g.href},enumerable:!0},[he("Deno.privateCustomInspect")]:{value:function(_){let ee={hash:this.hash,host:this.host,hostname:this.hostname,href:this.href,origin:this.origin,pathname:this.pathname,port:this.port,protocol:this.protocol,search:this.search};return`${this.constructor.name} ${_(ee)}`}}})}}ce(K.prototype,{[j]:{value:"Location",configurable:!0}});let B=new R;class X{constructor(V=null,M=null){if(M!=ne)throw new te("Illegal constructor.");let g=new e(V);g.username="",g.password="",Y(B,this,g)}}ce(X.prototype,{hash:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.hash},configurable:!0,enumerable:!0},host:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.host},configurable:!0,enumerable:!0},hostname:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.hostname},configurable:!0,enumerable:!0},href:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.href},configurable:!0,enumerable:!0},origin:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.origin},configurable:!0,enumerable:!0},pathname:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.pathname},configurable:!0,enumerable:!0},port:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.port},configurable:!0,enumerable:!0},protocol:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.protocol},configurable:!0,enumerable:!0},search:{get(){let A=fe(B,this);if(A==null)throw new te("Illegal invocation.");return A.search},configurable:!0,enumerable:!0},toString:{value:function(){let V=fe(B,this);if(V==null)throw new te("Illegal invocation.");return V.href},configurable:!0,enumerable:!0,writable:!0},[j]:{value:"WorkerLocation",configurable:!0},[he("Deno.privateCustomInspect")]:{value:function(A){let V={hash:this.hash,host:this.host,hostname:this.hostname,href:this.href,origin:this.origin,pathname:this.pathname,port:this.port,protocol:this.protocol,search:this.search};return`${this.constructor.name} ${A(V)}`}}});let y=null,S=null;function h(A){y=new K(A,ne),S=new X(A,ne)}i.__bootstrap.location={locationConstructorDescriptor:{value:K,configurable:!0,writable:!0},workerLocationConstructorDescriptor:{value:X,configurable:!0,writable:!0},locationDescriptor:{get(){if(y==null)throw new $('Access to "location", run again with --location <href>.');return y},set(){throw new t('Cannot set "location".',"NotSupportedError")},enumerable:!0},workerLocationDescriptor:{get(){if(S==null)throw new d('Assertion: "__context.location" must be defined in a worker.');return S},configurable:!0,enumerable:!0},setLocationHref:h,getLocationHref(){return y?.href}}})(q)}),po=pt(q=>{"use strict";(i=>{let{TypeError:e}=i.__bootstrap.primordials;function t(d,ce,$){if(ce<$){let L=`${d} requires at least ${$} argument${$===1?"":"s"}, but only ${ce} present`;throw new e(L)}}i.__bootstrap.fetchUtil={requiredArguments:t}})(q)}),ho=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{HTTP_TAB_OR_SPACE_PREFIX_RE:t,HTTP_TAB_OR_SPACE_SUFFIX_RE:d,HTTP_TOKEN_CODE_POINT_RE:ce,byteLowerCase:$,collectSequenceOfCodepoints:L,collectHttpQuotedString:he,httpTrim:j}=i.__bootstrap.infra,{ArrayIsArray:te,ArrayPrototypeMap:R,ArrayPrototypePush:fe,ArrayPrototypeSort:Y,ArrayPrototypeJoin:ne,ArrayPrototypeSplice:K,ArrayPrototypeFilter:B,ObjectPrototypeHasOwnProperty:X,ObjectEntries:y,RegExpPrototypeTest:S,Symbol:h,SymbolFor:A,SymbolIterator:V,StringPrototypeReplaceAll:M,TypeError:g}=i.__bootstrap.primordials,_=h("header list"),ee=h("iterable headers"),ue=h("guard");function D(J){return j(J)}function C(J,P){if(te(P))for(let E of P){if(E.length!==2)throw new g(`Invalid header. Length must be 2, but is ${E.length}`);u(J,E[0],E[1])}else for(let E in P){if(!X(P,E))continue;u(J,E,P[E])}}let p=/[\x00\x0A\x0D]/g;function u(J,P,E){if(E=D(E),!S(ce,P))throw new g("Header name is not valid.");if(S(p,E))throw new g("Header value is not valid.");if(J[ue]=="immutable")throw new g("Headers are immutable.");let m=J[_],F=$(P);for(let I=0;I<m.length;I++)if($(m[I][0])===F){P=m[I][0];break}fe(m,[P,E])}function v(J,P){let E=$(P),m=R(B(J,F=>$(F[0])===E),F=>F[1]);return m.length===0?null:ne(m,", ")}function U(J,P){let E=v(J,P);if(E===null)return null;let m=E,F=0,I=[],Z="";for(;F<E.length;){let ae=L(E,F,O=>O!=='"'&&O!==",");if(Z+=ae.result,F=ae.position,F<E.length)if(m[F]==='"'){let O=he(m,F,!1);if(Z+=O.result,F=O.position,F<E.length)continue}else{if(m[F]!==",")throw new g("Unreachable");F+=1}Z=M(Z,t,""),Z=M(Z,d,""),fe(I,Z),Z=""}return I}class k{[_]=[];[ue];get[ee](){let P=this[_],E={},m=[];for(let F of P){let I=$(F[0]),Z=F[1];if(Z===null)throw new g("Unreachable");if(I==="set-cookie")fe(m,[I,Z]);else{let ae=E[I];ae&&ae.length>0?ae+=", "+Z:ae=Z,E[I]=ae}}return Y([...y(E),...m],(F,I)=>{let Z=F[0],ae=I[0];return Z>ae?1:Z<ae?-1:0})}constructor(P=void 0){let E="Failed to construct 'Headers'";P!==void 0&&(P=e.converters.HeadersInit(P,{prefix:E,context:"Argument 1"})),this[e.brand]=e.brand,this[ue]="none",P!==void 0&&C(this,P)}append(P,E){e.assertBranded(this,k);let m="Failed to execute 'append' on 'Headers'";e.requiredArguments(arguments.length,2,{prefix:m}),P=e.converters.ByteString(P,{prefix:m,context:"Argument 1"}),E=e.converters.ByteString(E,{prefix:m,context:"Argument 2"}),u(this,P,E)}delete(P){let E="Failed to execute 'delete' on 'Headers'";if(e.requiredArguments(arguments.length,1,{prefix:E}),P=e.converters.ByteString(P,{prefix:E,context:"Argument 1"}),!S(ce,P))throw new g("Header name is not valid.");if(this[ue]=="immutable")throw new g("Headers are immutable.");let m=this[_],F=$(P);for(let I=0;I<m.length;I++)$(m[I][0])===F&&(K(m,I,1),I--)}get(P){let E="Failed to execute 'get' on 'Headers'";if(e.requiredArguments(arguments.length,1,{prefix:E}),P=e.converters.ByteString(P,{prefix:E,context:"Argument 1"}),!S(ce,P))throw new g("Header name is not valid.");let m=this[_];return v(m,P)}has(P){let E="Failed to execute 'has' on 'Headers'";if(e.requiredArguments(arguments.length,1,{prefix:E}),P=e.converters.ByteString(P,{prefix:E,context:"Argument 1"}),!S(ce,P))throw new g("Header name is not valid.");let m=this[_],F=$(P);for(let I=0;I<m.length;I++)if($(m[I][0])===F)return!0;return!1}set(P,E){e.assertBranded(this,k);let m="Failed to execute 'set' on 'Headers'";if(e.requiredArguments(arguments.length,2,{prefix:m}),P=e.converters.ByteString(P,{prefix:m,context:"Argument 1"}),E=e.converters.ByteString(E,{prefix:m,context:"Argument 2"}),E=D(E),!S(ce,P))throw new g("Header name is not valid.");if(S(p,E))throw new g("Header value is not valid.");if(this[ue]=="immutable")throw new g("Headers are immutable.");let F=this[_],I=$(P),Z=!1;for(let ae=0;ae<F.length;ae++)$(F[ae][0])===I&&(Z?(K(F,ae,1),ae--):(F[ae][1]=E,Z=!0));Z||fe(F,[P,E])}[A("Deno.privateCustomInspect")](P){let E={};for(let m of this)E[m[0]]=m[1];return`Headers ${P(E)}`}}e.mixinPairIterable("Headers",k,ee,0,1),e.configurePrototype(k),e.converters.HeadersInit=(J,P)=>{if(e.type(J)==="Object"&&J!==null)return J[V]!==void 0?e.converters["sequence<sequence<ByteString>>"](J,P):e.converters["record<ByteString, ByteString>"](J,P);throw e.makeException(g,"The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)'",P)},e.converters.Headers=e.createInterfaceConverter("Headers",k);function l(J,P){let E=e.createBranded(k);return E[_]=J,E[ue]=P,E}function T(J){return J[_]}function f(J){return J[ue]}i.__bootstrap.headers={Headers:k,headersFromHeaderList:l,headerListFromHeaders:T,fillHeaders:C,getDecodeSplitHeader:U,guardFromHeaders:f}})(q)}),yo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{byteLowerCase:d}=i.__bootstrap.infra,{errorReadableStream:ce}=i.__bootstrap.streams,{InnerBody:$,extractBody:L}=i.__bootstrap.fetchBody,{toInnerRequest:he,toInnerResponse:j,fromInnerResponse:te,redirectStatus:R,nullBodyStatus:fe,networkError:Y,abortedNetworkError:ne}=i.__bootstrap.fetch,K=i.__bootstrap.abortSignal,{DOMException:B}=i.__bootstrap.domException,{ArrayPrototypePush:X,ArrayPrototypeSplice:y,ArrayPrototypeFilter:S,ArrayPrototypeIncludes:h,Promise:A,PromisePrototypeThen:V,PromisePrototypeCatch:M,String:g,StringPrototypeStartsWith:_,StringPrototypeToLowerCase:ee,TypedArrayPrototypeSubarray:ue,TypeError:D,Uint8Array:C,WeakMap:p,WeakMapPrototypeDelete:u,WeakMapPrototypeGet:v,WeakMapPrototypeHas:U,WeakMapPrototypeSet:k}=i.__bootstrap.primordials,l=["content-encoding","content-language","content-location","content-type"],T=new p;function f(O,ge){return e.opSync("op_fetch",O,ge)}function J(O){return e.opAsync("op_fetch_send",O)}let P=new FinalizationRegistry(O=>{e.tryClose(O)});function E(O,ge){function we(){Ae&&ce(Ae,new B("Ongoing fetch was aborted.","AbortError")),e.tryClose(O)}ge[K.add](we);let Ae=new ReadableStream({type:"bytes",async pull(G){try{let pe=new C(16*1024+256),Ue=await e.read(O,pe);Ue>0?G.enqueue(ue(pe,0,Ue)):(P.unregister(Ae),G.close(),e.tryClose(O))}catch(pe){P.unregister(Ae),ge.aborted?G.error(new B("Ongoing fetch was aborted.","AbortError")):G.error(pe),e.tryClose(O)}},cancel(){ge.aborted||ge[K.signalAbort]()}});return P.register(Ae,O,Ae),Ae}async function m(O,ge,we){if(O.blobUrlEntry!==null){if(O.method!=="GET")throw new D("Blob URL fetch only supports GET method.");let Se=new $(O.blobUrlEntry.stream());return we[K.add](()=>Se.error(new B("Ongoing fetch was aborted.","AbortError"))),{headerList:[["content-length",g(O.blobUrlEntry.size)],["content-type",O.blobUrlEntry.type]],status:200,statusMessage:"OK",body:Se,type:"basic",url(){return this.urlList.length==0?null:this.urlList[this.urlList.length-1]},urlList:ge?[]:[...O.urlList]}}let Ae=null;if(O.body!==null)if(O.body.streamOrStatic instanceof ReadableStream)if(O.body.length===null||O.body.source instanceof Blob)Ae=O.body.stream;else{let Se=O.body.stream.getReader();k(T,O,Se);let Te=await Se.read();if(Te.done)Ae=new C(0);else{Ae=Te.value;let Fe=await Se.read();if(!Fe.done)throw new D("Unreachable")}u(T,O)}else O.body.streamOrStatic.consumed=!0,Ae=O.body.streamOrStatic.body,Ae=typeof Ae=="string"?e.encode(Ae):Ae;let{requestRid:G,requestBodyRid:pe,cancelHandleRid:Ue}=f({method:O.method,url:O.currentUrl(),headers:O.headerList,clientRid:O.clientRid,hasBody:Ae!==null,bodyLength:O.body?.length},Ae instanceof C?Ae:null);function it(){Ue!==null&&e.tryClose(Ue),pe!==null&&e.tryClose(pe)}if(we[K.add](it),pe!==null){if(Ae===null||!(Ae instanceof ReadableStream))throw new D("Unreachable");let Se=Ae.getReader();k(T,O,Se),(async()=>{for(;;){let{value:Te,done:Fe}=await M(Se.read(),z=>{if(we.aborted)return{done:!0,value:void 0};throw z});if(Fe)break;if(!(Te instanceof C)){await Se.cancel("value not a Uint8Array");break}try{if(await M(e.write(pe,Te),z=>{if(we.aborted)return;throw z}),we.aborted)break}catch(z){await Se.cancel(z);break}}u(T,O),e.tryClose(pe)})()}let Q;try{Q=await M(J(G),Se=>{if(we.aborted)return;throw Se})}finally{Ue!==null&&e.tryClose(Ue)}if(we.aborted)return ne();let ve={headerList:Q.headers,status:Q.status,body:null,statusMessage:Q.statusText,type:"basic",url(){return this.urlList.length==0?null:this.urlList[this.urlList.length-1]},urlList:O.urlList};if(R(Q.status))switch(O.redirectMode){case"error":return e.close(Q.responseRid),Y("Encountered redirect while redirect mode is set to 'error'");case"follow":return e.close(Q.responseRid),F(O,ve,we);case"manual":break}return fe(ve.status)?e.close(Q.responseRid):O.method==="HEAD"||O.method==="CONNECT"?(ve.body=null,e.close(Q.responseRid)):ve.body=new $(E(Q.responseRid,we)),ge||ve.urlList.length===0&&(ve.urlList=[...O.urlList]),ve}function F(O,ge,we){let Ae=S(ge.headerList,pe=>d(pe[0])==="location");if(Ae.length===0)return ge;let G=new URL(Ae[0][1],ge.url()??void 0);if(G.hash===""&&(G.hash=O.currentUrl().hash),G.protocol!=="https:"&&G.protocol!=="http:")return Y("Can not redirect to a non HTTP(s) url");if(O.redirectCount===20)return Y("Maximum number of redirects (20) reached");if(O.redirectCount++,ge.status!==303&&O.body!==null&&O.body.source===null)return Y("Can not redeliver a streaming request body after a redirect");if((ge.status===301||ge.status===302)&&O.method==="POST"||ge.status===303&&O.method!=="GET"&&O.method!=="HEAD"){O.method="GET",O.body=null;for(let pe=0;pe<O.headerList.length;pe++)h(l,d(O.headerList[pe][0]))&&(y(O.headerList,pe,1),pe--)}if(O.body!==null){let pe=L(O.body.source);O.body=pe.body}return X(O.urlList,G.href),m(O,!0,we)}function I(O,ge={}){return new A((we,Ae)=>{let G="Failed to call 'fetch'";t.requiredArguments(arguments.length,1,{prefix:G});let pe=new Request(O,ge),Ue=he(pe);if(pe.signal.aborted){Ae(Z(Ue,null));return}let it=null,Q=!1;function ve(){Q=!0,Ae(Z(Ue,it))}pe.signal[K.add](ve),pe.headers.has("Accept")||X(Ue.headerList,["Accept","*/*"]),M(V(m(Ue,!1,pe.signal),Se=>{if(Q)return;if(Se.aborted){Ae(Ue,it),pe.signal[K.remove](ve);return}if(Se.type==="error"){let Te=new D("Fetch failed: "+(Se.error??"unknown error"));Ae(Te),pe.signal[K.remove](ve);return}it=te(Se,"immutable"),we(it),pe.signal[K.remove](ve)}),Se=>{Ae(Se),pe.signal[K.remove](ve)})})}function Z(O,ge){let we=new B("Ongoing fetch was aborted.","AbortError");if(O.body!==null&&(U(T,O)?v(T,O).cancel(we):O.body.cancel(we)),ge!==null){let Ae=j(ge);Ae.body!==null&&Ae.body.error(we)}return we}function ae(O,ge){(async()=>{try{let we=t.converters.Response(await O,{prefix:"Failed to call 'WebAssembly.compileStreaming'",context:"Argument 1"});if(!_(we.url,"file://")){let Ae=we.headers.get("Content-Type");if(typeof Ae!="string"||ee(Ae)!=="application/wasm")throw new D("Invalid WebAssembly content type.")}if(!we.ok)throw new D(`HTTP status code ${we.status}`);if(e.opSync("op_wasm_streaming_set_url",ge,we.url),we.body!==null){let Ae=we.body.getReader();for(;;){let{value:G,done:pe}=await Ae.read();if(pe)break;e.opSync("op_wasm_streaming_feed",ge,G)}}e.close(ge)}catch(we){e.opSync("op_wasm_streaming_abort",ge,we)}})()}i.__bootstrap.fetch??={},i.__bootstrap.fetch.fetch=I,i.__bootstrap.fetch.handleWasmStreaming=ae})(q)}),go=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{URL:t}=i.__bootstrap.url,d=i.__bootstrap.webidl,{HTTP_TOKEN_CODE_POINT_RE:ce}=i.__bootstrap.infra,{DOMException:$}=i.__bootstrap.domException,{defineEventHandler:L}=i.__bootstrap.event,{Blob:he}=je.__bootstrap.file,{ArrayBuffer:j,ArrayBufferIsView:te,ArrayPrototypeJoin:R,DataView:fe,ErrorPrototypeToString:Y,Set:ne,Symbol:K,String:B,StringPrototypeToLowerCase:X,StringPrototypeEndsWith:y,RegExpPrototypeTest:S,ObjectDefineProperties:h,ArrayPrototypeMap:A,ArrayPrototypeSome:V,PromisePrototypeThen:M}=i.__bootstrap.primordials;d.converters["sequence<DOMString> or DOMString"]=(J,P)=>d.type(J)==="Object"&&J!==null&&J[K.iterator]!==void 0?d.converters["sequence<DOMString>"](J,P):d.converters.DOMString(J,P),d.converters.WebSocketSend=(J,P)=>{if(J instanceof he)return d.converters.Blob(J,P);if(typeof J=="object"){if(J instanceof j||J instanceof SharedArrayBuffer)return d.converters.ArrayBuffer(J,P);if(te(J))return d.converters.ArrayBufferView(J,P)}return d.converters.USVString(J,P)};let g=0,_=1,ee=2,ue=3,D=K("[[readyState]]"),C=K("[[url]]"),p=K("[[rid]]"),u=K("[[extensions]]"),v=K("[[protocol]]"),U=K("[[binaryType]]"),k=K("[[bufferedAmount]]"),l=K("[[eventLoop]]"),T=K("[[server]]");class f extends EventTarget{[p];[D]=g;get readyState(){return d.assertBranded(this,f),this[D]}get CONNECTING(){return d.assertBranded(this,f),g}get OPEN(){return d.assertBranded(this,f),_}get CLOSING(){return d.assertBranded(this,f),ee}get CLOSED(){return d.assertBranded(this,f),ue}[u]="";get extensions(){return d.assertBranded(this,f),this[u]}[v]="";get protocol(){return d.assertBranded(this,f),this[v]}[C]="";get url(){return d.assertBranded(this,f),this[C]}[U]="blob";get binaryType(){return d.assertBranded(this,f),this[U]}set binaryType(P){d.assertBranded(this,f),P=d.converters.DOMString(P,{prefix:"Failed to set 'binaryType' on 'WebSocket'"}),(P==="blob"||P==="arraybuffer")&&(this[U]=P)}[k]=0;get bufferedAmount(){return d.assertBranded(this,f),this[k]}constructor(P,E=[]){super();this[d.brand]=d.brand;let m="Failed to construct 'WebSocket'";d.requiredArguments(arguments.length,1,{prefix:m}),P=d.converters.USVString(P,{prefix:m,context:"Argument 1"}),E=d.converters["sequence<DOMString> or DOMString"](E,{prefix:m,context:"Argument 2"});let F;try{F=new t(P)}catch(I){throw new $(I.message,"SyntaxError")}if(F.protocol!=="ws:"&&F.protocol!=="wss:")throw new $("Only ws & wss schemes are allowed in a WebSocket URL.","SyntaxError");if(F.hash!==""||y(F.href,"#"))throw new $("Fragments are not allowed in a WebSocket URL.","SyntaxError");if(this[C]=F.href,e.opSync("op_ws_check_permission_and_cancel_handle",this[C],!1),typeof E=="string"&&(E=[E]),E.length!==new ne(A(E,I=>X(I))).size)throw new $("Can't supply multiple times the same protocol.","SyntaxError");if(V(E,I=>!S(ce,I)))throw new $("Invalid protocol value.","SyntaxError");M(e.opAsync("op_ws_create",{url:F.href,protocols:R(E,", ")}),I=>{if(this[p]=I.rid,this[u]=I.extensions,this[v]=I.protocol,this[D]===ee)M(e.opAsync("op_ws_close",{rid:this[p]}),()=>{this[D]=ue;let Z=new ErrorEvent("error");this.dispatchEvent(Z);let ae=new CloseEvent("close");this.dispatchEvent(ae),e.tryClose(this[p])});else{this[D]=_;let Z=new Event("open");this.dispatchEvent(Z),this[l]()}},I=>{this[D]=ue;let Z=new ErrorEvent("error",{error:I,message:Y(I)});this.dispatchEvent(Z);let ae=new CloseEvent("close");this.dispatchEvent(ae)})}send(P){d.assertBranded(this,f);let E="Failed to execute 'send' on 'WebSocket'";if(d.requiredArguments(arguments.length,1,{prefix:E}),P=d.converters.WebSocketSend(P,{prefix:E,context:"Argument 1"}),this[D]!==_)throw new $("readyState not OPEN","InvalidStateError");let m=F=>{this[k]+=F.byteLength,M(e.opAsync("op_ws_send",this[p],{kind:"binary",value:F}),()=>{this[k]-=F.byteLength})};if(P instanceof he)M(P.slice().arrayBuffer(),F=>m(new fe(F)));else if(te(P))m(P);else if(P instanceof j)m(new fe(P));else{let F=B(P),I=e.encode(F);this[k]+=I.byteLength,M(e.opAsync("op_ws_send",this[p],{kind:"text",value:F}),()=>{this[k]-=I.byteLength})}}close(P=void 0,E=void 0){d.assertBranded(this,f);let m="Failed to execute 'close' on 'WebSocket'";if(P!==void 0&&(P=d.converters["unsigned short"](P,{prefix:m,clamp:!0,context:"Argument 1"})),E!==void 0&&(E=d.converters.USVString(E,{prefix:m,context:"Argument 2"})),!this[T]&&(P!==void 0&&!(P===1e3||3e3<=P&&P<5e3)))throw new $("The close code must be either 1000 or in the range of 3000 to 4999.","InvalidAccessError");if(E!==void 0&&e.encode(E).byteLength>123)throw new $("The close reason may not be longer than 123 bytes.","SyntaxError");this[D]===g?this[D]=ee:this[D]===_&&(this[D]=ee,M(e.opAsync("op_ws_close",{rid:this[p],code:P,reason:E}),()=>{this[D]=ue;let F=new CloseEvent("close",{wasClean:!0,code:P??1005,reason:E});this.dispatchEvent(F),e.tryClose(this[p])}))}async[l](){for(;this[D]===_;){let{kind:P,value:E}=await e.opAsync("op_ws_next_event",this[p]);switch(P){case"string":{let m=new MessageEvent("message",{data:E,origin:this[C]});this.dispatchEvent(m);break}case"binary":{let m;this.binaryType==="blob"?m=new he([E]):m=E.buffer;let F=new MessageEvent("message",{data:m,origin:this[C]});this.dispatchEvent(F);break}case"ping":{e.opAsync("op_ws_send",this[p],{kind:"pong"});break}case"closed":case"close":{this[D]=ue;let m=new CloseEvent("close",{wasClean:!0,code:E.code,reason:E.reason});this.dispatchEvent(m),e.tryClose(this[p]);break}case"error":{this[D]=ue;let m=new ErrorEvent("error",{message:E});this.dispatchEvent(m);let F=new CloseEvent("close");this.dispatchEvent(F),e.tryClose(this[p]);break}}}}}h(f,{CONNECTING:{value:0},OPEN:{value:1},CLOSING:{value:2},CLOSED:{value:3}}),L(f.prototype,"message"),L(f.prototype,"error"),L(f.prototype,"close"),L(f.prototype,"open"),d.configurePrototype(f),i.__bootstrap.webSocket={WebSocket:f,_rid:p,_readyState:D,_eventLoop:l,_protocol:v,_server:T}})(q)}),mo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{writableStreamClose:d,Deferred:ce}=i.__bootstrap.streams,{DOMException:$}=i.__bootstrap.domException,{add:L,remove:he}=i.__bootstrap.abortSignal,{StringPrototypeEndsWith:j,StringPrototypeToLowerCase:te,Symbol:R,SymbolFor:fe,Set:Y,ArrayPrototypeMap:ne,ArrayPrototypeJoin:K,PromisePrototypeThen:B,PromisePrototypeCatch:X,Uint8Array:y,TypeError:S,Error:h}=i.__bootstrap.primordials;t.converters.WebSocketStreamOptions=t.createDictionaryConverter("WebSocketStreamOptions",[{key:"protocols",converter:t.converters["sequence<USVString>"],get defaultValue(){return[]}},{key:"signal",converter:t.converters.AbortSignal}]),t.converters.WebSocketCloseInfo=t.createDictionaryConverter("WebSocketCloseInfo",[{key:"code",converter:t.converters["unsigned short"]},{key:"reason",converter:t.converters.USVString,defaultValue:""}]);let A=R("[[rid]]"),V=R("[[url]]"),M=R("[[connection]]"),g=R("[[closed]]"),_=R("[[closing]]"),ee=R("[[earlyClose]]");class ue{[A];[V];get url(){return t.assertBranded(this,ue),this[V]}constructor(C,p){this[t.brand]=t.brand;let u="Failed to construct 'WebSocketStream'";t.requiredArguments(arguments.length,1,{prefix:u}),C=t.converters.USVString(C,{prefix:u,context:"Argument 1"}),p=t.converters.WebSocketStreamOptions(p,{prefix:u,context:"Argument 2"});let v=new URL(C);if(v.protocol!=="ws:"&&v.protocol!=="wss:")throw new $("Only ws & wss schemes are allowed in a WebSocket URL.","SyntaxError");if(v.hash!==""||j(v.href,"#"))throw new $("Fragments are not allowed in a WebSocket URL.","SyntaxError");if(this[V]=v.href,p.protocols.length!==new Y(ne(p.protocols,k=>te(k))).size)throw new $("Can't supply multiple times the same protocol.","SyntaxError");let U=e.opSync("op_ws_check_permission_and_cancel_handle",this[V],!0);if(p.signal?.aborted){e.close(U);let k=new $("This operation was aborted","AbortError");this[M].reject(k),this[g].reject(k)}else{let k=()=>{e.close(U)};p.signal?.[L](k),B(e.opAsync("op_ws_create",{url:this[V],protocols:p.protocols?K(p.protocols,", "):"",cancelHandle:U}),l=>{if(p.signal?.[he](k),this[ee])B(e.opAsync("op_ws_close",{rid:l.rid}),()=>{B((async()=>{for(;;){let{kind:T}=await e.opAsync("op_ws_next_event",l.rid);if(T==="close")break}})(),()=>{let T=new $("Closed while connecting","NetworkError");this[M].reject(T),this[g].reject(T)})},()=>{let T=new $("Closed while connecting","NetworkError");this[M].reject(T),this[g].reject(T)});else{this[A]=l.rid;let T=new WritableStream({write:async J=>{if(typeof J=="string")await e.opAsync("op_ws_send",this[A],{kind:"text",value:J});else if(J instanceof y)await e.opAsync("op_ws_send",this[A],{kind:"binary",value:J},J);else throw new S("A chunk may only be either a string or an Uint8Array")},close:async J=>{try{this.close(J?.code!==void 0?J:{})}catch(P){this.close()}await this.closed},abort:async J=>{try{this.close(J?.code!==void 0?J:{})}catch(P){this.close()}await this.closed}}),f=new ReadableStream({start:J=>{B(this.closed,()=>{try{J.close()}catch(P){}try{X(d(T),()=>{})}catch(P){}})},pull:async J=>{let{kind:P,value:E}=await e.opAsync("op_ws_next_event",this[A]);switch(P){case"string":{J.enqueue(E);break}case"binary":{J.enqueue(E);break}case"ping":{await e.opAsync("op_ws_send",this[A],{kind:"pong"});break}case"closed":case"close":{this[_]?(this[g].resolve(E),e.tryClose(this[A])):B(e.opAsync("op_ws_close",{rid:this[A],...E}),()=>{this[g].resolve(E),e.tryClose(this[A])},m=>{this[g].reject(m),J.error(m),e.tryClose(this[A])});break}case"error":{let m=new h(E);this[g].reject(m),J.error(m),e.tryClose(this[A]);break}}},cancel:async J=>{try{this.close(J?.code!==void 0?J:{})}catch(P){this.close()}await this.closed}});this[M].resolve({readable:f,writable:T,extensions:l.extensions??"",protocol:l.protocol??""})}},l=>{e.tryClose(U),this[M].reject(l),this[g].reject(l)})}}[M]=new ce;get connection(){return t.assertBranded(this,ue),this[M].promise}[ee]=!1;[_]=!1;[g]=new ce;get closed(){return t.assertBranded(this,ue),this[g].promise}close(C){if(t.assertBranded(this,ue),C=t.converters.WebSocketCloseInfo(C,{prefix:"Failed to execute 'close' on 'WebSocketStream'",context:"Argument 1"}),C.code&&!(C.code===1e3||3e3<=C.code&&C.code<5e3))throw new $("The close code must be either 1000 or in the range of 3000 to 4999.","InvalidAccessError");let p=new TextEncoder;if(C.reason&&p.encode(C.reason).byteLength>123)throw new $("The close reason may not be longer than 123 bytes.","SyntaxError");let u=C.code;C.reason&&u===void 0&&(u=1e3),this[M].state==="pending"?this[ee]=!0:this[g].state==="pending"&&(this[_]=!0,X(e.opAsync("op_ws_close",{rid:this[A],code:u,reason:C.reason}),v=>{this[A]&&e.tryClose(this[A]),this[g].reject(v)}))}[fe("Deno.customInspect")](C){return`${this.constructor.name} ${C({url:this.url})}`}}i.__bootstrap.webSocket.WebSocketStream=ue})(q)}),bo=pt(q=>{(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{Symbol:d,SymbolFor:ce,ObjectDefineProperty:$,ObjectFromEntries:L,ObjectEntries:he,ReflectGet:j,Proxy:te}=i.__bootstrap.primordials,R=d("[[persistent]]");class fe{[R];constructor(){t.illegalConstructor()}get length(){return t.assertBranded(this,fe),e.opSync("op_webstorage_length",this[R])}key(X){t.assertBranded(this,fe);let y="Failed to execute 'key' on 'Storage'";return t.requiredArguments(arguments.length,1,{prefix:y}),X=t.converters["unsigned long"](X,{prefix:y,context:"Argument 1"}),e.opSync("op_webstorage_key",X,this[R])}setItem(X,y){t.assertBranded(this,fe);let S="Failed to execute 'setItem' on 'Storage'";t.requiredArguments(arguments.length,2,{prefix:S}),X=t.converters.DOMString(X,{prefix:S,context:"Argument 1"}),y=t.converters.DOMString(y,{prefix:S,context:"Argument 2"}),e.opSync("op_webstorage_set",{keyName:X,keyValue:y},this[R])}getItem(X){t.assertBranded(this,fe);let y="Failed to execute 'getItem' on 'Storage'";return t.requiredArguments(arguments.length,1,{prefix:y}),X=t.converters.DOMString(X,{prefix:y,context:"Argument 1"}),e.opSync("op_webstorage_get",X,this[R])}removeItem(X){t.assertBranded(this,fe);let y="Failed to execute 'removeItem' on 'Storage'";t.requiredArguments(arguments.length,1,{prefix:y}),X=t.converters.DOMString(X,{prefix:y,context:"Argument 1"}),e.opSync("op_webstorage_remove",X,this[R])}clear(){t.assertBranded(this,fe),e.opSync("op_webstorage_clear",this[R])}}function Y(B){let X=t.createBranded(fe);X[R]=B;let y=new te(X,{deleteProperty(S,h){return typeof h=="symbol"?delete S[h]:S.removeItem(h),!0},defineProperty(S,h,A){return typeof h=="symbol"?$(S,h,A):S.setItem(h,A.value),!0},get(S,h){return typeof h=="symbol"?S[h]:h in S?j(...arguments):S.getItem(h)??void 0},set(S,h,A){return typeof h=="symbol"?$(S,h,{value:A,configurable:!0}):S.setItem(h,A),!0},has(S,h){return h===ce("Deno.customInspect")||typeof S.getItem(h)=="string"},ownKeys(){return e.opSync("op_webstorage_iterate_keys",B)},getOwnPropertyDescriptor(S,h){if(arguments.length===1)return;if(h in S)return;let A=S.getItem(h);return A===null?void 0:{value:A,enumerable:!0,configurable:!0,writable:!0}}});return y[ce("Deno.customInspect")]=function(S){return`${this.constructor.name} ${S({length:this.length,...L(he(y))})}`},y}let ne,K;i.__bootstrap.webStorage={localStorage(){return ne||(ne=Y(!0)),ne},sessionStorage(){return K||(K=Y(!1)),K},Storage:fe}})(q)}),vo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{BadResource:t,Interrupted:d}=e,{PromiseResolve:ce,SymbolAsyncIterator:$,Uint8Array:L,TypedArrayPrototypeSubarray:he}=i.__bootstrap.primordials;async function j(M,g){if(g.length===0)return 0;let _=await e.read(M,g);return _===0?null:_}async function te(M,g){return await e.write(M,g)}function R(M){return e.shutdown(M)}function fe(M,g){return e.opAsync("op_net_accept",{rid:M,transport:g})}function Y(M){return e.opSync("op_net_listen",M)}function ne(M){return e.opAsync("op_net_connect",M)}function K(M,g,_){return e.opAsync("op_dgram_recv",{rid:M,transport:g},_)}function B(M,g){return e.opAsync("op_dgram_send",M,g)}function X(M,g,_){return e.opAsync("op_dns_resolve",{query:M,recordType:g,options:_})}class y{#e=0;#t=null;#r=null;constructor(g,_,ee){this.#e=g,this.#t=_,this.#r=ee}get rid(){return this.#e}get remoteAddr(){return this.#t}get localAddr(){return this.#r}write(g){return te(this.rid,g)}read(g){return j(this.rid,g)}close(){e.close(this.rid)}closeWrite(){return R(this.rid)}}class S{#e=0;#t=null;constructor(g,_){this.#e=g,this.#t=_}get rid(){return this.#e}get addr(){return this.#t}async accept(){let g=await fe(this.rid,this.addr.transport);return new y(g.rid,g.remoteAddr,g.localAddr)}async next(){let g;try{g=await this.accept()}catch(_){if(_ instanceof t||_ instanceof d)return{value:void 0,done:!0};throw _}return{value:g,done:!1}}return(g){return this.close(),ce({value:g,done:!0})}close(){e.close(this.rid)}[$](){return this}}class h{#e=0;#t=null;constructor(g,_,ee=1024){this.#e=g,this.#t=_,this.bufSize=ee}get rid(){return this.#e}get addr(){return this.#t}async receive(g){let _=g||new L(this.bufSize),{size:ee,remoteAddr:ue}=await K(this.rid,this.addr.transport,_),D=he(_,0,ee);return[D,ue]}send(g,_){let ee={hostname:"127.0.0.1",..._},ue={...ee,rid:this.rid};return B(ue,g)}close(){e.close(this.rid)}async*[$](){for(;;)try{yield await this.receive()}catch(g){if(g instanceof t||g instanceof d)break;throw g}}}function A({hostname:M,...g}){let _=Y({transport:"tcp",hostname:typeof M=="undefined"?"0.0.0.0":M,...g});return new S(_.rid,_.localAddr)}async function V(M){let g;return M.transport==="unix"?g=await ne(M):g=await ne({transport:"tcp",hostname:"127.0.0.1",...M}),new y(g.rid,g.remoteAddr,g.localAddr)}i.__bootstrap.net={connect:V,Conn:y,opConnect:ne,listen:A,opListen:Y,Listener:S,shutdown:R,Datagram:h,resolveDns:X}})(q)}),So=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Listener:t,Conn:d}=i.__bootstrap.net;function ce(K){return e.opAsync("op_tls_connect",K)}function $(K){return e.opAsync("op_tls_accept",K)}function L(K){return e.opSync("op_tls_listen",K)}function he(K){return e.opAsync("op_tls_start",K)}function j(K){return e.opAsync("op_tls_handshake",K)}class te extends d{handshake(){return j(this.rid)}}async function R({port:K,hostname:B="127.0.0.1",transport:X="tcp",certFile:y=void 0,caCerts:S=[],certChain:h=void 0,privateKey:A=void 0,alpnProtocols:V=void 0}){let M=await ce({port:K,hostname:B,transport:X,certFile:y,caCerts:S,certChain:h,privateKey:A,alpnProtocols:V});return new te(M.rid,M.remoteAddr,M.localAddr)}class fe extends t{async accept(){let B=await $(this.rid);return new te(B.rid,B.remoteAddr,B.localAddr)}}function Y({port:K,certFile:B,keyFile:X,hostname:y="0.0.0.0",transport:S="tcp",alpnProtocols:h=void 0}){let A=L({port:K,certFile:B,keyFile:X,hostname:y,transport:S,alpnProtocols:h});return new fe(A.rid,A.localAddr)}async function ne(K,{hostname:B="127.0.0.1",certFile:X=void 0,caCerts:y=[],alpnProtocols:S=void 0}={}){let h=await he({rid:K.rid,hostname:B,certFile:X,caCerts:y,alpnProtocols:S});return new te(h.rid,h.remoteAddr,h.localAddr)}i.__bootstrap.tls={startTls:ne,listenTls:Y,connectTls:R,TlsConn:te,TlsListener:fe}})(q)}),_o=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.net;function t($){if($.transport==="unix"){let L=e.opListen($);return new e.Listener(L.rid,L.localAddr)}else return e.listen($)}function d($){let L;return $.transport==="unixpacket"?L=e.opListen($):L=e.opListen({transport:"udp",hostname:"127.0.0.1",...$}),new e.Datagram(L.rid,L.localAddr)}async function ce($){if($.transport==="unix"){let L=await e.opConnect($);return new e.Conn(L.rid,L.remoteAddr,L.localAddr)}else return e.connect($)}i.__bootstrap.netUnstable={connect:ce,listenDatagram:d,listen:t}})(q)}),Po=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{ArrayPrototypePush:t,ArrayPrototypeShift:d,Error:ce,FunctionPrototypeCall:$,Map:L,MapPrototypeDelete:he,MapPrototypeGet:j,MapPrototypeHas:te,MapPrototypeSet:R,NumberPOSITIVE_INFINITY:fe,PromisePrototypeThen:Y,SymbolFor:ne,TypeError:K}=i.__bootstrap.primordials,{webidl:B}=i.__bootstrap;class X extends ce{constructor(J){super(J);this.name="AssertionError"}}function y(f,J="Assertion failed."){if(!f)throw new X(J)}function S(){return e.opSync("op_now")}function h(f=0){return e.opSync("op_sleep_sync",f)}let A=[],V=0;function M(){if(A.length===0)return!0;let f=d(A);V=f.nestingLevel;try{f.action()}finally{V=0}return A.length===0}let g=new L,_=1;function ee(f,J,P,E,m){let F,I;if(m!==void 0)y(E),F=m,I=j(g,F);else{F=_++;let ae=e.opSync("op_timer_handle");I={cancelRid:ae,isRef:!0,promiseId:-1},R(g,F,I)}J<0&&(J=0),V>5&&J<4&&(J=4);let Z={action:()=>{if(!te(g,F))return;typeof f=="function"?$(f,je,...P):(0,eval)(f),E?te(g,F)&&ee(f,J,P,!0,F):(e.tryClose(I.cancelRid),he(g,F))},nestingLevel:V+1};return D(()=>t(A,Z),J,I),F}let ue={head:null,tail:null};function D(f,J,P){let E=P.cancelRid,m=e.opAsync("op_sleep",J,E);P.promiseId=m[ne("Deno.core.internalPromiseId")],P.isRef||e.unrefOp(P.promiseId);let F={millis:J,cb:f,resolved:!1,prev:ue.tail,next:null};ue.tail===null?(y(ue.head===null),ue.head=ue.tail=F):(ue.tail.next=F,ue.tail=F),Y(m,()=>{F.resolved=!0;let I=fe,Z=ue.head;for(;Z!==null;)Z.millis<I&&(Z.resolved?(Z.cb(),C(Z)):I=Z.millis),Z=Z.next},I=>{if(I instanceof e.Interrupted)C(F);else throw I})}function C(f){f.prev!==null?f.prev.next=f.next:(y(ue.head===f),ue.head=f.next),f.next!==null?f.next.prev=f.prev:(y(ue.tail===f),ue.tail=f.prev)}function p(f){if(f!=null&&f!==je)throw new K("Illegal invocation")}function u(f,J=0,...P){return p(this),typeof f!="function"&&(f=B.converters.DOMString(f)),J=B.converters.long(J),ee(f,J,P,!1)}function v(f,J=0,...P){return p(this),typeof f!="function"&&(f=B.converters.DOMString(f)),J=B.converters.long(J),ee(f,J,P,!0)}function U(f=0){p(this),f=B.converters.long(f);let J=j(g,f);J!==void 0&&(e.tryClose(J.cancelRid),he(g,f))}function k(f=0){p(this),U(f)}function l(f){let J=j(g,f);if(J===void 0||J.isRef)return;J.isRef=!0,e.refOp(J.promiseId)}function T(f){let J=j(g,f);if(J===void 0||!J.isRef)return;J.isRef=!1,e.unrefOp(J.promiseId)}i.__bootstrap.timers={setTimeout:u,setInterval:v,clearTimeout:U,clearInterval:k,handleTimerMacrotask:M,opNow:S,sleepSync:h,refTimer:l,unrefTimer:T}})(q)}),wo=pt(q=>{"use strict";(i=>{let{ArrayPrototypeFilter:e,ArrayPrototypeFind:t,ArrayPrototypePush:d,ArrayPrototypeReverse:ce,ArrayPrototypeSlice:$,ObjectKeys:L,Symbol:he,SymbolFor:j,TypeError:te}=i.__bootstrap.primordials,{webidl:R,structuredClone:fe}=i.__bootstrap,Y=i.__bootstrap.console,{opNow:ne}=i.__bootstrap.timers,{DOMException:K}=i.__bootstrap.domException,B=he("illegalConstructorKey"),X=j("Deno.customInspect"),y=[];R.converters.PerformanceMarkOptions=R.createDictionaryConverter("PerformanceMarkOptions",[{key:"detail",converter:R.converters.any},{key:"startTime",converter:R.converters.DOMHighResTimeStamp}]),R.converters["DOMString or DOMHighResTimeStamp"]=(v,U)=>R.type(v)==="Number"&&v!==null?R.converters.DOMHighResTimeStamp(v,U):R.converters.DOMString(v,U),R.converters.PerformanceMeasureOptions=R.createDictionaryConverter("PerformanceMeasureOptions",[{key:"detail",converter:R.converters.any},{key:"start",converter:R.converters["DOMString or DOMHighResTimeStamp"]},{key:"duration",converter:R.converters.DOMHighResTimeStamp},{key:"end",converter:R.converters["DOMString or DOMHighResTimeStamp"]}]),R.converters["DOMString or PerformanceMeasureOptions"]=(v,U)=>R.type(v)==="Object"&&v!==null?R.converters.PerformanceMeasureOptions(v,U):R.converters.DOMString(v,U);function S(v,U){return t(ce($(y)),k=>k.name===v&&k.entryType===U)}function h(v){if(typeof v=="string"){let U=S(v,"mark");if(!U)throw new K(`Cannot find mark: "${v}".`,"SyntaxError");return U.startTime}if(v<0)throw new te("Mark cannot be negative.");return v}function A(v,U){return e(y,k=>(v?k.name===v:!0)&&(U?k.entryType===U:!0))}let V=ne,M=he("[[name]]"),g=he("[[entryType]]"),_=he("[[startTime]]"),ee=he("[[duration]]");class ue{[M]="";[g]="";[_]=0;[ee]=0;get name(){return R.assertBranded(this,ue),this[M]}get entryType(){return R.assertBranded(this,ue),this[g]}get startTime(){return R.assertBranded(this,ue),this[_]}get duration(){return R.assertBranded(this,ue),this[ee]}constructor(U=null,k=null,l=null,T=null,f=void 0){f!==B&&R.illegalConstructor(),this[R.brand]=R.brand,this[M]=U,this[g]=k,this[_]=l,this[ee]=T}toJSON(){return R.assertBranded(this,ue),{name:this[M],entryType:this[g],startTime:this[_],duration:this[ee]}}[X](U){return U(Y.createFilteredInspectProxy({object:this,evaluate:this instanceof ue,keys:["name","entryType","startTime","duration"]}))}}R.configurePrototype(ue);let D=he("[[detail]]");class C extends ue{[D]=null;get detail(){return R.assertBranded(this,C),this[D]}get entryType(){return R.assertBranded(this,C),"mark"}constructor(U,k={}){let l="Failed to construct 'PerformanceMark'";R.requiredArguments(arguments.length,1,{prefix:l}),U=R.converters.DOMString(U,{prefix:l,context:"Argument 1"}),k=R.converters.PerformanceMarkOptions(k,{prefix:l,context:"Argument 2"});let{detail:T=null,startTime:f=V()}=k;super(U,"mark",f,0,B);if(this[R.brand]=R.brand,f<0)throw new te("startTime cannot be negative");this[D]=fe(T)}toJSON(){return R.assertBranded(this,C),{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}[X](U){return U(Y.createFilteredInspectProxy({object:this,evaluate:this instanceof C,keys:["name","entryType","startTime","duration","detail"]}))}}R.configurePrototype(C);class p extends ue{[D]=null;get detail(){return R.assertBranded(this,p),this[D]}get entryType(){return R.assertBranded(this,p),"measure"}constructor(U=null,k=null,l=null,T=null,f=void 0){f!==B&&R.illegalConstructor(),super(U,"measure",k,l,f),this[R.brand]=R.brand,this[D]=fe(T)}toJSON(){return R.assertBranded(this,p),{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}[X](U){return U(Y.createFilteredInspectProxy({object:this,evaluate:this instanceof p,keys:["name","entryType","startTime","duration","detail"]}))}}R.configurePrototype(p);class u{constructor(){R.illegalConstructor()}clearMarks(U=void 0){R.assertBranded(this,u),U!==void 0?(U=R.converters.DOMString(U,{prefix:"Failed to execute 'clearMarks' on 'Performance'",context:"Argument 1"}),y=e(y,k=>!(k.name===U&&k.entryType==="mark"))):y=e(y,k=>k.entryType!=="mark")}clearMeasures(U=void 0){R.assertBranded(this,u),U!==void 0?(U=R.converters.DOMString(U,{prefix:"Failed to execute 'clearMeasures' on 'Performance'",context:"Argument 1"}),y=e(y,k=>!(k.name===U&&k.entryType==="measure"))):y=e(y,k=>k.entryType!=="measure")}getEntries(){return R.assertBranded(this,u),A()}getEntriesByName(U,k=void 0){R.assertBranded(this,u);let l="Failed to execute 'getEntriesByName' on 'Performance'";return R.requiredArguments(arguments.length,1,{prefix:l}),U=R.converters.DOMString(U,{prefix:l,context:"Argument 1"}),k!==void 0&&(k=R.converters.DOMString(k,{prefix:l,context:"Argument 2"})),A(U,k)}getEntriesByType(U){R.assertBranded(this,u);let k="Failed to execute 'getEntriesByName' on 'Performance'";return R.requiredArguments(arguments.length,1,{prefix:k}),U=R.converters.DOMString(U,{prefix:k,context:"Argument 1"}),A(void 0,U)}mark(U,k={}){R.assertBranded(this,u);let l="Failed to execute 'mark' on 'Performance'";R.requiredArguments(arguments.length,1,{prefix:l}),U=R.converters.DOMString(U,{prefix:l,context:"Argument 1"}),k=R.converters.PerformanceMarkOptions(k,{prefix:l,context:"Argument 2"});let T=new C(U,k);return d(y,T),T}measure(U,k={},l=void 0){R.assertBranded(this,u);let T="Failed to execute 'measure' on 'Performance'";if(R.requiredArguments(arguments.length,1,{prefix:T}),U=R.converters.DOMString(U,{prefix:T,context:"Argument 1"}),k=R.converters["DOMString or PerformanceMeasureOptions"](k,{prefix:T,context:"Argument 2"}),l!==void 0&&(l=R.converters.DOMString(l,{prefix:T,context:"Argument 3"})),k&&typeof k=="object"&&L(k).length>0){if(l)throw new te("Options cannot be passed with endMark.");if(!("start"in k)&&!("end"in k))throw new te("A start or end mark must be supplied in options.");if("start"in k&&"duration"in k&&"end"in k)throw new te("Cannot specify start, end, and duration together in options.")}let f;if(l)f=h(l);else if(typeof k=="object"&&"end"in k)f=h(k.end);else if(typeof k=="object"&&"start"in k&&"duration"in k){let E=h(k.start),m=h(k.duration);f=E+m}else f=V();let J;if(typeof k=="object"&&"start"in k)J=h(k.start);else if(typeof k=="object"&&"end"in k&&"duration"in k){let E=h(k.end),m=h(k.duration);J=E-m}else typeof k=="string"?J=h(k):J=0;let P=new p(U,J,f-J,typeof k=="object"?k.detail??null:null,B);return d(y,P),P}now(){return R.assertBranded(this,u),V()}toJSON(){return R.assertBranded(this,u),{}}[X](U){return U(Y.createFilteredInspectProxy({object:this,evaluate:this instanceof u,keys:[]}))}}R.configurePrototype(u),i.__bootstrap.performance={PerformanceEntry:ue,PerformanceMark:C,PerformanceMeasure:p,Performance:u,performance:R.createBranded(u)}})(q)}),xo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{DOMException:d}=i.__bootstrap.domException,{atob:ce,btoa:$}=i.__bootstrap.base64,{ArrayPrototypeFind:L,ArrayPrototypeEvery:he,ArrayPrototypeIncludes:j,ArrayBuffer:te,ArrayBufferIsView:R,BigInt64Array:fe,StringPrototypeToUpperCase:Y,StringPrototypeReplace:ne,StringPrototypeCharCodeAt:K,StringFromCharCode:B,Symbol:X,SymbolFor:y,SyntaxError:S,WeakMap:h,WeakMapPrototypeGet:A,WeakMapPrototypeSet:V,Int8Array:M,Uint8Array:g,TypedArrayPrototypeSlice:_,Int16Array:ee,Uint16Array:ue,Int32Array:D,Uint32Array:C,Uint8ClampedArray:p,TypeError:u}=i.__bootstrap.primordials,v=["P-256","P-384"],U=["encrypt","decrypt","sign","verify","deriveKey","deriveBits","wrapKey","unwrapKey"],k={RsaHashedKeyGenParams:{hash:"HashAlgorithmIdentifier"},EcKeyGenParams:{},HmacKeyGenParams:{hash:"HashAlgorithmIdentifier"},RsaPssParams:{},EcdsaParams:{hash:"HashAlgorithmIdentifier"},HmacImportParams:{hash:"HashAlgorithmIdentifier"},HkdfParams:{hash:"HashAlgorithmIdentifier",salt:"BufferSource",info:"BufferSource"},Pbkdf2Params:{hash:"HashAlgorithmIdentifier",salt:"BufferSource"},RsaOaepParams:{label:"BufferSource"},RsaHashedImportParams:{hash:"HashAlgorithmIdentifier"}},l={digest:{"SHA-1":null,"SHA-256":null,"SHA-384":null,"SHA-512":null},generateKey:{"RSASSA-PKCS1-v1_5":"RsaHashedKeyGenParams","RSA-PSS":"RsaHashedKeyGenParams","RSA-OAEP":"RsaHashedKeyGenParams",ECDSA:"EcKeyGenParams",ECDH:"EcKeyGenParams","AES-CTR":"AesKeyGenParams","AES-CBC":"AesKeyGenParams","AES-GCM":"AesKeyGenParams","AES-KW":"AesKeyGenParams",HMAC:"HmacKeyGenParams"},sign:{"RSASSA-PKCS1-v1_5":null,"RSA-PSS":"RsaPssParams",ECDSA:"EcdsaParams",HMAC:null},verify:{"RSASSA-PKCS1-v1_5":null,"RSA-PSS":"RsaPssParams",ECDSA:"EcdsaParams",HMAC:null},importKey:{"RSASSA-PKCS1-v1_5":"RsaHashedImportParams","RSA-PSS":"RsaHashedImportParams","RSA-OAEP":"RsaHashedImportParams",HMAC:"HmacImportParams",HKDF:null,PBKDF2:null,"AES-CTR":null,"AES-CBC":null,"AES-GCM":null,"AES-KW":null},deriveBits:{HKDF:"HkdfParams",PBKDF2:"Pbkdf2Params",ECDH:"EcdhKeyDeriveParams"},encrypt:{"RSA-OAEP":"RsaOaepParams","AES-CBC":"AesCbcParams"},decrypt:{"RSA-OAEP":"RsaOaepParams","AES-CBC":"AesCbcParams"},"get key length":{"AES-CBC":"AesDerivedKeyParams","AES-GCM":"AesDerivedKeyParams","AES-KW":"AesDerivedKeyParams",HMAC:"HmacImportParams",HKDF:null,PBKDF2:null},wrapKey:{},unwrapKey:{}},T={"AES-CTR":{128:"A128CTR",192:"A192CTR",256:"A256CTR"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"}};function f(z){let ie=ne(ne(z,/\-/g,"+"),/\_/g,"/"),w=ce(ie),le=w.length,me=new g(le);for(let b=0;b<le;b++)me[b]=K(w,b);return me}function J(z){let ie="";for(let le=0;le<z.length;le++)ie+=B(z[le]);let w=$(ie);return ne(w,/=/g,"")}function P(z,ie){if(typeof z=="string")return P({name:z},ie);let w=l[ie],le=t.converters.Algorithm(z,{prefix:"Failed to normalize algorithm",context:"passed algorithm"}),me=le.name,b;for(let Re in w)Y(Re)===Y(me)&&(me=Re,b=w[Re]);if(b===void 0)throw new d("Unrecognized algorithm name","NotSupportedError");if(b===null)return{name:me};let re=t.converters[b](z,{prefix:"Failed to normalize algorithm",context:"passed algorithm"});re.name=me;let De=k[b];for(let Re in De){let ye=De[Re],Ze=re[Re];if(ye==="BufferSource"&&Ze)re[Re]=_(new g(R(Ze)?Ze.buffer:Ze,Ze.byteOffset??0,Ze.byteLength));else if(ye==="HashAlgorithmIdentifier")re[Re]=P(Ze,"digest");else if(ye==="AlgorithmIdentifier")throw new u("unimplemented")}return re}let E=X("[[handle]]"),m=X("[[algorithm]]"),F=X("[[extractable]]"),I=X("[[usages]]"),Z=X("[[type]]");class ae{[Z];[F];[m];[I];[E];constructor(){t.illegalConstructor()}get type(){return t.assertBranded(this,ae),this[Z]}get extractable(){return t.assertBranded(this,ae),this[F]}get usages(){return t.assertBranded(this,ae),this[I]}get algorithm(){return t.assertBranded(this,ae),this[m]}[y("Deno.customInspect")](ie){return`${this.constructor.name} ${ie({type:this.type,extractable:this.extractable,algorithm:this.algorithm,usages:this.usages})}`}}t.configurePrototype(ae);function O(z,ie,w,le,me){let b=t.createBranded(ae);return b[Z]=z,b[F]=ie,b[I]=w,b[m]=le,b[E]=me,b}function ge(z,ie){return z.filter(w=>ie.includes(w))}let we=new h;function Ae(z){switch(z.name){case"AES-CBC":case"AES-GCM":case"AES-KW":{if(!j([128,192,256],z.length))throw new d("length must be 128, 192, or 256","OperationError");return z.length}case"HMAC":{let ie;if(z.length===void 0)switch(z.hash.name){case"SHA-1":ie=160;break;case"SHA-256":ie=256;break;case"SHA-384":ie=384;break;case"SHA-512":ie=512;break;default:throw new d("Unrecognized hash algorithm","NotSupportedError")}else if(z.length!==0)ie=z.length;else throw new u("Invalid length.");return ie}case"HKDF":return null;case"PBKDF2":return null;default:throw new u("unreachable")}}class G{constructor(){t.illegalConstructor()}async digest(ie,w){t.assertBranded(this,G);let le="Failed to execute 'digest' on 'SubtleCrypto'";t.requiredArguments(arguments.length,2,{prefix:le}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:le,context:"Argument 1"}),w=t.converters.BufferSource(w,{prefix:le,context:"Argument 2"}),R(w)?w=new g(w.buffer,w.byteOffset,w.byteLength):w=new g(w),w=_(w),ie=P(ie,"digest");let me=await e.opAsync("op_crypto_subtle_digest",ie.name,w);return me.buffer}async encrypt(ie,w,le){t.assertBranded(this,G);let me="Failed to execute 'encrypt' on 'SubtleCrypto'";t.requiredArguments(arguments.length,3,{prefix:me}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:me,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:me,context:"Argument 2"}),le=t.converters.BufferSource(le,{prefix:me,context:"Argument 3"}),R(le)?le=new g(le.buffer,le.byteOffset,le.byteLength):le=new g(le),le=_(le);let b=P(ie,"encrypt");if(b.name!==w[m].name)throw new d("Encryption algorithm doesn't match key algorithm.","InvalidAccessError");if(!j(w[I],"encrypt"))throw new d("Key does not support the 'encrypt' operation.","InvalidAccessError");return await Se(b,w,le)}async decrypt(ie,w,le){t.assertBranded(this,G);let me="Failed to execute 'decrypt' on 'SubtleCrypto'";t.requiredArguments(arguments.length,3,{prefix:me}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:me,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:me,context:"Argument 2"}),le=t.converters.BufferSource(le,{prefix:me,context:"Argument 3"}),R(le)?le=new g(le.buffer,le.byteOffset,le.byteLength):le=new g(le),le=_(le);let b=P(ie,"decrypt");if(b.name!==w[m].name)throw new d("Decryption algorithm doesn't match key algorithm.","OperationError");if(!j(w[I],"decrypt"))throw new d("Key does not support the 'decrypt' operation.","InvalidAccessError");let re=w[E],De=A(we,re);switch(b.name){case"RSA-OAEP":{if(w[Z]!=="private")throw new d("Key type not supported","InvalidAccessError");b.label?(R(b.label)?b.label=new g(b.label.buffer,b.label.byteOffset,b.label.byteLength):b.label=new g(b.label),b.label=_(b.label)):b.label=new g;let Re=w[m].hash.name,ye=await e.opAsync("op_crypto_decrypt_key",{key:De,algorithm:"RSA-OAEP",hash:Re,label:b.label},le);return ye.buffer}case"AES-CBC":{if(R(b.iv)?b.iv=new g(b.iv.buffer,b.iv.byteOffset,b.iv.byteLength):b.iv=new g(b.iv),b.iv=_(b.iv),b.iv.byteLength!==16)throw new d("Counter must be 16 bytes","OperationError");let Re=await e.opAsync("op_crypto_decrypt_key",{key:De,algorithm:"AES-CBC",iv:b.iv,length:w[m].length},le);return Re.buffer}default:throw new d("Not implemented","NotSupportedError")}}async sign(ie,w,le){t.assertBranded(this,G);let me="Failed to execute 'sign' on 'SubtleCrypto'";t.requiredArguments(arguments.length,3,{prefix:me}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:me,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:me,context:"Argument 2"}),le=t.converters.BufferSource(le,{prefix:me,context:"Argument 3"}),R(le)?le=new g(le.buffer,le.byteOffset,le.byteLength):le=new g(le),le=_(le);let b=P(ie,"sign"),re=w[E],De=A(we,re);if(b.name!==w[m].name)throw new d("Signing algorithm doesn't match key algorithm.","InvalidAccessError");if(!j(w[I],"sign"))throw new d("Key does not support the 'sign' operation.","InvalidAccessError");switch(b.name){case"RSASSA-PKCS1-v1_5":{if(w[Z]!=="private")throw new d("Key type not supported","InvalidAccessError");let Re=w[m].hash.name,ye=await e.opAsync("op_crypto_sign_key",{key:De,algorithm:"RSASSA-PKCS1-v1_5",hash:Re},le);return ye.buffer}case"RSA-PSS":{if(w[Z]!=="private")throw new d("Key type not supported","InvalidAccessError");let Re=w[m].hash.name,ye=await e.opAsync("op_crypto_sign_key",{key:De,algorithm:"RSA-PSS",hash:Re,saltLength:b.saltLength},le);return ye.buffer}case"ECDSA":{if(w[Z]!=="private")throw new d("Key type not supported","InvalidAccessError");let Re=b.hash.name,ye=w[m].namedCurve;if(!j(v,ye))throw new d("Curve not supported","NotSupportedError");let Ze=await e.opAsync("op_crypto_sign_key",{key:De,algorithm:"ECDSA",hash:Re,namedCurve:ye},le);return Ze.buffer}case"HMAC":{let Re=w[m].hash.name,ye=await e.opAsync("op_crypto_sign_key",{key:De,algorithm:"HMAC",hash:Re},le);return ye.buffer}}throw new u("unreachable")}async importKey(ie,w,le,me,b){t.assertBranded(this,G);let re="Failed to execute 'importKey' on 'SubtleCrypto'";if(t.requiredArguments(arguments.length,4,{prefix:re}),ie=t.converters.KeyFormat(ie,{prefix:re,context:"Argument 1"}),w=t.converters["BufferSource or JsonWebKey"](w,{prefix:re,context:"Argument 2"}),le=t.converters.AlgorithmIdentifier(le,{prefix:re,context:"Argument 3"}),me=t.converters.boolean(me,{prefix:re,context:"Argument 4"}),b=t.converters["sequence<KeyUsage>"](b,{prefix:re,context:"Argument 5"}),ie!=="jwk")if(R(w)||w instanceof te)R(w)?w=new g(w.buffer,w.byteOffset,w.byteLength):w=new g(w),w=_(w);else throw new u("keyData is a JsonWebKey");else if(R(w)||w instanceof te)throw new u("keyData is not a JsonWebKey");let De=P(le,"importKey");switch(De.name){case"HMAC":{if(L(b,St=>!j(["sign","verify"],St))!==void 0)throw new d("Invalid key usages","SyntaxError");let Re,ye;switch(ie){case"raw":{ye=w,Re=De.hash;break}case"jwk":{let St=w;if(St.kty!=="oct")throw new d("`kty` member of JsonWebKey must be `oct`","DataError");if(!St.k)throw new d("`k` member of JsonWebKey must be present","DataError");ye=f(St.k),Re=De.hash;switch(Re.name){case"SHA-1":{if(St.alg!==void 0&&St.alg!=="HS1")throw new d("`alg` member of JsonWebKey must be `HS1`","DataError");break}case"SHA-256":{if(St.alg!==void 0&&St.alg!=="HS256")throw new d("`alg` member of JsonWebKey must be `HS256`","DataError");break}case"SHA-384":{if(St.alg!==void 0&&St.alg!=="HS384")throw new d("`alg` member of JsonWebKey must be `HS384`","DataError");break}case"SHA-512":{if(St.alg!==void 0&&St.alg!=="HS512")throw new d("`alg` member of JsonWebKey must be `HS512`","DataError");break}default:throw new u("unreachable")}if(b.length>0&&St.use&&St.use!=="sign")throw new d("`use` member of JsonWebKey must be `sign`","DataError");if(St.key_ops){if(L(St.key_ops,dt=>!j(U,dt))!==void 0)throw new d("`key_ops` member of JsonWebKey is invalid","DataError");if(!he(St.key_ops,dt=>j(b,dt)))throw new d("`key_ops` member of JsonWebKey is invalid","DataError")}if(St.ext===!1&&me==!0)throw new d("`ext` member of JsonWebKey is invalid","DataError");break}default:throw new d("Not implemented","NotSupportedError")}let Ze=ye.byteLength*8;if(Ze===0)throw new d("Key length is zero","DataError");if(De.length!==void 0){if(De.length>Ze||De.length<=Ze-8)throw new d("Key length is invalid","DataError");Ze=De.length}if(b.length==0)throw new d("Key usage is empty","SyntaxError");let gt={};V(we,gt,{type:"raw",data:ye});let Ie={name:"HMAC",length:Ze,hash:Re},Ft=O("secret",me,ge(b,U),Ie,gt);return Ft}case"ECDSA":switch(ie){case"raw":{if(!j(v,De.namedCurve))throw new d("Invalid namedCurve","DataError");if(L(b,Ie=>!j(["verify"],Ie))!==void 0)throw new d("Invalid key usages","SyntaxError");let{data:Re}=await e.opAsync("op_crypto_import_key",{algorithm:"ECDSA",namedCurve:De.namedCurve},w),ye={};V(we,ye,{type:"raw",data:Re});let Ze={name:"ECDSA",namedCurve:De.namedCurve},gt=O("public",me,ge(b,U),Ze,ye);return gt}default:throw new d("Not implemented","NotSupportedError")}case"RSASSA-PKCS1-v1_5":switch(ie){case"pkcs8":{if(L(b,St=>!j(["sign"],St))!==void 0)throw new d("Invalid key usages","SyntaxError");if(b.length==0)throw new d("Key usage is empty","SyntaxError");let{modulusLength:Re,publicExponent:ye,data:Ze}=await e.opAsync("op_crypto_import_key",{algorithm:"RSASSA-PKCS1-v1_5",format:"pkcs8",hash:De.hash.name},w),gt={};V(we,gt,{type:"raw",data:Ze});let Ie={name:"RSASSA-PKCS1-v1_5",modulusLength:Re,publicExponent:ye,hash:De.hash},Ft=O("private",me,ge(b,U),Ie,gt);return Ft}default:throw new d("Not implemented","NotSupportedError")}case"RSA-PSS":switch(ie){case"pkcs8":{if(L(b,St=>!j(["sign"],St))!==void 0)throw new d("Invalid key usages","SyntaxError");if(b.length==0)throw new d("Key usage is empty","SyntaxError");let{modulusLength:Re,publicExponent:ye,data:Ze}=await e.opAsync("op_crypto_import_key",{algorithm:"RSA-PSS",format:"pkcs8",hash:De.hash.name},w),gt={};V(we,gt,{type:"raw",data:Ze});let Ie={name:"RSA-PSS",modulusLength:Re,publicExponent:ye,hash:De.hash},Ft=O("private",me,ge(b,U),Ie,gt);return Ft}default:throw new d("Not implemented","NotSupportedError")}case"RSA-OAEP":switch(ie){case"pkcs8":{if(L(b,St=>!j(["decrypt","unwrapKey"],St))!==void 0)throw new d("Invalid key usages","SyntaxError");if(b.length==0)throw new d("Key usage is empty","SyntaxError");let{modulusLength:Re,publicExponent:ye,data:Ze}=await e.opAsync("op_crypto_import_key",{algorithm:"RSA-OAEP",format:"pkcs8",hash:De.hash.name},w),gt={};V(we,gt,{type:"raw",data:Ze});let Ie={name:"RSA-OAEP",modulusLength:Re,publicExponent:ye,hash:De.hash},Ft=O("private",me,ge(b,U),Ie,gt);return Ft}default:throw new d("Not implemented","NotSupportedError")}case"HKDF":{if(ie!=="raw")throw new d("Format not supported","NotSupportedError");if(L(b,gt=>!j(["deriveKey","deriveBits"],gt))!==void 0)throw new d("Invalid key usages","SyntaxError");if(me!==!1)throw new d("Key must not be extractable","SyntaxError");let Re={};V(we,Re,{type:"raw",data:w});let ye={name:"HKDF"},Ze=O("secret",!1,ge(b,U),ye,Re);return Ze}case"PBKDF2":{if(ie!=="raw")throw new d("Format not supported","NotSupportedError");if(L(b,gt=>!j(["deriveKey","deriveBits"],gt))!==void 0)throw new d("Invalid key usages","SyntaxError");if(me!==!1)throw new d("Key must not be extractable","SyntaxError");let Re={};V(we,Re,{type:"raw",data:w});let ye={name:"PBKDF2"},Ze=O("secret",!1,ge(b,U),ye,Re);return Ze}case"AES-CTR":{if(L(b,Re=>!j(["encrypt","decrypt","wrapKey","unwrapKey"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");return it(ie,De,w,me,b)}case"AES-CBC":{if(L(b,Re=>!j(["encrypt","decrypt","wrapKey","unwrapKey"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");return it(ie,De,w,me,b)}case"AES-GCM":{if(L(b,Re=>!j(["encrypt","decrypt","wrapKey","unwrapKey"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");return it(ie,De,w,me,b)}case"AES-KW":{if(L(b,Re=>!j(["wrapKey","unwrapKey"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");return it(ie,De,w,me,b)}default:throw new d("Not implemented","NotSupportedError")}}async exportKey(ie,w){t.assertBranded(this,G);let le="Failed to execute 'exportKey' on 'SubtleCrypto'";t.requiredArguments(arguments.length,2,{prefix:le}),ie=t.converters.KeyFormat(ie,{prefix:le,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:le,context:"Argument 2"});let me=w[E],b=A(we,me);switch(w[m].name){case"HMAC":{if(b==null)throw new d("Key is not available","OperationError");switch(ie){case"raw":{let re=b.data;for(let De=7&8-re.length%8;De>0;De--)re.push(0);return re.buffer}case"jwk":{let re={kty:"oct",k:J(b.data)},De=w[m],Re=De.hash;switch(Re.name){case"SHA-1":re.alg="HS1";break;case"SHA-256":re.alg="HS256";break;case"SHA-384":re.alg="HS384";break;case"SHA-512":re.alg="HS512";break;default:throw new d("Hash algorithm not supported","NotSupportedError")}return re.key_ops=w.usages,re.ext=w[F],re}default:throw new d("Not implemented","NotSupportedError")}break}case"RSASSA-PKCS1-v1_5":switch(ie){case"pkcs8":{if(w[Z]!=="private")throw new d("Key is not a private key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"pkcs8",algorithm:"RSASSA-PKCS1-v1_5"});return re.buffer}case"spki":{if(w[Z]!=="public")throw new d("Key is not a public key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"spki",algorithm:"RSASSA-PKCS1-v1_5"});return re.buffer}default:throw new d("Not implemented","NotSupportedError")}case"RSA-PSS":switch(ie){case"pkcs8":{if(w[Z]!=="private")throw new d("Key is not a private key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"pkcs8",algorithm:"RSA-PSS",hash:w[m].hash.name});return re.buffer}case"spki":{if(w[Z]!=="public")throw new d("Key is not a public key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"spki",algorithm:"RSA-PSS",hash:w[m].hash.name});return re.buffer}default:throw new d("Not implemented","NotSupportedError")}case"RSA-OAEP":switch(ie){case"pkcs8":{if(w[Z]!=="private")throw new d("Key is not a private key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"pkcs8",algorithm:"RSA-PSS",hash:w[m].hash.name});return re.buffer}case"spki":{if(w[Z]!=="public")throw new d("Key is not a public key","InvalidAccessError");let re=await e.opAsync("op_crypto_export_key",{key:b,format:"spki",algorithm:"RSA-OAEP",hash:w[m].hash.name});return re.buffer}default:throw new d("Not implemented","NotSupportedError")}case"AES-CTR":case"AES-CBC":case"AES-GCM":case"AES-KW":return Ue(ie,w,b);default:throw new d("Not implemented","NotSupportedError")}}async deriveBits(ie,w,le){t.assertBranded(this,G);let me="Failed to execute 'deriveBits' on 'SubtleCrypto'";t.requiredArguments(arguments.length,3,{prefix:me}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:me,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:me,context:"Argument 2"}),le=t.converters["unsigned long"](le,{prefix:me,context:"Argument 3"});let b=P(ie,"deriveBits"),re=await ve(b,w,le);if(b.name!==w[m].name)throw new d("Invalid algorithm name","InvalidAccessError");if(!j(w[I],"deriveBits"))throw new d("baseKey usages does not contain `deriveBits`","InvalidAccessError");return re}async deriveKey(ie,w,le,me,b){t.assertBranded(this,G);let re="Failed to execute 'deriveKey' on 'SubtleCrypto'";t.requiredArguments(arguments.length,5,{prefix:re}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:re,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:re,context:"Argument 2"}),le=t.converters.AlgorithmIdentifier(le,{prefix:re,context:"Argument 3"}),me=t.converters.boolean(me,{prefix:re,context:"Argument 4"}),b=t.converters["sequence<KeyUsage>"](b,{prefix:re,context:"Argument 5"});let De=P(ie,"deriveBits"),Re=P(le,"importKey"),ye=P(le,"get key length");if(De.name!==w[m].name)throw new d("Invalid algorithm name","InvalidAccessError");if(!j(w[I],"deriveKey"))throw new d("baseKey usages does not contain `deriveKey`","InvalidAccessError");let Ze=Ae(ye),gt=await this.deriveBits(De,w,Ze),Ie=await this.importKey("raw",gt,Re,me,b);if(j(["private","secret"],Ie[Z])&&b.length==0)throw new S("Invalid key usages");return Ie}async verify(ie,w,le,me){t.assertBranded(this,G);let b="Failed to execute 'verify' on 'SubtleCrypto'";t.requiredArguments(arguments.length,4,{prefix:b}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:b,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:b,context:"Argument 2"}),le=t.converters.BufferSource(le,{prefix:b,context:"Argument 3"}),me=t.converters.BufferSource(me,{prefix:b,context:"Argument 4"}),R(le)?le=new g(le.buffer,le.byteOffset,le.byteLength):le=new g(le),le=_(le),R(me)?me=new g(me.buffer,me.byteOffset,me.byteLength):me=new g(me),me=_(me);let re=P(ie,"verify"),De=w[E],Re=A(we,De);if(re.name!==w[m].name)throw new d("Verifying algorithm doesn't match key algorithm.","InvalidAccessError");if(!j(w[I],"verify"))throw new d("Key does not support the 'verify' operation.","InvalidAccessError");switch(re.name){case"RSASSA-PKCS1-v1_5":{if(w[Z]!=="public")throw new d("Key type not supported","InvalidAccessError");let ye=w[m].hash.name;return await e.opAsync("op_crypto_verify_key",{key:Re,algorithm:"RSASSA-PKCS1-v1_5",hash:ye,signature:le},me)}case"RSA-PSS":{if(w[Z]!=="public")throw new d("Key type not supported","InvalidAccessError");let ye=w[m].hash.name,Ze=re.saltLength;return await e.opAsync("op_crypto_verify_key",{key:Re,algorithm:"RSA-PSS",hash:ye,saltLength:Ze,signature:le},me)}case"HMAC":{let ye=w[m].hash.name;return await e.opAsync("op_crypto_verify_key",{key:Re,algorithm:"HMAC",hash:ye,signature:le},me)}case"ECDSA":{if(w[Z]!=="public")throw new d("Key type not supported","InvalidAccessError");let ye=re.hash.name;return await e.opAsync("op_crypto_verify_key",{key:Re,algorithm:"ECDSA",hash:ye,signature:le,namedCurve:w[m].namedCurve},me)}}throw new u("unreachable")}async wrapKey(ie,w,le,me){t.assertBranded(this,G);let b="Failed to execute 'wrapKey' on 'SubtleCrypto'";t.requiredArguments(arguments.length,4,{prefix:b}),ie=t.converters.KeyFormat(ie,{prefix:b,context:"Argument 1"}),w=t.converters.CryptoKey(w,{prefix:b,context:"Argument 2"}),le=t.converters.CryptoKey(le,{prefix:b,context:"Argument 3"}),me=t.converters.AlgorithmIdentifier(me,{prefix:b,context:"Argument 4"});let re;try{re=P(me,"wrapKey")}catch(ye){re=P(me,"encrypt")}if(re.name!==le[m].name)throw new d("Wrapping algorithm doesn't match key algorithm.","InvalidAccessError");if(!j(le[I],"wrapKey"))throw new d("Key does not support the 'wrapKey' operation.","InvalidAccessError");if(w[F]===!1)throw new d("Key is not extractable","InvalidAccessError");let De=await this.exportKey(ie,w),Re;if(ie!=="jwk")Re=new g(De);else throw new d("Not implemented","NotSupportedError");if(l.wrapKey[re.name]!==void 0)throw new d("Not implemented","NotSupportedError");if(l.encrypt[re.name]!==void 0)return await Se(re,le,Re);throw new d("Algorithm not supported","NotSupportedError")}async unwrapKey(ie,w,le,me,b,re,De){t.assertBranded(this,G);let Re="Failed to execute 'unwrapKey' on 'SubtleCrypto'";t.requiredArguments(arguments.length,7,{prefix:Re}),ie=t.converters.KeyFormat(ie,{prefix:Re,context:"Argument 1"}),w=t.converters.BufferSource(w,{prefix:Re,context:"Argument 2"}),le=t.converters.CryptoKey(le,{prefix:Re,context:"Argument 3"}),me=t.converters.AlgorithmIdentifier(me,{prefix:Re,context:"Argument 4"}),b=t.converters.AlgorithmIdentifier(b,{prefix:Re,context:"Argument 5"}),re=t.converters.boolean(re,{prefix:Re,context:"Argument 6"}),De=t.converters["sequence<KeyUsage>"](De,{prefix:Re,context:"Argument 7"}),R(w)?w=new g(w.buffer,w.byteOffset,w.byteLength):w=new g(w),w=_(w);let ye;try{ye=P(me,"unwrapKey")}catch(St){ye=P(me,"decrypt")}let Ze=P(b,"importKey");if(ye.name!==le[m].name)throw new d("Unwrapping algorithm doesn't match key algorithm.","InvalidAccessError");if(!j(le[I],"unwrapKey"))throw new d("Key does not support the 'unwrapKey' operation.","InvalidAccessError");let gt;if(l.unwrapKey[ye.name]!==void 0)throw new d("Not implemented","NotSupportedError");if(l.decrypt[ye.name]!==void 0)gt=await this.decrypt(ye,le,w);else throw new d("Algorithm not supported","NotSupportedError");let Ie=gt;if(ie=="jwk")throw new d("Not implemented","NotSupportedError");let Ft=await this.importKey(ie,Ie,Ze,re,De);if((Ft[Z]=="secret"||Ft[Z]=="private")&&De.length==0)throw new S("Invalid key type.");return Ft[F]=re,Ft[I]=ge(De,U),Ft}async generateKey(ie,w,le){t.assertBranded(this,G);let me="Failed to execute 'generateKey' on 'SubtleCrypto'";t.requiredArguments(arguments.length,3,{prefix:me}),ie=t.converters.AlgorithmIdentifier(ie,{prefix:me,context:"Argument 1"}),w=t.converters.boolean(w,{prefix:me,context:"Argument 2"}),le=t.converters["sequence<KeyUsage>"](le,{prefix:me,context:"Argument 3"});let b=le,re=P(ie,"generateKey"),De=await pe(re,w,b);if(De instanceof ae){let Re=De[Z];if((Re==="secret"||Re==="private")&&b.length===0)throw new d("Invalid key usages","SyntaxError")}else if(De.privateKey instanceof ae&&De.privateKey[I].length===0)throw new d("Invalid key usages","SyntaxError");return De}}async function pe(z,ie,w){switch(z.name){case"RSASSA-PKCS1-v1_5":case"RSA-PSS":{if(L(w,Re=>!j(["sign","verify"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");let le=await e.opAsync("op_crypto_generate_key",{name:z.name,modulusLength:z.modulusLength,publicExponent:z.publicExponent}),me={};V(we,me,{type:"raw",data:le});let b={name:z.name,modulusLength:z.modulusLength,publicExponent:z.publicExponent,hash:z.hash},re=O("public",!0,ge(w,["verify"]),b,me),De=O("private",ie,ge(w,["sign"]),b,me);return{publicKey:re,privateKey:De}}case"RSA-OAEP":{if(L(w,Re=>!j(["encrypt","decrypt","wrapKey","unwrapKey"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");let le=await e.opAsync("op_crypto_generate_key",{name:z.name,modulusLength:z.modulusLength,publicExponent:z.publicExponent}),me={};V(we,me,{type:"raw",data:le});let b={name:z.name,modulusLength:z.modulusLength,publicExponent:z.publicExponent,hash:z.hash},re=O("public",!0,ge(w,["encrypt","wrapKey"]),b,me),De=O("private",ie,ge(w,["decrypt","unwrapKey"]),b,me);return{publicKey:re,privateKey:De}}case"ECDSA":{if(L(w,De=>!j(["sign","verify"],De))!==void 0)throw new d("Invalid key usages","SyntaxError");let le={};if(j(v,z.namedCurve)){let De=await e.opAsync("op_crypto_generate_key",{name:"ECDSA",namedCurve:z.namedCurve});V(we,le,{type:"pkcs8",data:De})}else throw new d("Curve not supported","NotSupportedError");let me={name:"ECDSA",namedCurve:z.namedCurve},b=O("public",!0,ge(w,["verify"]),me,le),re=O("private",ie,ge(w,["sign"]),me,le);return{publicKey:b,privateKey:re}}case"ECDH":{if(L(w,De=>!j(["deriveKey","deriveBits"],De))!==void 0)throw new d("Invalid key usages","SyntaxError");let le={};if(j(v,z.namedCurve)){let De=await e.opAsync("op_crypto_generate_key",{name:"ECDH",namedCurve:z.namedCurve});V(we,le,{type:"pkcs8",data:De})}else throw new d("Curve not supported","NotSupportedError");let me={name:"ECDH",namedCurve:z.namedCurve},b=O("public",!0,ge(w,[]),me,le),re=O("private",ie,ge(w,["deriveKey","deriveBits"]),me,le);return{publicKey:b,privateKey:re}}case"AES-CTR":case"AES-CBC":case"AES-GCM":{if(L(w,le=>!j(["encrypt","decrypt","wrapKey","unwrapKey"],le))!==void 0)throw new d("Invalid key usages","SyntaxError");return Q(z,ie,w)}case"AES-KW":{if(L(w,le=>!j(["wrapKey","unwrapKey"],le))!==void 0)throw new d("Invalid key usages","SyntaxError");return Q(z,ie,w)}case"HMAC":{if(L(w,Re=>!j(["sign","verify"],Re))!==void 0)throw new d("Invalid key usages","SyntaxError");let le;if(z.length===void 0)le=null;else if(z.length!==0)le=z.length;else throw new d("Invalid length","OperationError");let me=await e.opAsync("op_crypto_generate_key",{name:"HMAC",hash:z.hash.name,length:le}),b={};V(we,b,{type:"raw",data:me});let re={name:"HMAC",hash:{name:z.hash.name},length:me.byteLength*8},De=O("secret",ie,w,re,b);return De}}}function Ue(z,ie,w){switch(z){case"raw":{let le=w.data;return le.buffer}case"jwk":{let le={kty:"oct",k:J(w.data)},me=ie[m];switch(me.length){case 128:le.alg=T[me.name][128];break;case 192:le.alg=T[me.name][192];break;case 256:le.alg=T[me.name][256];break;default:throw new d("Invalid key length","NotSupportedError")}return le.key_ops=ie[I],le.ext=ie[F],le}default:throw new d("Not implemented","NotSupportedError")}}function it(z,ie,w,le,me){let b=w;switch(z){case"raw":{if(!j([128,192,256],w.byteLength*8))throw new d("Invalid key length","Datarror");break}case"jwk":{let ye=w;if(ye.kty!=="oct")throw new d("`kty` member of JsonWebKey must be `oct`","DataError");if(ye.k===void 0)throw new d("`k` member of JsonWebKey must be present","DataError");b=f(ye.k);switch(b.byteLength*8){case 128:if(ye.alg!==void 0&&ye.alg!==T[ie.name][128])throw new d("Invalid algorithm","DataError");break;case 192:if(ye.alg!==void 0&&ye.alg!==T[ie.name][192])throw new d("Invalid algorithm","DataError");break;case 256:if(ye.alg!==void 0&&ye.alg!==T[ie.name][256])throw new d("Invalid algorithm","DataError");break;default:throw new d("Invalid key length","DataError")}if(me.length>0&&ye.use&&ye.use!=="enc")throw new d("Invalid key usages","DataError");if(ye.key_ops){if(L(ye.key_ops,Ze=>!j(U,Ze))!==void 0)throw new d("`key_ops` member of JsonWebKey is invalid","DataError");if(!he(ye.key_ops,Ze=>j(me,Ze)))throw new d("`key_ops` member of JsonWebKey is invalid","DataError")}if(ye.ext===!1&&le==!0)throw new d("`ext` member of JsonWebKey is invalid","DataError");break}default:throw new d("Not implemented","NotSupportedError")}let re={};V(we,re,{type:"raw",data:b});let De={name:ie.name,length:b.byteLength*8},Re=O("secret",le,ge(me,U),De,re);return Re}async function Q(z,ie,w){if(!j([128,192,256],z.length))throw new d("Invalid key length","OperationError");let le=await e.opAsync("op_crypto_generate_key",{name:z.name,length:z.length}),me={};V(we,me,{type:"raw",data:le});let b={name:z.name,length:z.length},re=O("secret",ie,w,b,me);return re}async function ve(z,ie,w){switch(z.name){case"PBKDF2":{if(w==null||w==0||w%8!==0)throw new d("Invalid length","OperationError");if(z.iterations==0)throw new d("iterations must not be zero","OperationError");let le=ie[E],me=A(we,le);R(z.salt)?z.salt=new g(z.salt.buffer,z.salt.byteOffset,z.salt.byteLength):z.salt=new g(z.salt),z.salt=_(z.salt);let b=await e.opAsync("op_crypto_derive_bits",{key:me,algorithm:"PBKDF2",hash:z.hash.name,iterations:z.iterations,length:w},z.salt);return b.buffer}case"ECDH":{if(ie[Z]!=="private")throw new d("Invalid key type","InvalidAccessError");let le=z.public;if(le[Z]!=="public")throw new d("Invalid key type","InvalidAccessError");if(le[m].name!==ie[m].name)throw new d("Algorithm mismatch","InvalidAccessError");if(le[m].namedCurve!==ie[m].namedCurve)throw new d("namedCurve mismatch","InvalidAccessError");if(j(v,le[m].namedCurve)){let me=ie[E],b=A(we,me),re=ie[E],De=A(we,re),Re=await e.opAsync("op_crypto_derive_bits",{key:b,publicKey:De,algorithm:"ECDH",namedCurve:le[m].namedCurve,length:w});return Re.buffer}else throw new d("Not implemented","NotSupportedError")}case"HKDF":{if(w===null||w===0||w%8!==0)throw new d("Invalid length","OperationError");let le=ie[E],me=A(we,le);R(z.salt)?z.salt=new g(z.salt.buffer,z.salt.byteOffset,z.salt.byteLength):z.salt=new g(z.salt),z.salt=_(z.salt),R(z.info)?z.info=new g(z.info.buffer,z.info.byteOffset,z.info.byteLength):z.info=new g(z.info),z.info=_(z.info);let b=await e.opAsync("op_crypto_derive_bits",{key:me,algorithm:"HKDF",hash:z.hash.name,info:z.info,length:w},z.salt);return b.buffer}default:throw new d("Not implemented","NotSupportedError")}}async function Se(z,ie,w){let le=ie[E],me=A(we,le);switch(z.name){case"RSA-OAEP":{if(ie[Z]!=="public")throw new d("Key type not supported","InvalidAccessError");z.label?(R(z.label)?z.label=new g(z.label.buffer,z.label.byteOffset,z.label.byteLength):z.label=new g(z.label),z.label=_(z.label)):z.label=new g;let b=ie[m].hash.name,re=await e.opAsync("op_crypto_encrypt_key",{key:me,algorithm:"RSA-OAEP",hash:b},w);return re.buffer}case"AES-CBC":{if(R(z.iv)?z.iv=new g(z.iv.buffer,z.iv.byteOffset,z.iv.byteLength):z.iv=new g(z.iv),z.iv=_(z.iv),z.iv.byteLength!==16)throw new d("Initialization vector must be 16 bytes","OperationError");let b=await e.opAsync("op_crypto_encrypt_key",{key:me,algorithm:"AES-CBC",length:ie[m].length,iv:z.iv},w);return b.buffer}default:throw new d("Not implemented","NotSupportedError")}}t.configurePrototype(G);let Te=t.createBranded(G);class Fe{constructor(){t.illegalConstructor()}getRandomValues(ie){t.assertBranded(this,Fe);let w="Failed to execute 'getRandomValues' on 'Crypto'";if(t.requiredArguments(arguments.length,1,{prefix:w}),ie=t.converters.ArrayBufferView(ie,{prefix:w,context:"Argument 1"}),!(ie instanceof M||ie instanceof g||ie instanceof p||ie instanceof ee||ie instanceof ue||ie instanceof D||ie instanceof C||ie instanceof fe||ie instanceof BigUint64Array))throw new d("The provided ArrayBufferView is not an integer array type","TypeMismatchError");let le=new g(ie.buffer,ie.byteOffset,ie.byteLength);return e.opSync("op_crypto_get_random_values",le),ie}randomUUID(){return t.assertBranded(this,Fe),e.opSync("op_crypto_random_uuid")}get subtle(){return t.assertBranded(this,Fe),Te}[y("Deno.customInspect")](ie){return`${this.constructor.name} ${ie({})}`}}t.configurePrototype(Fe),i.__bootstrap.crypto={SubtleCrypto:G,crypto:t.createBranded(Fe),Crypto:Fe,CryptoKey:ae}})(q)}),Ao=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{CryptoKey:t}=i.__bootstrap.crypto,{ArrayBufferIsView:d,ArrayBuffer:ce}=i.__bootstrap.primordials;e.converters.AlgorithmIdentifier=(_,ee)=>e.type(_)=="Object"?e.converters.object(_,ee):e.converters.DOMString(_,ee),e.converters["BufferSource or JsonWebKey"]=(_,ee)=>d(_)||_ instanceof ce?e.converters.BufferSource(_,ee):e.converters.JsonWebKey(_,ee),e.converters.KeyType=e.createEnumConverter("KeyType",["public","private","secret"]),e.converters.KeyFormat=e.createEnumConverter("KeyFormat",["raw","pkcs8","spki","jwk"]),e.converters.KeyUsage=e.createEnumConverter("KeyUsage",["encrypt","decrypt","sign","verify","deriveKey","deriveBits","wrapKey","unwrapKey"]),e.converters["sequence<KeyUsage>"]=e.createSequenceConverter(e.converters.KeyUsage),e.converters.HashAlgorithmIdentifier=e.converters.AlgorithmIdentifier;let $=[{key:"name",converter:e.converters.DOMString,required:!0}];e.converters.Algorithm=e.createDictionaryConverter("Algorithm",$),e.converters.BigInteger=e.converters.Uint8Array;let L=[...$,{key:"modulusLength",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0}),required:!0},{key:"publicExponent",converter:e.converters.BigInteger,required:!0}];e.converters.RsaKeyGenParams=e.createDictionaryConverter("RsaKeyGenParams",L);let he=[...L,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0}];e.converters.RsaHashedKeyGenParams=e.createDictionaryConverter("RsaHashedKeyGenParams",he);let j=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0}];e.converters.RsaHashedImportParams=e.createDictionaryConverter("RsaHashedImportParams",j),e.converters.NamedCurve=e.converters.DOMString;let te=[...$,{key:"namedCurve",converter:e.converters.NamedCurve,required:!0}];e.converters.EcKeyGenParams=e.createDictionaryConverter("EcKeyGenParams",te);let R=[...$,{key:"length",converter:(_,ee)=>e.converters["unsigned short"](_,{...ee,enforceRange:!0}),required:!0}];e.converters.AesKeyGenParams=e.createDictionaryConverter("AesKeyGenParams",R);let fe=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0},{key:"length",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0})}];e.converters.HmacKeyGenParams=e.createDictionaryConverter("HmacKeyGenParams",fe);let Y=[...$,{key:"saltLength",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0}),required:!0}];e.converters.RsaPssParams=e.createDictionaryConverter("RsaPssParams",Y);let ne=[...$,{key:"label",converter:e.converters.BufferSource}];e.converters.RsaOaepParams=e.createDictionaryConverter("RsaOaepParams",ne);let K=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0}];e.converters.EcdsaParams=e.createDictionaryConverter("EcdsaParams",K);let B=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0},{key:"length",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0})}];e.converters.HmacImportParams=e.createDictionaryConverter("HmacImportParams",B);let X=[{key:"r",converter:e.converters.DOMString},{key:"d",converter:e.converters.DOMString},{key:"t",converter:e.converters.DOMString}];e.converters.RsaOtherPrimesInfo=e.createDictionaryConverter("RsaOtherPrimesInfo",X),e.converters["sequence<RsaOtherPrimesInfo>"]=e.createSequenceConverter(e.converters.RsaOtherPrimesInfo);let y=[{key:"kty",converter:e.converters.DOMString},{key:"use",converter:e.converters.DOMString},{key:"key_ops",converter:e.converters["sequence<DOMString>"]},{key:"alg",converter:e.converters.DOMString},{key:"ext",converter:e.converters.boolean},{key:"crv",converter:e.converters.DOMString},{key:"x",converter:e.converters.DOMString},{key:"y",converter:e.converters.DOMString},{key:"d",converter:e.converters.DOMString},{key:"n",converter:e.converters.DOMString},{key:"e",converter:e.converters.DOMString},{key:"p",converter:e.converters.DOMString},{key:"q",converter:e.converters.DOMString},{key:"dp",converter:e.converters.DOMString},{key:"dq",converter:e.converters.DOMString},{key:"qi",converter:e.converters.DOMString},{key:"oth",converter:e.converters["sequence<RsaOtherPrimesInfo>"]},{key:"k",converter:e.converters.DOMString}];e.converters.JsonWebKey=e.createDictionaryConverter("JsonWebKey",y);let S=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0},{key:"salt",converter:e.converters.BufferSource,required:!0},{key:"info",converter:e.converters.BufferSource,required:!0}];e.converters.HkdfParams=e.createDictionaryConverter("HkdfParams",S);let h=[...$,{key:"hash",converter:e.converters.HashAlgorithmIdentifier,required:!0},{key:"iterations",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0}),required:!0},{key:"salt",converter:e.converters.BufferSource,required:!0}];e.converters.Pbkdf2Params=e.createDictionaryConverter("Pbkdf2Params",h);let A=[...$,{key:"length",converter:(_,ee)=>e.converters["unsigned long"](_,{...ee,enforceRange:!0}),required:!0}],V=[...$,{key:"iv",converter:e.converters.BufferSource,required:!0}];e.converters.AesDerivedKeyParams=e.createDictionaryConverter("AesDerivedKeyParams",A),e.converters.AesCbcParams=e.createDictionaryConverter("AesCbcParams",V),e.converters.CryptoKey=e.createInterfaceConverter("CryptoKey",t);let M=[{key:"publicKey",converter:e.converters.CryptoKey},{key:"privateKey",converter:e.converters.CryptoKey}];e.converters.CryptoKeyPair=e.createDictionaryConverter("CryptoKeyPair",M);let g=[...$,{key:"public",converter:e.converters.CryptoKey,required:!0}];e.converters.EcdhKeyDeriveParams=e.createDictionaryConverter("EcdhKeyDeriveParams",g)})(q)}),Eo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,{defineEventHandler:d,setTarget:ce}=i.__bootstrap.event,{DOMException:$}=i.__bootstrap.domException,{ArrayPrototypeIndexOf:L,ArrayPrototypeSplice:he,ArrayPrototypePush:j,Symbol:te,Uint8Array:R}=i.__bootstrap.primordials,fe=te("[[name]]"),Y=te("[[closed]]"),ne=[],K=null;async function B(){for(;ne.length>0;){let h=await e.opAsync("op_broadcast_recv",K);if(h===null)break;let[A,V]=h;X(null,A,new R(V))}e.close(K),K=null}function X(h,A,V){for(let M of ne){if(M===h)continue;if(M[fe]!==A)continue;if(M[Y])continue;let g=()=>{if(M[Y])return;let _=new MessageEvent("message",{data:e.deserialize(V),origin:"http://127.0.0.1"});ce(_,M),M.dispatchEvent(_)};y(g)}}function y(h){setTimeout(h,1)}class S extends EventTarget{[fe];[Y]=!1;get name(){return this[fe]}constructor(A){super();let V="Failed to construct 'BroadcastChannel'";t.requiredArguments(arguments.length,1,{prefix:V}),this[fe]=t.converters.DOMString(A,{prefix:V,context:"Argument 1"}),this[t.brand]=t.brand,j(ne,this),K===null&&(K=e.opSync("op_broadcast_subscribe"),B())}postMessage(A){t.assertBranded(this,S);let V="Failed to execute 'postMessage' on 'BroadcastChannel'";if(t.requiredArguments(arguments.length,1,{prefix:V}),this[Y])throw new $("Already closed","InvalidStateError");if(typeof A=="function"||typeof A=="symbol")throw new $("Uncloneable value","DataCloneError");let M=e.serialize(A);X(this,this[fe],new R(M)),y(()=>e.opAsync("op_broadcast_send",[K,this[fe]],M))}close(){t.assertBranded(this,S),this[Y]=!0;let A=L(ne,this);if(A===-1)return;he(ne,A,1),ne.length===0&&e.opSync("op_broadcast_unsubscribe",K)}}d(S.prototype,"message"),d(S.prototype,"messageerror"),i.__bootstrap.broadcastChannel={BroadcastChannel:S}})(q)}),Co=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap,{ArrayBuffer:d}=i.__bootstrap.primordials;class ce{#e;symbols={};constructor(he,j){this.#e=e.opSync("op_ffi_load",{path:he,symbols:j});for(let te in j){let R=j[te].nonblocking;this.symbols[te]=(...fe)=>{let Y=[],ne=[];for(let K of fe)K?.buffer instanceof d&&K.byteLength!==void 0?(Y.push(ne.length),ne.push(K)):Y.push(K);return R?e.opAsync("op_ffi_call_nonblocking",{rid:this.#e,symbol:te,parameters:Y,buffers:ne}):e.opSync("op_ffi_call",{rid:this.#e,symbol:te,parameters:Y,buffers:ne})}}}close(){e.close(this.#e)}}function $(L,he){let j=t.util.pathFromURL??(te=>te);return new ce(j(L),he)}i.__bootstrap.ffi={dlopen:$}})(q)}),Bo=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{InnerBody:t}=i.__bootstrap.fetchBody,{setEventTargetData:d}=i.__bootstrap.eventTarget,{Response:ce,fromInnerRequest:$,toInnerResponse:L,newInnerRequest:he,newInnerResponse:j,fromInnerResponse:te}=i.__bootstrap.fetch,R=i.Deno.core,{BadResource:fe,Interrupted:Y}=R,{ReadableStream:ne}=i.__bootstrap.streams,K=i.__bootstrap.abortSignal,{WebSocket:B,_rid:X,_readyState:y,_eventLoop:S,_protocol:h,_server:A}=i.__bootstrap.webSocket,{ArrayPrototypeIncludes:V,ArrayPrototypePush:M,ArrayPrototypeSome:g,Promise:_,Set:ee,SetPrototypeAdd:ue,SetPrototypeDelete:D,SetPrototypeHas:C,SetPrototypeValues:p,StringPrototypeIncludes:u,StringPrototypeToLowerCase:v,StringPrototypeSplit:U,Symbol:k,SymbolAsyncIterator:l,TypedArrayPrototypeSubarray:T,TypeError:f,Uint8Array:J}=i.__bootstrap.primordials,P=k("connError");class E{#e=0;#t=!1;managedResources=new ee;constructor(ge){this.#e=ge}get rid(){return this.#e}async nextRequest(){let ge;try{ge=await R.opAsync("op_http_accept",this.#e)}catch(Te){if(this.close(),this[P]=Te,Te instanceof fe||Te instanceof Y||u(Te.message,"connection closed"))return null;throw Te}if(ge==null)return await null,this.close(),null;let[we,Ae,G,pe]=ge;ue(this.managedResources,we);let Ue=null;Ae!=="GET"&&Ae!=="HEAD"&&(Ue=I(we));let it=he(Ae,pe,G,Ue!==null?new t(Ue):null,!1),Q=K.newSignal(),ve=$(it,Q,"immutable"),Se=F(this,we);return{request:ve,respondWith:Se}}close(){if(!this.#t){this.#t=!0,R.close(this.#e);for(let ge of p(this.managedResources))D(this.managedResources,ge),R.close(ge)}}[l](){let ge=this;return{async next(){let we=await ge.nextRequest();return{value:we??void 0,done:we===null}}}}}function m(O,ge){return R.opAsync("op_http_read",O,ge)}function F(O,ge){return async function(Ae){try{if(Ae instanceof _&&(Ae=await Ae),!(Ae instanceof ce))throw new f("First argument to respondWith must be a Response or a promise resolving to a Response.");let G=L(Ae),pe=null;if(G.body!==null){if(G.body.unusable())throw new f("Body is unusable.");if(G.body.streamOrStatic instanceof ne)if(G.body.length===null||G.body.source instanceof Blob)pe=G.body.stream;else{let Q=G.body.stream.getReader(),ve=await Q.read();if(ve.done)pe=new J(0);else{pe=ve.value;let Se=await Q.read();if(!Se.done)throw new f("Unreachable")}}else G.body.streamOrStatic.consumed=!0,pe=G.body.streamOrStatic.body}else pe=new J(0);let Ue=!(typeof pe=="string"||pe instanceof J);try{await R.opAsync("op_http_write_headers",[ge,G.status??200,G.headerList],Ue?null:pe)}catch(Q){let ve=O[P];throw Q instanceof fe&&ve!=null&&(Q=new ve.constructor(ve.message)),pe!==null&&pe instanceof ne&&await pe.cancel(Q),Q}if(Ue){if(pe===null||!(pe instanceof ne))throw new f("Unreachable");let Q=pe.getReader();for(;;){let{value:ve,done:Se}=await Q.read();if(Se)break;if(!(ve instanceof J)){await Q.cancel(new f("Value not a Uint8Array"));break}try{await R.opAsync("op_http_write",ge,ve)}catch(Te){let Fe=O[P];throw Te instanceof fe&&Fe!=null&&(Te=new Fe.constructor(Fe.message)),await Q.cancel(Te),Te}}try{await R.opAsync("op_http_shutdown",ge)}catch(ve){throw await Q.cancel(ve),ve}}let it=Ae[Z];if(it){let Q=await R.opAsync("op_http_upgrade_websocket",ge);if(it[X]=Q,it[h]=Ae.headers.get("sec-websocket-protocol"),O.close(),it[y]===B.CLOSING){await R.opAsync("op_ws_close",{rid:Q}),it[y]=B.CLOSED;let ve=new ErrorEvent("error");it.dispatchEvent(ve);let Se=new CloseEvent("close");it.dispatchEvent(Se),R.tryClose(Q)}else{it[y]=B.OPEN;let ve=new Event("open");it.dispatchEvent(ve),it[S]()}}}finally{C(O.managedResources,ge)&&(D(O.managedResources,ge),R.close(ge))}}}function I(O){return new ne({type:"bytes",async pull(ge){try{let we=new J(16*1024+256),Ae=await m(O,we);Ae>0?ge.enqueue(T(we,0,Ae)):ge.close()}catch(we){ge.error(we),ge.close()}}})}let Z=k("[[associated_ws]]");function ae(O,ge={}){let we=O.headers.get("upgrade"),Ae=we!==null&&g(U(we,/\s*,\s*/),z=>v(z)==="websocket");if(!Ae)throw new f("Invalid Header: 'upgrade' header must contain 'websocket'");let G=O.headers.get("connection"),pe=G!==null&&g(U(G,/\s*,\s*/),z=>v(z)==="upgrade");if(!pe)throw new f("Invalid Header: 'connection' header must contain 'Upgrade'");let Ue=O.headers.get("sec-websocket-key");if(Ue===null)throw new f("Invalid Header: 'sec-websocket-key' header must be set");let it=R.opSync("op_http_websocket_accept_header",Ue),Q=j(101);Q.headerList=[["upgrade","websocket"],["connection","Upgrade"],["sec-websocket-accept",it]];let ve=O.headers.get("sec-websocket-protocol")||"",Se=U(ve,", ");if(Se&&ge.protocol)if(V(Se,ge.protocol))M(Q.headerList,["sec-websocket-protocol",ge.protocol]);else throw new f(`Protocol '${ge.protocol}' not in the request's protocol list (non negotiable)`);let Te=te(Q,"immutable"),Fe=e.createBranded(B);return d(Fe),Fe[A]=!0,Te[Z]=Fe,{response:Te,socket:Fe}}i.__bootstrap.http={HttpConn:E,upgradeWebSocket:ae}})(q)}),Ro=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.webidl,d=i.__bootstrap.eventTarget,{DOMException:ce}=i.__bootstrap.domException,{ArrayBuffer:$,ArrayBufferIsView:L,ArrayIsArray:he,ArrayPrototypeFilter:j,ArrayPrototypeMap:te,ArrayPrototypePop:R,ArrayPrototypePush:fe,Error:Y,MathMax:ne,ObjectDefineProperty:K,ObjectFreeze:B,Promise:X,PromiseAll:y,PromisePrototypeCatch:S,PromisePrototypeThen:h,PromiseReject:A,PromiseResolve:V,Set:M,SetPrototypeEntries:g,SetPrototypeForEach:_,SetPrototypeHas:ee,SetPrototypeKeys:ue,SetPrototypeValues:D,Symbol:C,SymbolFor:p,SymbolIterator:u,TypeError:v,Uint32Array:U,Uint8Array:k}=i.__bootstrap.primordials;function l(He,{prefix:o,context:s}){let a=He[w],H=a?.rid;if(H===void 0)throw new ce(`${o}: ${s} references an invalid or destroyed device.`,"OperationError");return a}function T(He,o,{prefix:s,resourceContext:a,selfContext:H}){let W=l(o,{prefix:s,context:a});if(W.rid!==He.rid)throw new ce(`${s}: ${a} belongs to a diffent device than ${H}.`,"OperationError");return{...W,rid:W.rid}}function f(He,{prefix:o,context:s}){let a=He[ye];if(a===void 0)throw new ce(`${o}: ${s} an invalid or destroyed resource.`,"OperationError");return a}function J(He){return he(He)?{width:He[0],height:He[1],depthOrArrayLayers:He[2]}:He}function P(He){return he(He)?{x:He[0],y:He[1],z:He[2]}:He}function E(He){return he(He)?{r:He[0],g:He[1],b:He[2],a:He[3]}:He}class m extends Y{name="GPUOutOfMemoryError";constructor(){super("device out of memory")}}class F extends Y{name="GPUValidationError";constructor(o){let s="Failed to construct 'GPUValidationError'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.DOMString(o,{prefix:s,context:"Argument 1"}),super(o)}}class I{[t.brand]=t.brand;constructor(){t.illegalConstructor()}async requestAdapter(o={}){t.assertBranded(this,I),o=t.converters.GPURequestAdapterOptions(o,{prefix:"Failed to execute 'requestAdapter' on 'GPU'",context:"Argument 1"});let{err:s,...a}=await e.opAsync("op_webgpu_request_adapter",{...o});return s?null:ge(a.name,a)}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({})}`}}let Z=C("[[name]]"),ae=C("[[adapter]]"),O=C("[[cleanup]]");function ge(He,o){let s=t.createBranded(we);return s[Z]=He,s[ae]={...o,features:it(o.features),limits:G(o.limits)},s}class we{[Z];[ae];get name(){return t.assertBranded(this,we),this[Z]}get features(){return t.assertBranded(this,we),this[ae].features}get limits(){return t.assertBranded(this,we),this[ae].limits}get isFallbackAdapter(){return this[ae].isFallbackAdapter}constructor(){t.illegalConstructor()}async requestDevice(o={}){t.assertBranded(this,we);let s="Failed to execute 'requestDevice' on 'GPUAdapter'";o=t.converters.GPUDeviceDescriptor(o,{prefix:s,context:"Argument 1"});let a=o.requiredFeatures??[];for(let Ke of a)if(!ee(this[ae].features[Ue],Ke))throw new v(`${s}: nonGuaranteedFeatures must be a subset of the adapter features.`);let H=o.requiredLimits,{rid:W,features:se,limits:ke}=await e.opAsync("op_webgpu_request_device",{adapterRid:this[ae].rid,labe:o.label,requiredFeatures:a,requiredLimits:H}),Ve=new me({rid:W,adapter:this,features:B(se),limits:B(ke)});return b(o.label??null,Ve,De(o.label??null,Ve))}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({name:this.name,features:this.features,limits:this.limits})}`}}let Ae=C("[[limits]]");function G(He){let o=t.createBranded(pe);return o[Ae]=He,o}class pe{[Ae];constructor(){t.illegalConstructor()}get maxTextureDimension1D(){return t.assertBranded(this,pe),this[Ae].maxTextureDimension1D}get maxTextureDimension2D(){return t.assertBranded(this,pe),this[Ae].maxTextureDimension2D}get maxTextureDimension3D(){return t.assertBranded(this,pe),this[Ae].maxTextureDimension3D}get maxTextureArrayLayers(){return t.assertBranded(this,pe),this[Ae].maxTextureArrayLayers}get maxBindGroups(){return t.assertBranded(this,pe),this[Ae].maxBindGroups}get maxDynamicUniformBuffersPerPipelineLayout(){return t.assertBranded(this,pe),this[Ae].maxDynamicUniformBuffersPerPipelineLayout}get maxDynamicStorageBuffersPerPipelineLayout(){return t.assertBranded(this,pe),this[Ae].maxDynamicStorageBuffersPerPipelineLayout}get maxSampledTexturesPerShaderStage(){return t.assertBranded(this,pe),this[Ae].maxSampledTexturesPerShaderStage}get maxSamplersPerShaderStage(){return t.assertBranded(this,pe),this[Ae].maxSamplersPerShaderStage}get maxStorageBuffersPerShaderStage(){return t.assertBranded(this,pe),this[Ae].maxStorageBuffersPerShaderStage}get maxStorageTexturesPerShaderStage(){return t.assertBranded(this,pe),this[Ae].maxStorageTexturesPerShaderStage}get maxUniformBuffersPerShaderStage(){return t.assertBranded(this,pe),this[Ae].maxUniformBuffersPerShaderStage}get maxUniformBufferBindingSize(){return t.assertBranded(this,pe),this[Ae].maxUniformBufferBindingSize}get maxStorageBufferBindingSize(){return t.assertBranded(this,pe),this[Ae].maxStorageBufferBindingSize}get minUniformBufferOffsetAlignment(){return t.assertBranded(this,pe),this[Ae].minUniformBufferOffsetAlignment}get minStorageBufferOffsetAlignment(){return t.assertBranded(this,pe),this[Ae].minStorageBufferOffsetAlignment}get maxVertexBuffers(){return t.assertBranded(this,pe),this[Ae].maxVertexBuffers}get maxVertexAttributes(){return t.assertBranded(this,pe),this[Ae].maxVertexAttributes}get maxVertexBufferArrayStride(){return t.assertBranded(this,pe),this[Ae].maxVertexBufferArrayStride}get maxInterStageShaderComponents(){return t.assertBranded(this,pe),this[Ae].maxInterStageShaderComponents}get maxComputeWorkgroupStorageSize(){return t.assertBranded(this,pe),this[Ae].maxComputeWorkgroupStorageSize}get maxComputeInvocationsPerWorkgroup(){return t.assertBranded(this,pe),this[Ae].maxComputeInvocationsPerWorkgroup}get maxComputeWorkgroupSizeX(){return t.assertBranded(this,pe),this[Ae].maxComputeWorkgroupSizeX}get maxComputeWorkgroupSizeY(){return t.assertBranded(this,pe),this[Ae].maxComputeWorkgroupSizeY}get maxComputeWorkgroupSizeZ(){return t.assertBranded(this,pe),this[Ae].maxComputeWorkgroupSizeZ}get maxComputeWorkgroupsPerDimension(){return t.assertBranded(this,pe),this[Ae].maxComputeWorkgroupsPerDimension}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o(this[Ae])}`}}let Ue=C("[[features]]");function it(He){let o=t.createBranded(Q);return o[Ue]=new M(He),o}class Q{[Ue];constructor(){t.illegalConstructor()}entries(){return t.assertBranded(this,Q),g(this[Ue])}forEach(o,s){t.assertBranded(this,Q),_(this[Ue],o,s)}has(o){return t.assertBranded(this,Q),ee(this[Ue],o)}keys(){return t.assertBranded(this,Q),ue(this[Ue])}values(){return t.assertBranded(this,Q),D(this[Ue])}get size(){return t.assertBranded(this,Q),this[Ue].size}[u](){return t.assertBranded(this,Q),this[Ue][u]()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o([...this.values()])}`}}let ve=C("[[reason]]"),Se=C("[[message]]");function Te(He,o){let s=t.createBranded(Fe);return s[ve]=He,s[Se]=o,s}class Fe{[ve];[Se];constructor(){t.illegalConstructor()}get reason(){return t.assertBranded(this,Fe),this[ve]}get message(){return t.assertBranded(this,Fe),this[Se]}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({reason:this[ve],message:this[Se]})}`}}let z=C("[[label]]");function ie(He,o){o.prototype[z]=null,K(o.prototype,"label",{get(){return t.assertBranded(this,o),this[z]},set(s){t.assertBranded(this,o),s=t.converters["UVString?"](s,{prefix:`Failed to set 'label' on '${He}'`,context:"Argument 1"}),this[z]=s}})}let w=C("[[device]]"),le=C("[[queue]]");class me{adapter;rid;features;limits;resources;isLost;lost;resolveLost;errorScopeStack;constructor(o){this.adapter=o.adapter,this.rid=o.rid,this.features=o.features,this.limits=o.limits,this.resources=[],this.isLost=!1,this.resolveLost=()=>{},this.lost=new X(s=>{this.resolveLost=s}),this.errorScopeStack=[]}trackResource(o){fe(this.resources,new WeakRef(o))}pushError(o){this.pushErrorPromise(V(o))}pushErrorPromise(o){let s=h(o,Ke=>{if(Ke)switch(Ke.type){case"lost":this.isLost=!0,this.resolveLost(Te(void 0,"device was lost"));break;case"validation":return A(new F(Ke.value??"validation error"));case"out-of-memory":return A(new m)}}),a=j(this.errorScopeStack,({filter:Ke})=>Ke=="validation"),H=a[a.length-1],W=S(s,Ke=>Ke instanceof F?A(Ke):V());H?fe(H.operations,W):S(W,()=>{}),S(W,Ke=>{});let se=j(this.errorScopeStack,({filter:Ke})=>Ke=="out-of-memory"),ke=se[se.length-1],Ve=S(s,Ke=>Ke instanceof m?A(Ke):V());ke?fe(ke.operations,Ve):S(Ve,()=>{}),S(Ve,Ke=>{})}}function b(He,o,s){let a=t.createBranded(re);return a[z]=He,a[w]=o,a[le]=s,a}class re extends d.EventTarget{[w];[le];[O](){let o=this[w],s=o.resources;for(;s.length>0;){let H=R(s)?.deref();H&&H[O]()}let a=o.rid;a!==void 0&&(e.close(a),o.rid=void 0)}get features(){return t.assertBranded(this,re),this[w].features}get limits(){return t.assertBranded(this,re),this[w].limits}get queue(){return t.assertBranded(this,re),this[le]}constructor(){t.illegalConstructor(),super()}destroy(){t.assertBranded(this,re),this[O]()}createBuffer(o){t.assertBranded(this,re);let s="Failed to execute 'createBuffer' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUBufferDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_buffer",{deviceRid:a.rid,...o});a.pushError(W);let se;o.mappedAtCreation?se={mapping:new $(o.size),mappingRange:[0,o.size],mappedRanges:[],state:"mapped at creation"}:se={mapping:null,mappedRanges:null,mappingRange:null,state:"unmapped"};let ke=Lt(o.label??null,a,H,o.size,o.usage,se);return a.trackResource(ke),ke}createTexture(o){t.assertBranded(this,re);let s="Failed to execute 'createTexture' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUTextureDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_texture",{deviceRid:a.rid,...o,size:J(o.size)});a.pushError(W);let se=mt(o.label??null,a,H);return a.trackResource(se),se}createSampler(o={}){t.assertBranded(this,re);let s="Failed to execute 'createSampler' on 'GPUDevice'";o=t.converters.GPUSamplerDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_sampler",{deviceRid:a.rid,...o});a.pushError(W);let se=N(o.label??null,a,H);return a.trackResource(se),se}createBindGroupLayout(o){t.assertBranded(this,re);let s="Failed to execute 'createBindGroupLayout' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUBindGroupLayoutDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"});for(let ke of o.entries){let Ve=0;if(ke.buffer&&Ve++,ke.sampler&&Ve++,ke.texture&&Ve++,ke.storageTexture&&Ve++,Ve!==1)throw new Y}let{rid:H,err:W}=e.opSync("op_webgpu_create_bind_group_layout",{deviceRid:a.rid,...o});a.pushError(W);let se=Qe(o.label??null,a,H);return a.trackResource(se),se}createPipelineLayout(o){t.assertBranded(this,re);let s="Failed to execute 'createPipelineLayout' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUPipelineLayoutDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=te(o.bindGroupLayouts,(Ve,Ke)=>{let Wt=`bind group layout ${Ke+1}`,It=f(Ve,{prefix:s,context:Wt});return T(a,Ve,{prefix:s,selfContext:"this",resourceContext:Wt}),It}),{rid:W,err:se}=e.opSync("op_webgpu_create_pipeline_layout",{deviceRid:a.rid,label:o.label,bindGroupLayouts:H});a.pushError(se);let ke=ct(o.label??null,a,W);return a.trackResource(ke),ke}createBindGroup(o){t.assertBranded(this,re);let s="Failed to execute 'createBindGroup' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUBindGroupDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(o.layout,{prefix:s,context:"layout"});T(a,o.layout,{prefix:s,resourceContext:"layout",selfContext:"this"});let W=te(o.entries,(Ke,Wt)=>{let It=`entry ${Wt+1}`,Zt=Ke.resource;if(Zt instanceof Pe){let fr=f(Zt,{prefix:s,context:It});return T(a,Zt,{prefix:s,resourceContext:It,selfContext:"this"}),{binding:Ke.binding,kind:"GPUSampler",resource:fr}}else if(Zt instanceof _e){let fr=f(Zt,{prefix:s,context:It});return f(Zt[At],{prefix:s,context:It}),T(a,Zt[At],{prefix:s,resourceContext:It,selfContext:"this"}),{binding:Ke.binding,kind:"GPUTextureView",resource:fr}}else{let fr=f(Zt.buffer,{prefix:s,context:It});return T(a,Zt.buffer,{prefix:s,resourceContext:It,selfContext:"this"}),{binding:Ke.binding,kind:"GPUBufferBinding",resource:fr,offset:Ke.resource.offset,size:Ke.resource.size}}}),{rid:se,err:ke}=e.opSync("op_webgpu_create_bind_group",{deviceRid:a.rid,label:o.label,layout:H,entries:W});a.pushError(ke);let Ve=Et(o.label??null,a,se);return a.trackResource(Ve),Ve}createShaderModule(o){t.assertBranded(this,re);let s="Failed to execute 'createShaderModule' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUShaderModuleDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_shader_module",{deviceRid:a.rid,label:o.label,code:o.code,sourceMap:o.sourceMap});a.pushError(W);let se=Pt(o.label??null,a,H);return a.trackResource(se),se}createComputePipeline(o){t.assertBranded(this,re);let s="Failed to execute 'createComputePipeline' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUComputePipelineDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H;if(o.layout){let Ke="layout";H=f(o.layout,{prefix:s,context:Ke}),T(a,o.layout,{prefix:s,resourceContext:Ke,selfContext:"this"})}let W=f(o.compute.module,{prefix:s,context:"compute shader module"});T(a,o.compute.module,{prefix:s,resourceContext:"compute shader module",selfContext:"this"});let{rid:se,err:ke}=e.opSync("op_webgpu_create_compute_pipeline",{deviceRid:a.rid,label:o.label,layout:H,compute:{module:W,entryPoint:o.compute.entryPoint,constants:o.compute.constants}});a.pushError(ke);let Ve=Ge(o.label??null,a,se);return a.trackResource(Ve),Ve}createRenderPipeline(o){t.assertBranded(this,re);let s="Failed to execute 'createRenderPipeline' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPURenderPipelineDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H;if(o.layout){let Wt="layout";H=f(o.layout,{prefix:s,context:Wt}),T(a,o.layout,{prefix:s,resourceContext:Wt,selfContext:"this"})}let W=f(o.vertex.module,{prefix:s,context:"vertex shader module"});T(a,o.vertex.module,{prefix:s,resourceContext:"vertex shader module",selfContext:"this"});let se;if(o.fragment){let Wt=f(o.fragment.module,{prefix:s,context:"fragment shader module"});T(a,o.fragment.module,{prefix:s,resourceContext:"fragment shader module",selfContext:"this"}),se={module:Wt,entryPoint:o.fragment.entryPoint,targets:o.fragment.targets}}let{rid:ke,err:Ve}=e.opSync("op_webgpu_create_render_pipeline",{deviceRid:a.rid,label:o.label,layout:H,vertex:{module:W,entryPoint:o.vertex.entryPoint,buffers:o.vertex.buffers},primitive:o.primitive,depthStencil:o.depthStencil,multisample:o.multisample,fragment:se});a.pushError(Ve);let Ke=nt(o.label??null,a,ke);return a.trackResource(Ke),Ke}createComputePipelineAsync(o){return V(this.createComputePipeline(o))}createRenderPipelineAsync(o){return V(this.createRenderPipeline(o))}createCommandEncoder(o={}){t.assertBranded(this,re);let s="Failed to execute 'createCommandEncoder' on 'GPUDevice'";o=t.converters.GPUCommandEncoderDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_command_encoder",{deviceRid:a.rid,...o});a.pushError(W);let se=xt(o.label??null,a,H);return a.trackResource(se),se}createRenderBundleEncoder(o){t.assertBranded(this,re);let s="Failed to execute 'createRenderBundleEncoder' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPURenderBundleEncoderDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_render_bundle_encoder",{deviceRid:a.rid,...o});a.pushError(W);let se=Mt(o.label??null,a,H);return a.trackResource(se),se}createQuerySet(o){t.assertBranded(this,re);let s="Failed to execute 'createQuerySet' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUQuerySetDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),{rid:H,err:W}=e.opSync("op_webgpu_create_query_set",{deviceRid:a.rid,...o});a.pushError(W);let se=Fr(o.label??null,a,H,o);return a.trackResource(se),se}get lost(){t.assertBranded(this,re);let o=this[w];return o?o.rid===void 0?V(!0):o.lost:V(!0)}pushErrorScope(o){t.assertBranded(this,re);let s="Failed to execute 'pushErrorScope' on 'GPUDevice'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUErrorFilter(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"});fe(a.errorScopeStack,{filter:o,operations:[]})}async popErrorScope(){t.assertBranded(this,re);let o="Failed to execute 'popErrorScope' on 'GPUDevice'",s=l(this,{prefix:o,context:"this"});if(s.isLost)throw new ce("Device has been lost.","OperationError");let a=R(s.errorScopeStack);if(!a)throw new ce("There are no error scopes on the error scope stack.","OperationError");let H=y(a.operations);return h(H,()=>V(null),W=>V(W))}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({features:this.features,label:this.label,limits:this.limits,queue:this.queue})}`}}ie("GPUDevice",re);function De(He,o){let s=t.createBranded(Re);return s[z]=He,s[w]=o,s}class Re{[w];constructor(){t.illegalConstructor()}submit(o){t.assertBranded(this,Re);let s="Failed to execute 'submit' on 'GPUQueue'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters["sequence<GPUCommandBuffer>"](o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=te(o,(se,ke)=>{let Ve=`command buffer ${ke+1}`,Ke=f(se,{prefix:s,context:Ve});return T(a,se,{prefix:s,selfContext:"this",resourceContext:Ve}),Ke}),{err:W}=e.opSync("op_webgpu_queue_submit",{queueRid:a.rid,commandBuffers:H});a.pushError(W)}onSubmittedWorkDone(){return t.assertBranded(this,Re),V()}writeBuffer(o,s,a,H=0,W){t.assertBranded(this,Re);let se="Failed to execute 'writeBuffer' on 'GPUQueue'";t.requiredArguments(arguments.length,3,{prefix:se}),o=t.converters.GPUBuffer(o,{prefix:se,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:se,context:"Argument 2"}),a=t.converters.BufferSource(a,{prefix:se,context:"Argument 3"}),H=t.converters.GPUSize64(H,{prefix:se,context:"Argument 4"}),W=W===void 0?void 0:t.converters.GPUSize64(W,{prefix:se,context:"Argument 5"});let ke=l(this,{prefix:se,context:"this"}),Ve=f(o,{prefix:se,context:"Argument 1"});T(ke,o,{prefix:se,selfContext:"this",resourceContext:"Argument 1"});let{err:Ke}=e.opSync("op_webgpu_write_buffer",{queueRid:ke.rid,buffer:Ve,bufferOffset:s,dataOffset:H,size:W},new k(L(a)?a.buffer:a));ke.pushError(Ke)}writeTexture(o,s,a,H){t.assertBranded(this,Re);let W="Failed to execute 'writeTexture' on 'GPUQueue'";t.requiredArguments(arguments.length,4,{prefix:W}),o=t.converters.GPUImageCopyTexture(o,{prefix:W,context:"Argument 1"}),s=t.converters.BufferSource(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUImageDataLayout(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUExtent3D(H,{prefix:W,context:"Argument 4"});let se=l(this,{prefix:W,context:"this"}),ke=f(o.texture,{prefix:W,context:"texture"});T(se,o.texture,{prefix:W,selfContext:"this",resourceContext:"texture"});let{err:Ve}=e.opSync("op_webgpu_write_texture",{queueRid:se.rid,destination:{texture:ke,mipLevel:o.mipLevel,origin:o.origin?P(o.origin):void 0,aspect:o.aspect},dataLayout:a,size:J(H)},new k(L(s)?s.buffer:s));se.pushError(Ve)}copyImageBitmapToTexture(o,s,a){throw new Y("Not yet implemented")}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUQueue",Re);let ye=C("[[rid]]"),Ze=C("[[size]]"),gt=C("[[usage]]"),Ie=C("[[state]]"),Ft=C("[[mapping_range]]"),St=C("[[mapped_ranges]]"),dt=C("[[map_mode]]");function Lt(He,o,s,a,H,W){let se=t.createBranded(Tt);return se[z]=He,se[w]=o,se[ye]=s,se[Ze]=a,se[gt]=H,se[Ft]=W.mappingRange,se[St]=W.mappedRanges,se[Ie]=W.state,se}class Tt{[w];[ye];[Ze];[gt];[Ie];[Ft];[St];[dt];[O](){let o=this[St];if(o)for(;o.length>0;){let a=R(o);a!==void 0&&e.close(a[1])}let s=this[ye];s!==void 0&&(e.close(s),this[ye]=void 0),this[Ie]="destroy"}constructor(){t.illegalConstructor()}async mapAsync(o,s=0,a){t.assertBranded(this,Tt);let H="Failed to execute 'mapAsync' on 'GPUBuffer'";t.requiredArguments(arguments.length,1,{prefix:H}),o=t.converters.GPUMapModeFlags(o,{prefix:H,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:H,context:"Argument 2"}),a=a===void 0?void 0:t.converters.GPUSize64(a,{prefix:H,context:"Argument 3"});let W=l(this,{prefix:H,context:"this"}),se=f(this,{prefix:H,context:"this"}),ke;if(a===void 0?ke=ne(0,this[Ze]-s):ke=this[Ze],s%8!==0)throw new ce(`${H}: offset must be a multiple of 8.`,"OperationError");if(ke%4!==0)throw new ce(`${H}: rangeSize must be a multiple of 4.`,"OperationError");if(s+ke>this[Ze])throw new ce(`${H}: offset + rangeSize must be less than or equal to buffer size.`,"OperationError");if(this[Ie]!=="unmapped")throw new ce(`${H}: GPUBuffer is not currently unmapped.`,"OperationError");let Ve=(o&1)===1,Ke=(o&2)===2;if(Ve&&Ke||!Ve&&!Ke)throw new ce(`${H}: exactly one of READ or WRITE map mode must be set.`,"OperationError");if(Ve&&!((this[gt]&&1)===1))throw new ce(`${H}: READ map mode not valid because buffer does not have MAP_READ usage.`,"OperationError");if(Ke&&!((this[gt]&&2)===2))throw new ce(`${H}: WRITE map mode not valid because buffer does not have MAP_WRITE usage.`,"OperationError");this[dt]=o,this[Ie]="mapping pending";let Wt=h(e.opAsync("op_webgpu_buffer_get_map_async",{bufferRid:se,deviceRid:W.rid,mode:o,offset:s,size:ke}),({err:Zt})=>Zt);W.pushErrorPromise(Wt);let It=await Wt;if(It)throw new ce("validation error occured","OperationError");this[Ie]="mapped",this[Ft]=[s,s+ke],this[St]=[]}getMappedRange(o=0,s){t.assertBranded(this,Tt);let a="Failed to execute 'getMappedRange' on 'GPUBuffer'";o=t.converters.GPUSize64(o,{prefix:a,context:"Argument 1"}),s!==void 0&&(s=t.converters.GPUSize64(s,{prefix:a,context:"Argument 2"})),l(this,{prefix:a,context:"this"});let H=f(this,{prefix:a,context:"this"}),W;s===void 0?W=ne(0,this[Ze]-o):W=s;let se=this[St];if(!se)throw new ce(`${a}: invalid state.`,"OperationError");for(let[Ke,Wt,It]of se){let Zt=It+Ke.byteLength;if(It>=o&&It<o+W||Zt>=o&&Zt<o+W)throw new ce(`${a}: requested buffer overlaps with another mapped range.`,"OperationError")}let ke=new $(W),{rid:Ve}=e.opSync("op_webgpu_buffer_get_mapped_range",{bufferRid:H,offset:o,size:s},new k(ke));return fe(se,[ke,Ve,o]),ke}unmap(){t.assertBranded(this,Tt);let o="Failed to execute 'unmap' on 'GPUBuffer'",s=l(this,{prefix:o,context:"this"}),a=f(this,{prefix:o,context:"this"});if(this[Ie]==="unmapped"||this[Ie]==="destroyed")throw new ce(`${o}: buffer is not ready to be unmapped.`,"OperationError");if(this[Ie]==="mapping pending")throw new ce(`${o}: can not unmap while mapping. This is a Deno limitation.`,"OperationError");if(this[Ie]==="mapped"||this[Ie]==="mapped at creation"){let H=!1;if(this[Ie]==="mapped at creation")H=!0;else if(this[Ie]==="mapped"){let se=this[dt];if(se===void 0)throw new ce(`${o}: invalid state.`,"OperationError");(se&2)===2&&(H=!0)}let W=this[St];if(!W)throw new ce(`${o}: invalid state.`,"OperationError");for(let[se,ke]of W){let{err:Ve}=e.opSync("op_webgpu_buffer_unmap",{bufferRid:a,mappedRid:ke},...H?[new k(se)]:[]);if(s.pushError(Ve),Ve)return}this[Ft]=null,this[St]=null}this[Ie]="unmapped"}destroy(){t.assertBranded(this,Tt),this[O]()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUBuffer",Tt);class $e{constructor(){t.illegalConstructor()}static get MAP_READ(){return 1}static get MAP_WRITE(){return 2}static get COPY_SRC(){return 4}static get COPY_DST(){return 8}static get INDEX(){return 16}static get VERTEX(){return 32}static get UNIFORM(){return 64}static get STORAGE(){return 128}static get INDIRECT(){return 256}static get QUERY_RESOLVE(){return 512}}class zt{constructor(){t.illegalConstructor()}static get READ(){return 1}static get WRITE(){return 2}}let qt=C("[[views]]");function mt(He,o,s){let a=t.createBranded(ot);return a[z]=He,a[w]=o,a[ye]=s,a[qt]=[],a}class ot{[w];[ye];[qt];[O](){let o=this[qt];for(;o.length>0;){let a=R(o)?.deref();a&&a[O]()}let s=this[ye];s!==void 0&&(e.close(s),this[ye]=void 0)}constructor(){t.illegalConstructor()}createView(o={}){t.assertBranded(this,ot);let s="Failed to execute 'createView' on 'GPUTexture'";t.requiredArguments(arguments.length,0,{prefix:s}),o=t.converters.GPUTextureViewDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{rid:W,err:se}=e.opSync("op_webgpu_create_texture_view",{textureRid:H,...o});a.pushError(se);let ke=kt(o.label??null,this,W);return fe(this[qt],new WeakRef(ke)),ke}destroy(){t.assertBranded(this,ot),this[O]()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUTexture",ot);class Dt{constructor(){t.illegalConstructor()}static get COPY_SRC(){return 1}static get COPY_DST(){return 2}static get TEXTURE_BINDING(){return 4}static get STORAGE_BINDING(){return 8}static get RENDER_ATTACHMENT(){return 16}}let At=C("[[texture]]");function kt(He,o,s){let a=t.createBranded(_e);return a[z]=He,a[At]=o,a[ye]=s,a}class _e{[At];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUTextureView",_e);function N(He,o,s){let a=t.createBranded(Pe);return a[z]=He,a[w]=o,a[ye]=s,a}class Pe{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUSampler",Pe);function Qe(He,o,s){let a=t.createBranded(st);return a[z]=He,a[w]=o,a[ye]=s,a}class st{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUBindGroupLayout",st);function ct(He,o,s){let a=t.createBranded(ut);return a[z]=He,a[w]=o,a[ye]=s,a}class ut{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUPipelineLayout",ut);function Et(He,o,s){let a=t.createBranded(_t);return a[z]=He,a[w]=o,a[ye]=s,a}class _t{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUBindGroup",_t);function Pt(He,o,s){let a=t.createBranded(xe);return a[z]=He,a[w]=o,a[ye]=s,a}class xe{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}compilationInfo(){throw new Y("Not yet implemented")}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUShaderModule",xe);class Ce{constructor(){t.illegalConstructor()}static get VERTEX(){return 1}static get FRAGMENT(){return 2}static get COMPUTE(){return 4}}function Ge(He,o,s){let a=t.createBranded(Le);return a[z]=He,a[w]=o,a[ye]=s,a}class Le{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}getBindGroupLayout(o){t.assertBranded(this,Le);let s="Failed to execute 'getBindGroupLayout' on 'GPUComputePipeline'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters["unsigned long"](o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{rid:W,label:se,err:ke}=e.opSync("op_webgpu_compute_pipeline_get_bind_group_layout",{computePipelineRid:H,index:o});a.pushError(ke);let Ve=Qe(se,a,W);return a.trackResource(Ve),Ve}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUComputePipeline",Le);function nt(He,o,s){let a=t.createBranded(Je);return a[z]=He,a[w]=o,a[ye]=s,a}class Je{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}getBindGroupLayout(o){t.assertBranded(this,Je);let s="Failed to execute 'getBindGroupLayout' on 'GPURenderPipeline'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters["unsigned long"](o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{rid:W,label:se,err:ke}=e.opSync("op_webgpu_render_pipeline_get_bind_group_layout",{renderPipelineRid:H,index:o});a.pushError(ke);let Ve=Qe(se,a,W);return a.trackResource(Ve),Ve}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPURenderPipeline",Je);class at{constructor(){t.illegalConstructor()}static get RED(){return 1}static get GREEN(){return 2}static get BLUE(){return 4}static get ALPHA(){return 8}static get ALL(){return 15}}let Be=C("[[encoders]]");function xt(He,o,s){let a=t.createBranded(tt);return a[z]=He,a[w]=o,a[ye]=s,a[Be]=[],a}class tt{[w];[ye];[Be];[O](){let o=this[Be];for(;o.length>0;){let a=R(o)?.deref();a&&a[O]()}let s=this[ye];s!==void 0&&(e.close(s),this[ye]=void 0)}constructor(){t.illegalConstructor()}beginRenderPass(o){t.assertBranded(this,tt);let s="Failed to execute 'beginRenderPass' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPURenderPassDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"});if(this[ye]===void 0)throw new ce("Failed to execute 'beginRenderPass' on 'GPUCommandEncoder': already consumed","OperationError");let W;if(o.depthStencilAttachment){let Ke=f(o.depthStencilAttachment.view,{prefix:s,context:"texture view for depth stencil attachment"});T(a,o.depthStencilAttachment.view[At],{prefix:s,resourceContext:"texture view for depth stencil attachment",selfContext:"this"}),W={...o.depthStencilAttachment,view:Ke},typeof o.depthStencilAttachment.depthLoadValue=="string"?W.depthLoadOp=o.depthStencilAttachment.depthLoadValue:W.depthLoadOp={clear:o.depthStencilAttachment.depthLoadValue},typeof o.depthStencilAttachment.stencilLoadValue=="string"?W.stencilLoadOp=o.depthStencilAttachment.stencilLoadValue:W.stencilLoadOp={clear:o.depthStencilAttachment.stencilLoadValue}}let se=te(o.colorAttachments,(Ke,Wt)=>{let It=`color attachment ${Wt+1}`,Zt=f(Ke.view,{prefix:s,context:`texture view for ${It}`});f(Ke.view[At],{prefix:s,context:`texture backing texture view for ${It}`}),T(a,Ke.view[At],{prefix:s,resourceContext:`texture view for ${It}`,selfContext:"this"});let fr;Ke.resolveTarget&&(fr=f(Ke.resolveTarget,{prefix:s,context:`resolve target texture view for ${It}`}),f(Ke.resolveTarget[At],{prefix:s,context:`texture backing resolve target texture view for ${It}`}),T(a,Ke.resolveTarget[At],{prefix:s,resourceContext:`resolve target texture view for ${It}`,selfContext:"this"}));let cr={view:Zt,resolveTarget:fr,storeOp:Ke.storeOp};return typeof Ke.loadValue=="string"?cr.loadOp=Ke.loadValue:cr.loadOp={clear:E(Ke.loadValue)},cr}),{rid:ke}=e.opSync("op_webgpu_command_encoder_begin_render_pass",{commandEncoderRid:H,...o,colorAttachments:se,depthStencilAttachment:W}),Ve=Ne(o.label??null,this,ke);return fe(this[Be],new WeakRef(Ve)),Ve}beginComputePass(o={}){t.assertBranded(this,tt);let s="Failed to execute 'beginComputePass' on 'GPUCommandEncoder'";o=t.converters.GPUComputePassDescriptor(o,{prefix:s,context:"Argument 1"}),l(this,{prefix:s,context:"this"});let a=f(this,{prefix:s,context:"this"}),{rid:H}=e.opSync("op_webgpu_command_encoder_begin_compute_pass",{commandEncoderRid:a,...o}),W=Qt(o.label??null,this,H);return fe(this[Be],new WeakRef(W)),W}copyBufferToBuffer(o,s,a,H,W){t.assertBranded(this,tt);let se="Failed to execute 'copyBufferToBuffer' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,5,{prefix:se}),o=t.converters.GPUBuffer(o,{prefix:se,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:se,context:"Argument 2"}),a=t.converters.GPUBuffer(a,{prefix:se,context:"Argument 3"}),H=t.converters.GPUSize64(H,{prefix:se,context:"Argument 4"}),W=t.converters.GPUSize64(W,{prefix:se,context:"Argument 5"});let ke=l(this,{prefix:se,context:"this"}),Ve=f(this,{prefix:se,context:"this"}),Ke=f(o,{prefix:se,context:"Argument 1"});T(ke,o,{prefix:se,resourceContext:"Argument 1",selfContext:"this"});let Wt=f(a,{prefix:se,context:"Argument 3"});T(ke,a,{prefix:se,resourceContext:"Argument 3",selfContext:"this"});let{err:It}=e.opSync("op_webgpu_command_encoder_copy_buffer_to_buffer",{commandEncoderRid:Ve,source:Ke,sourceOffset:s,destination:Wt,destinationOffset:H,size:W});ke.pushError(It)}copyBufferToTexture(o,s,a){t.assertBranded(this,tt);let H="Failed to execute 'copyBufferToTexture' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,3,{prefix:H}),o=t.converters.GPUImageCopyBuffer(o,{prefix:H,context:"Argument 1"}),s=t.converters.GPUImageCopyTexture(s,{prefix:H,context:"Argument 2"}),a=t.converters.GPUExtent3D(a,{prefix:H,context:"Argument 3"});let W=l(this,{prefix:H,context:"this"}),se=f(this,{prefix:H,context:"this"}),ke=f(o.buffer,{prefix:H,context:"source in Argument 1"});T(W,o.buffer,{prefix:H,resourceContext:"source in Argument 1",selfContext:"this"});let Ve=f(s.texture,{prefix:H,context:"texture in Argument 2"});T(W,s.texture,{prefix:H,resourceContext:"texture in Argument 2",selfContext:"this"});let{err:Ke}=e.opSync("op_webgpu_command_encoder_copy_buffer_to_texture",{commandEncoderRid:se,source:{...o,buffer:ke},destination:{texture:Ve,mipLevel:s.mipLevel,origin:s.origin?P(s.origin):void 0,aspect:s.aspect},copySize:J(a)});W.pushError(Ke)}copyTextureToBuffer(o,s,a){t.assertBranded(this,tt);let H="Failed to execute 'copyTextureToBuffer' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,3,{prefix:H}),o=t.converters.GPUImageCopyTexture(o,{prefix:H,context:"Argument 1"}),s=t.converters.GPUImageCopyBuffer(s,{prefix:H,context:"Argument 2"}),a=t.converters.GPUExtent3D(a,{prefix:H,context:"Argument 3"});let W=l(this,{prefix:H,context:"this"}),se=f(this,{prefix:H,context:"this"}),ke=f(o.texture,{prefix:H,context:"texture in Argument 1"});T(W,o.texture,{prefix:H,resourceContext:"texture in Argument 1",selfContext:"this"});let Ve=f(s.buffer,{prefix:H,context:"buffer in Argument 2"});T(W,s.buffer,{prefix:H,resourceContext:"buffer in Argument 2",selfContext:"this"});let{err:Ke}=e.opSync("op_webgpu_command_encoder_copy_texture_to_buffer",{commandEncoderRid:se,source:{texture:ke,mipLevel:o.mipLevel,origin:o.origin?P(o.origin):void 0,aspect:o.aspect},destination:{...s,buffer:Ve},copySize:J(a)});W.pushError(Ke)}copyTextureToTexture(o,s,a){t.assertBranded(this,tt);let H="Failed to execute 'copyTextureToTexture' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,3,{prefix:H}),o=t.converters.GPUImageCopyTexture(o,{prefix:H,context:"Argument 1"}),s=t.converters.GPUImageCopyTexture(s,{prefix:H,context:"Argument 2"}),a=t.converters.GPUExtent3D(a,{prefix:H,context:"Argument 3"});let W=l(this,{prefix:H,context:"this"}),se=f(this,{prefix:H,context:"this"}),ke=f(o.texture,{prefix:H,context:"texture in Argument 1"});T(W,o.texture,{prefix:H,resourceContext:"texture in Argument 1",selfContext:"this"});let Ve=f(s.texture,{prefix:H,context:"texture in Argument 2"});T(W,s.texture,{prefix:H,resourceContext:"texture in Argument 2",selfContext:"this"});let{err:Ke}=e.opSync("op_webgpu_command_encoder_copy_texture_to_texture",{commandEncoderRid:se,source:{texture:ke,mipLevel:o.mipLevel,origin:o.origin?P(o.origin):void 0,aspect:o.aspect},destination:{texture:Ve,mipLevel:s.mipLevel,origin:s.origin?P(s.origin):void 0,aspect:o.aspect},copySize:J(a)});W.pushError(Ke)}pushDebugGroup(o){t.assertBranded(this,tt);let s="Failed to execute 'pushDebugGroup' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{err:W}=e.opSync("op_webgpu_command_encoder_push_debug_group",{commandEncoderRid:H,groupLabel:o});a.pushError(W)}popDebugGroup(){t.assertBranded(this,tt);let o="Failed to execute 'popDebugGroup' on 'GPUCommandEncoder'",s=l(this,{prefix:o,context:"this"}),a=f(this,{prefix:o,context:"this"}),{err:H}=e.opSync("op_webgpu_command_encoder_pop_debug_group",{commandEncoderRid:a});s.pushError(H)}insertDebugMarker(o){t.assertBranded(this,tt);let s="Failed to execute 'insertDebugMarker' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{err:W}=e.opSync("op_webgpu_command_encoder_insert_debug_marker",{commandEncoderRid:H,markerLabel:o});a.pushError(W)}writeTimestamp(o,s){t.assertBranded(this,tt);let a="Failed to execute 'writeTimestamp' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUQuerySet(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:a,context:"Argument 2"});let H=l(this,{prefix:a,context:"this"}),W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"});let{err:ke}=e.opSync("op_webgpu_command_encoder_write_timestamp",{commandEncoderRid:W,querySet:se,queryIndex:s});H.pushError(ke)}resolveQuerySet(o,s,a,H,W){t.assertBranded(this,tt);let se="Failed to execute 'resolveQuerySet' on 'GPUCommandEncoder'";t.requiredArguments(arguments.length,5,{prefix:se}),o=t.converters.GPUQuerySet(o,{prefix:se,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:se,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:se,context:"Argument 3"}),H=t.converters.GPUQuerySet(H,{prefix:se,context:"Argument 4"}),W=t.converters.GPUSize64(W,{prefix:se,context:"Argument 5"});let ke=l(this,{prefix:se,context:"this"}),Ve=f(this,{prefix:se,context:"this"}),Ke=f(o,{prefix:se,context:"Argument 1"});T(ke,o,{prefix:se,resourceContext:"Argument 1",selfContext:"this"});let Wt=f(H,{prefix:se,context:"Argument 3"});T(ke,H,{prefix:se,resourceContext:"Argument 3",selfContext:"this"});let{err:It}=e.opSync("op_webgpu_command_encoder_resolve_query_set",{commandEncoderRid:Ve,querySet:Ke,firstQuery:s,queryCount:a,destination:Wt,destinationOffset:W});ke.pushError(It)}finish(o={}){t.assertBranded(this,tt);let s="Failed to execute 'finish' on 'GPUCommandEncoder'";o=t.converters.GPUCommandBufferDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{rid:W,err:se}=e.opSync("op_webgpu_command_encoder_finish",{commandEncoderRid:H,...o});a.pushError(se),this[ye]=void 0;let ke=Yt(o.label??null,a,W);return a.trackResource(ke),ke}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUCommandEncoder",tt);let qe=C("[[encoder]]");function Ne(He,o,s){let a=t.createBranded(Bt);return a[z]=He,a[qe]=o,a[ye]=s,a}class Bt{[qe];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}setViewport(o,s,a,H,W,se){t.assertBranded(this,Bt);let ke="Failed to execute 'setViewport' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,6,{prefix:ke}),o=t.converters.float(o,{prefix:ke,context:"Argument 1"}),s=t.converters.float(s,{prefix:ke,context:"Argument 2"}),a=t.converters.float(a,{prefix:ke,context:"Argument 3"}),H=t.converters.float(H,{prefix:ke,context:"Argument 4"}),W=t.converters.float(W,{prefix:ke,context:"Argument 5"}),se=t.converters.float(se,{prefix:ke,context:"Argument 6"}),l(this[qe],{prefix:ke,context:"encoder referenced by this"}),f(this[qe],{prefix:ke,context:"encoder referenced by this"});let Ve=f(this,{prefix:ke,context:"this"});e.opSync("op_webgpu_render_pass_set_viewport",{renderPassRid:Ve,x:o,y:s,width:a,height:H,minDepth:W,maxDepth:se})}setScissorRect(o,s,a,H){t.assertBranded(this,Bt);let W="Failed to execute 'setScissorRect' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,4,{prefix:W}),o=t.converters.GPUIntegerCoordinate(o,{prefix:W,context:"Argument 1"}),s=t.converters.GPUIntegerCoordinate(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUIntegerCoordinate(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUIntegerCoordinate(H,{prefix:W,context:"Argument 4"}),l(this[qe],{prefix:W,context:"encoder referenced by this"}),f(this[qe],{prefix:W,context:"encoder referenced by this"});let se=f(this,{prefix:W,context:"this"});e.opSync("op_webgpu_render_pass_set_scissor_rect",{renderPassRid:se,x:o,y:s,width:a,height:H})}setBlendConstant(o){t.assertBranded(this,Bt);let s="Failed to execute 'setBlendConstant' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUColor(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_pass_set_blend_constant",{renderPassRid:a,color:E(o)})}setStencilReference(o){t.assertBranded(this,Bt);let s="Failed to execute 'setStencilReference' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUStencilValue(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_pass_set_stencil_reference",{renderPassRid:a,reference:o})}beginOcclusionQuery(o){throw new Y("Not yet implemented")}endOcclusionQuery(){throw new Y("Not yet implemented")}beginPipelineStatisticsQuery(o,s){t.assertBranded(this,Bt);let a="Failed to execute 'beginPipelineStatisticsQuery' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUQuerySet(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_begin_pipeline_statistics_query",{renderPassRid:W,querySet:se,queryIndex:s})}endPipelineStatisticsQuery(){t.assertBranded(this,Bt);let o="Failed to execute 'endPipelineStatisticsQuery' on 'GPURenderPassEncoder'";l(this[qe],{prefix:o,context:"encoder referenced by this"}),f(this[qe],{prefix:o,context:"encoder referenced by this"});let s=f(this,{prefix:o,context:"this"});e.opSync("op_webgpu_render_pass_end_pipeline_statistics_query",{renderPassRid:s})}writeTimestamp(o,s){t.assertBranded(this,Bt);let a="Failed to execute 'writeTimestamp' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUQuerySet(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_write_timestamp",{renderPassRid:W,querySet:se,queryIndex:s})}executeBundles(o){t.assertBranded(this,Bt);let s="Failed to execute 'executeBundles' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters["sequence<GPURenderBundle>"](o,{prefix:s,context:"Argument 1"});let a=l(this[qe],{prefix:s,context:"encoder referenced by this"});f(this[qe],{prefix:s,context:"encoder referenced by this"});let H=f(this,{prefix:s,context:"this"}),W=te(o,(se,ke)=>{let Ve=`bundle ${ke+1}`,Ke=f(se,{prefix:s,context:Ve});return T(a,se,{prefix:s,resourceContext:Ve,selfContext:"this"}),Ke});e.opSync("op_webgpu_render_pass_execute_bundles",{renderPassRid:H,bundles:W})}endPass(){t.assertBranded(this,Bt);let o="Failed to execute 'endPass' on 'GPURenderPassEncoder'",s=l(this[qe],{prefix:o,context:"encoder referenced by this"}),a=f(this[qe],{prefix:o,context:"encoder referenced by this"}),H=f(this,{prefix:o,context:"this"}),{err:W}=e.opSync("op_webgpu_render_pass_end_pass",{commandEncoderRid:a,renderPassRid:H});s.pushError(W),this[ye]=void 0}setBindGroup(o,s,a,H,W){t.assertBranded(this,Bt);let se="Failed to execute 'setBindGroup' on 'GPURenderPassEncoder'",ke=l(this[qe],{prefix:se,context:"encoder referenced by this"});f(this[qe],{prefix:se,context:"encoder referenced by this"});let Ve=f(this,{prefix:se,context:"this"}),Ke=f(s,{prefix:se,context:"Argument 2"});T(ke,s,{prefix:se,resourceContext:"Argument 2",selfContext:"this"}),a instanceof U||(a=new U(a??[]),H=0,W=a.length),e.opSync("op_webgpu_render_pass_set_bind_group",{renderPassRid:Ve,index:o,bindGroup:Ke,dynamicOffsetsData:a,dynamicOffsetsDataStart:H,dynamicOffsetsDataLength:W})}pushDebugGroup(o){t.assertBranded(this,Bt);let s="Failed to execute 'pushDebugGroup' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_pass_push_debug_group",{renderPassRid:a,groupLabel:o})}popDebugGroup(){t.assertBranded(this,Bt);let o="Failed to execute 'popDebugGroup' on 'GPURenderPassEncoder'";l(this[qe],{prefix:o,context:"encoder referenced by this"}),f(this[qe],{prefix:o,context:"encoder referenced by this"});let s=f(this,{prefix:o,context:"this"});e.opSync("op_webgpu_render_pass_pop_debug_group",{renderPassRid:s})}insertDebugMarker(o){t.assertBranded(this,Bt);let s="Failed to execute 'insertDebugMarker' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_pass_insert_debug_marker",{renderPassRid:a,markerLabel:o})}setPipeline(o){t.assertBranded(this,Bt);let s="Failed to execute 'setPipeline' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPURenderPipeline(o,{prefix:s,context:"Argument 1"});let a=l(this[qe],{prefix:s,context:"encoder referenced by this"});f(this[qe],{prefix:s,context:"encoder referenced by this"});let H=f(this,{prefix:s,context:"this"}),W=f(o,{prefix:s,context:"Argument 1"});T(a,o,{prefix:s,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_set_pipeline",{renderPassRid:H,pipeline:W})}setIndexBuffer(o,s,a=0,H){t.assertBranded(this,Bt);let W="Failed to execute 'setIndexBuffer' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:W}),o=t.converters.GPUBuffer(o,{prefix:W,context:"Argument 1"}),s=t.converters.GPUIndexFormat(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize64(a,{prefix:W,context:"Argument 3"}),H!==void 0&&(H=t.converters.GPUSize64(H,{prefix:W,context:"Argument 4"}));let se=l(this[qe],{prefix:W,context:"encoder referenced by this"});f(this[qe],{prefix:W,context:"encoder referenced by this"});let ke=f(this,{prefix:W,context:"this"}),Ve=f(o,{prefix:W,context:"Argument 1"});T(se,o,{prefix:W,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_set_index_buffer",{renderPassRid:ke,buffer:Ve,indexFormat:s,offset:a,size:H})}setVertexBuffer(o,s,a=0,H){t.assertBranded(this,Bt);let W="Failed to execute 'setVertexBuffer' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:W}),o=t.converters.GPUSize32(o,{prefix:W,context:"Argument 2"}),s=t.converters.GPUBuffer(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize64(a,{prefix:W,context:"Argument 3"}),H!==void 0&&(H=t.converters.GPUSize64(H,{prefix:W,context:"Argument 4"}));let se=l(this[qe],{prefix:W,context:"encoder referenced by this"});f(this[qe],{prefix:W,context:"encoder referenced by this"});let ke=f(this,{prefix:W,context:"this"}),Ve=f(s,{prefix:W,context:"Argument 2"});T(se,s,{prefix:W,resourceContext:"Argument 2",selfContext:"this"}),e.opSync("op_webgpu_render_pass_set_vertex_buffer",{renderPassRid:ke,slot:o,buffer:Ve,offset:a,size:H})}draw(o,s=1,a=0,H=0){t.assertBranded(this,Bt);let W="Failed to execute 'draw' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:W}),o=t.converters.GPUSize32(o,{prefix:W,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUSize32(H,{prefix:W,context:"Argument 4"}),l(this[qe],{prefix:W,context:"encoder referenced by this"}),f(this[qe],{prefix:W,context:"encoder referenced by this"});let se=f(this,{prefix:W,context:"this"});e.opSync("op_webgpu_render_pass_draw",{renderPassRid:se,vertexCount:o,instanceCount:s,firstVertex:a,firstInstance:H})}drawIndexed(o,s=1,a=0,H=0,W=0){t.assertBranded(this,Bt);let se="Failed to execute 'drawIndexed' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,1,{prefix:se}),o=t.converters.GPUSize32(o,{prefix:se,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:se,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:se,context:"Argument 3"}),H=t.converters.GPUSignedOffset32(H,{prefix:se,context:"Argument 4"}),W=t.converters.GPUSize32(W,{prefix:se,context:"Argument 5"}),l(this[qe],{prefix:se,context:"encoder referenced by this"}),f(this[qe],{prefix:se,context:"encoder referenced by this"});let ke=f(this,{prefix:se,context:"this"});e.opSync("op_webgpu_render_pass_draw_indexed",{renderPassRid:ke,indexCount:o,instanceCount:s,firstIndex:a,baseVertex:H,firstInstance:W})}drawIndirect(o,s){t.assertBranded(this,Bt);let a="Failed to execute 'drawIndirect' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUBuffer(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_draw_indirect",{renderPassRid:W,indirectBuffer:se,indirectOffset:s})}drawIndexedIndirect(o,s){t.assertBranded(this,Bt);let a="Failed to execute 'drawIndirect' on 'GPURenderPassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUBuffer(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_pass_draw_indexed_indirect",{renderPassRid:W,indirectBuffer:se,indirectOffset:s})}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPURenderPassEncoder",Bt);function Qt(He,o,s){let a=t.createBranded(Ot);return a[z]=He,a[qe]=o,a[ye]=s,a}class Ot{[qe];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}setPipeline(o){t.assertBranded(this,Ot);let s="Failed to execute 'setPipeline' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPUComputePipeline(o,{prefix:s,context:"Argument 1"});let a=l(this[qe],{prefix:s,context:"encoder referenced by this"});f(this[qe],{prefix:s,context:"encoder referenced by this"});let H=f(this,{prefix:s,context:"this"}),W=f(o,{prefix:s,context:"Argument 1"});T(a,o,{prefix:s,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_compute_pass_set_pipeline",{computePassRid:H,pipeline:W})}dispatch(o,s=1,a=1){t.assertBranded(this,Ot);let H="Failed to execute 'dispatch' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:H}),o=t.converters.GPUSize32(o,{prefix:H,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:H,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:H,context:"Argument 3"}),l(this[qe],{prefix:H,context:"encoder referenced by this"}),f(this[qe],{prefix:H,context:"encoder referenced by this"});let W=f(this,{prefix:H,context:"this"});e.opSync("op_webgpu_compute_pass_dispatch",{computePassRid:W,x:o,y:s,z:a})}dispatchIndirect(o,s){t.assertBranded(this,Ot);let a="Failed to execute 'dispatchIndirect' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUBuffer(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_compute_pass_dispatch_indirect",{computePassRid:W,indirectBuffer:se,indirectOffset:s})}beginPipelineStatisticsQuery(o,s){t.assertBranded(this,Ot);let a="Failed to execute 'beginPipelineStatisticsQuery' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUQuerySet(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_compute_pass_begin_pipeline_statistics_query",{computePassRid:W,querySet:se,queryIndex:s})}endPipelineStatisticsQuery(){t.assertBranded(this,Ot);let o="Failed to execute 'endPipelineStatisticsQuery' on 'GPUComputePassEncoder'";l(this[qe],{prefix:o,context:"encoder referenced by this"}),f(this[qe],{prefix:o,context:"encoder referenced by this"});let s=f(this,{prefix:o,context:"this"});e.opSync("op_webgpu_compute_pass_end_pipeline_statistics_query",{computePassRid:s})}writeTimestamp(o,s){t.assertBranded(this,Ot);let a="Failed to execute 'writeTimestamp' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUQuerySet(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:a,context:"Argument 2"});let H=l(this[qe],{prefix:a,context:"encoder referenced by this"});f(this[qe],{prefix:a,context:"encoder referenced by this"});let W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_compute_pass_write_timestamp",{computePassRid:W,querySet:se,queryIndex:s})}endPass(){t.assertBranded(this,Ot);let o="Failed to execute 'endPass' on 'GPUComputePassEncoder'",s=l(this[qe],{prefix:o,context:"encoder referenced by this"}),a=f(this[qe],{prefix:o,context:"encoder referenced by this"}),H=f(this,{prefix:o,context:"this"}),{err:W}=e.opSync("op_webgpu_compute_pass_end_pass",{commandEncoderRid:a,computePassRid:H});s.pushError(W),this[ye]=void 0}setBindGroup(o,s,a,H,W){t.assertBranded(this,Ot);let se="Failed to execute 'setBindGroup' on 'GPUComputePassEncoder'",ke=l(this[qe],{prefix:se,context:"encoder referenced by this"});f(this[qe],{prefix:se,context:"encoder referenced by this"});let Ve=f(this,{prefix:se,context:"this"}),Ke=f(s,{prefix:se,context:"Argument 2"});T(ke,s,{prefix:se,resourceContext:"Argument 2",selfContext:"this"}),a instanceof U||(a=new U(a??[]),H=0,W=a.length),e.opSync("op_webgpu_compute_pass_set_bind_group",{computePassRid:Ve,index:o,bindGroup:Ke,dynamicOffsetsData:a,dynamicOffsetsDataStart:H,dynamicOffsetsDataLength:W})}pushDebugGroup(o){t.assertBranded(this,Ot);let s="Failed to execute 'pushDebugGroup' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_compute_pass_push_debug_group",{computePassRid:a,groupLabel:o})}popDebugGroup(){t.assertBranded(this,Ot);let o="Failed to execute 'popDebugGroup' on 'GPUComputePassEncoder'";l(this[qe],{prefix:o,context:"encoder referenced by this"}),f(this[qe],{prefix:o,context:"encoder referenced by this"});let s=f(this,{prefix:o,context:"this"});e.opSync("op_webgpu_compute_pass_pop_debug_group",{computePassRid:s})}insertDebugMarker(o){t.assertBranded(this,Ot);let s="Failed to execute 'insertDebugMarker' on 'GPUComputePassEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this[qe],{prefix:s,context:"encoder referenced by this"}),f(this[qe],{prefix:s,context:"encoder referenced by this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_compute_pass_insert_debug_marker",{computePassRid:a,markerLabel:o})}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUComputePassEncoder",Ot);function Yt(He,o,s){let a=t.createBranded(Vt);return a[z]=He,a[w]=o,a[ye]=s,a}class Vt{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}get executionTime(){throw new Y("Not yet implemented")}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUCommandBuffer",Vt);function Mt(He,o,s){let a=t.createBranded(jt);return a[z]=He,a[w]=o,a[ye]=s,a}class jt{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}finish(o={}){t.assertBranded(this,jt);let s="Failed to execute 'finish' on 'GPURenderBundleEncoder'";o=t.converters.GPURenderBundleDescriptor(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),{rid:W,err:se}=e.opSync("op_webgpu_render_bundle_encoder_finish",{renderBundleEncoderRid:H,...o});a.pushError(se),this[ye]=void 0;let ke=Rr(o.label??null,a,W);return a.trackResource(ke),ke}setBindGroup(o,s,a,H,W){t.assertBranded(this,jt);let se="Failed to execute 'setBindGroup' on 'GPURenderBundleEncoder'",ke=l(this,{prefix:se,context:"this"}),Ve=f(this,{prefix:se,context:"this"}),Ke=f(s,{prefix:se,context:"Argument 2"});T(ke,s,{prefix:se,resourceContext:"Argument 2",selfContext:"this"}),a instanceof U||(a=new U(a??[]),H=0,W=a.length),e.opSync("op_webgpu_render_bundle_encoder_set_bind_group",{renderBundleEncoderRid:Ve,index:o,bindGroup:Ke,dynamicOffsetsData:a,dynamicOffsetsDataStart:H,dynamicOffsetsDataLength:W})}pushDebugGroup(o){t.assertBranded(this,jt);let s="Failed to execute 'pushDebugGroup' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this,{prefix:s,context:"this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_bundle_encoder_push_debug_group",{renderBundleEncoderRid:a,groupLabel:o})}popDebugGroup(){t.assertBranded(this,jt);let o="Failed to execute 'popDebugGroup' on 'GPURenderBundleEncoder'";l(this,{prefix:o,context:"this"});let s=f(this,{prefix:o,context:"this"});e.opSync("op_webgpu_render_bundle_encoder_pop_debug_group",{renderBundleEncoderRid:s})}insertDebugMarker(o){t.assertBranded(this,jt);let s="Failed to execute 'insertDebugMarker' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.USVString(o,{prefix:s,context:"Argument 1"}),l(this,{prefix:s,context:"this"});let a=f(this,{prefix:s,context:"this"});e.opSync("op_webgpu_render_bundle_encoder_push_debug_group",{renderBundleEncoderRid:a,markerLabel:o})}setPipeline(o){t.assertBranded(this,jt);let s="Failed to execute 'setPipeline' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,1,{prefix:s}),o=t.converters.GPURenderPipeline(o,{prefix:s,context:"Argument 1"});let a=l(this,{prefix:s,context:"this"}),H=f(this,{prefix:s,context:"this"}),W=f(o,{prefix:s,context:"Argument 1"});T(a,o,{prefix:s,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_bundle_encoder_set_pipeline",{renderBundleEncoderRid:H,pipeline:W})}setIndexBuffer(o,s,a=0,H=0){t.assertBranded(this,jt);let W="Failed to execute 'setIndexBuffer' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,2,{prefix:W}),o=t.converters.GPUBuffer(o,{prefix:W,context:"Argument 1"}),s=t.converters.GPUIndexFormat(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize64(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUSize64(H,{prefix:W,context:"Argument 4"});let se=l(this,{prefix:W,context:"this"}),ke=f(this,{prefix:W,context:"this"}),Ve=f(o,{prefix:W,context:"Argument 1"});T(se,o,{prefix:W,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_bundle_encoder_set_index_buffer",{renderBundleEncoderRid:ke,buffer:Ve,indexFormat:s,offset:a,size:H})}setVertexBuffer(o,s,a=0,H=0){t.assertBranded(this,jt);let W="Failed to execute 'setVertexBuffer' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,2,{prefix:W}),o=t.converters.GPUSize32(o,{prefix:W,context:"Argument 2"}),s=t.converters.GPUBuffer(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize64(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUSize64(H,{prefix:W,context:"Argument 4"});let se=l(this,{prefix:W,context:"this"}),ke=f(this,{prefix:W,context:"this"}),Ve=f(s,{prefix:W,context:"Argument 2"});T(se,s,{prefix:W,resourceContext:"Argument 2",selfContext:"this"}),e.opSync("op_webgpu_render_bundle_encoder_set_vertex_buffer",{renderBundleEncoderRid:ke,slot:o,buffer:Ve,offset:a,size:H})}draw(o,s=1,a=0,H=0){t.assertBranded(this,jt);let W="Failed to execute 'draw' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,1,{prefix:W}),o=t.converters.GPUSize32(o,{prefix:W,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:W,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:W,context:"Argument 3"}),H=t.converters.GPUSize32(H,{prefix:W,context:"Argument 4"}),l(this,{prefix:W,context:"this"});let se=f(this,{prefix:W,context:"this"});e.opSync("op_webgpu_render_bundle_encoder_draw",{renderBundleEncoderRid:se,vertexCount:o,instanceCount:s,firstVertex:a,firstInstance:H})}drawIndexed(o,s=1,a=0,H=0,W=0){t.assertBranded(this,jt);let se="Failed to execute 'drawIndexed' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,1,{prefix:se}),o=t.converters.GPUSize32(o,{prefix:se,context:"Argument 1"}),s=t.converters.GPUSize32(s,{prefix:se,context:"Argument 2"}),a=t.converters.GPUSize32(a,{prefix:se,context:"Argument 3"}),H=t.converters.GPUSignedOffset32(H,{prefix:se,context:"Argument 4"}),W=t.converters.GPUSize32(W,{prefix:se,context:"Argument 5"}),l(this,{prefix:se,context:"this"});let ke=f(this,{prefix:se,context:"this"});e.opSync("op_webgpu_render_bundle_encoder_draw_indexed",{renderBundleEncoderRid:ke,indexCount:o,instanceCount:s,firstIndex:a,baseVertex:H,firstInstance:W})}drawIndirect(o,s){t.assertBranded(this,jt);let a="Failed to execute 'drawIndirect' on 'GPURenderBundleEncoder'";t.requiredArguments(arguments.length,2,{prefix:a}),o=t.converters.GPUBuffer(o,{prefix:a,context:"Argument 1"}),s=t.converters.GPUSize64(s,{prefix:a,context:"Argument 2"});let H=l(this,{prefix:a,context:"this"}),W=f(this,{prefix:a,context:"this"}),se=f(o,{prefix:a,context:"Argument 1"});T(H,o,{prefix:a,resourceContext:"Argument 1",selfContext:"this"}),e.opSync("op_webgpu_render_bundle_encoder_draw_indirect",{renderBundleEncoderRid:W,indirectBuffer:se,indirectOffset:s})}drawIndexedIndirect(o,s){throw new Y("Not yet implemented")}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPURenderBundleEncoder",jt);function Rr(He,o,s){let a=t.createBranded(Gr);return a[z]=He,a[w]=o,a[ye]=s,a}class Gr{[w];[ye];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPURenderBundle",Gr);let Ir=C("[[descriptor]]");function Fr(He,o,s,a){let H=t.createBranded(mr);return H[z]=He,H[w]=o,H[ye]=s,H[Ir]=a,H}class mr{[w];[ye];[Ir];[O](){let o=this[ye];o!==void 0&&(e.close(o),this[ye]=void 0)}constructor(){t.illegalConstructor()}destroy(){t.assertBranded(this,mr),this[O]()}[p("Deno.privateCustomInspect")](o){return`${this.constructor.name} ${o({label:this.label})}`}}ie("GPUQuerySet",mr),i.__bootstrap.webgpu={gpu:t.createBranded(I),GPU:I,GPUAdapter:we,GPUSupportedLimits:pe,GPUSupportedFeatures:Q,GPUDevice:re,GPUQueue:Re,GPUBuffer:Tt,GPUBufferUsage:$e,GPUMapMode:zt,GPUTextureUsage:Dt,GPUTexture:ot,GPUTextureView:_e,GPUSampler:Pe,GPUBindGroupLayout:st,GPUPipelineLayout:ut,GPUBindGroup:_t,GPUShaderModule:xe,GPUShaderStage:Ce,GPUComputePipeline:Le,GPURenderPipeline:Je,GPUColorWrite:at,GPUCommandEncoder:tt,GPURenderPassEncoder:Bt,GPUComputePassEncoder:Ot,GPUCommandBuffer:Vt,GPURenderBundleEncoder:jt,GPURenderBundle:Gr,GPUQuerySet:mr,GPUOutOfMemoryError:m,GPUValidationError:F}})(q)}),Uo=pt(q=>{"use strict";(i=>{let e=i.__bootstrap.webidl,{GPU:t,GPUAdapter:d,GPUSupportedLimits:ce,GPUSupportedFeatures:$,GPUDevice:L,GPUQueue:he,GPUBuffer:j,GPUBufferUsage:te,GPUMapMode:R,GPUTextureUsage:fe,GPUTexture:Y,GPUTextureView:ne,GPUSampler:K,GPUBindGroupLayout:B,GPUPipelineLayout:X,GPUBindGroup:y,GPUShaderModule:S,GPUShaderStage:h,GPUComputePipeline:A,GPURenderPipeline:V,GPUColorWrite:M,GPUCommandEncoder:g,GPURenderPassEncoder:_,GPUComputePassEncoder:ee,GPUCommandBuffer:ue,GPURenderBundleEncoder:D,GPURenderBundle:C,GPUQuerySet:p,GPUOutOfMemoryError:u,GPUValidationError:v}=i.__bootstrap.webgpu,{SymbolIterator:U,TypeError:k}=i.__bootstrap.primordials,l=[{key:"label",converter:e.converters.USVString}];e.converters.GPUObjectDescriptorBase=e.createDictionaryConverter("GPUObjectDescriptorBase",l),e.converters.GPUSupportedLimits=e.createInterfaceConverter("GPUSupportedLimits",ce),e.converters.GPUSupportedFeatures=e.createInterfaceConverter("GPUSupportedFeatures",$),e.converters.GPUPredefinedColorSpace=e.createEnumConverter("GPUPredefinedColorSpace",["srgb"]),e.converters.GPU=e.createInterfaceConverter("GPU",t),e.converters.GPUPowerPreference=e.createEnumConverter("GPUPowerPreference",["low-power","high-performance"]);let T=[{key:"powerPreference",converter:e.converters.GPUPowerPreference},{key:"forceFallbackAdapter",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPURequestAdapterOptions=e.createDictionaryConverter("GPURequestAdapterOptions",T),e.converters.GPUAdapter=e.createInterfaceConverter("GPUAdapter",d),e.converters.GPUFeatureName=e.createEnumConverter("GPUFeatureName",["depth-clamping","depth24unorm-stencil8","depth32float-stencil8","pipeline-statistics-query","texture-compression-bc","timestamp-query","mappable-primary-buffers","sampled-texture-binding-array","sampled-texture-array-dynamic-indexing","sampled-texture-array-non-uniform-indexing","unsized-binding-array","multi-draw-indirect","multi-draw-indirect-count","push-constants","address-mode-clamp-to-border","non-fill-polygon-mode","texture-compression-etc2","texture-compression-astc-ldr","texture-adapter-specific-format-features","shader-float64","vertex-attribute-64bit"]),e.converters.GPUSize32=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0});let f=[{key:"nonGuaranteedFeatures",converter:e.createSequenceConverter(e.converters.GPUFeatureName),get defaultValue(){return[]}},{key:"nonGuaranteedLimits",converter:e.createRecordConverter(e.converters.DOMString,e.converters.GPUSize32),get defaultValue(){return{}}}];e.converters.GPUDeviceDescriptor=e.createDictionaryConverter("GPUDeviceDescriptor",l,f),e.converters.GPUDevice=e.createInterfaceConverter("GPUDevice",L),e.converters.GPUBuffer=e.createInterfaceConverter("GPUBuffer",j),e.converters.GPUSize64=(N,Pe)=>e.converters["unsigned long long"](N,{...Pe,enforceRange:!0}),e.converters.GPUBufferUsageFlags=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0});let J=[{key:"size",converter:e.converters.GPUSize64,required:!0},{key:"usage",converter:e.converters.GPUBufferUsageFlags,required:!0},{key:"mappedAtCreation",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPUBufferDescriptor=e.createDictionaryConverter("GPUBufferDescriptor",l,J),e.converters.GPUBufferUsage=e.createInterfaceConverter("GPUBufferUsage",te),e.converters.GPUMapModeFlags=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters.GPUMapMode=e.createInterfaceConverter("GPUMapMode",R),e.converters.GPUTexture=e.createInterfaceConverter("GPUTexture",Y),e.converters.GPUIntegerCoordinate=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters["sequence<GPUIntegerCoordinate>"]=e.createSequenceConverter(e.converters.GPUIntegerCoordinate);let P=[{key:"width",converter:e.converters.GPUIntegerCoordinate,required:!0},{key:"height",converter:e.converters.GPUIntegerCoordinate,defaultValue:1},{key:"depthOrArrayLayers",converter:e.converters.GPUIntegerCoordinate,defaultValue:1}];e.converters.GPUExtent3DDict=e.createDictionaryConverter("GPUExtent3DDict",P),e.converters.GPUExtent3D=(N,Pe)=>{if(N==null)return e.converters.GPUExtent3DDict(N,Pe);if(typeof N=="object"){let Qe=N[U];return Qe!==void 0?e.converters["sequence<GPUIntegerCoordinate>"](N,Pe):e.converters.GPUExtent3DDict(N,Pe)}throw e.makeException(k,"can not be converted to sequence<GPUIntegerCoordinate> or GPUExtent3DDict.",Pe)},e.converters.GPUTextureDimension=e.createEnumConverter("GPUTextureDimension",["1d","2d","3d"]),e.converters.GPUTextureFormat=e.createEnumConverter("GPUTextureFormat",["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","depth24unorm-stencil8","depth32float-stencil8"]),e.converters.GPUTextureUsageFlags=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0});let E=[{key:"size",converter:e.converters.GPUExtent3D,required:!0},{key:"mipLevelCount",converter:e.converters.GPUIntegerCoordinate,defaultValue:1},{key:"sampleCount",converter:e.converters.GPUSize32,defaultValue:1},{key:"dimension",converter:e.converters.GPUTextureDimension,defaultValue:"2d"},{key:"format",converter:e.converters.GPUTextureFormat,required:!0},{key:"usage",converter:e.converters.GPUTextureUsageFlags,required:!0}];e.converters.GPUTextureDescriptor=e.createDictionaryConverter("GPUTextureDescriptor",l,E),e.converters.GPUTextureUsage=e.createInterfaceConverter("GPUTextureUsage",fe),e.converters.GPUTextureView=e.createInterfaceConverter("GPUTextureView",ne),e.converters.GPUTextureViewDimension=e.createEnumConverter("GPUTextureViewDimension",["1d","2d","2d-array","cube","cube-array","3d"]),e.converters.GPUTextureAspect=e.createEnumConverter("GPUTextureAspect",["all","stencil-only","depth-only"]);let m=[{key:"format",converter:e.converters.GPUTextureFormat},{key:"dimension",converter:e.converters.GPUTextureViewDimension},{key:"aspect",converter:e.converters.GPUTextureAspect,defaultValue:"all"},{key:"baseMipLevel",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"mipLevelCount",converter:e.converters.GPUIntegerCoordinate},{key:"baseArrayLayer",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"arrayLayerCount",converter:e.converters.GPUIntegerCoordinate}];e.converters.GPUTextureViewDescriptor=e.createDictionaryConverter("GPUTextureViewDescriptor",l,m),e.converters.GPUSampler=e.createInterfaceConverter("GPUSampler",K),e.converters.GPUAddressMode=e.createEnumConverter("GPUAddressMode",["clamp-to-edge","repeat","mirror-repeat"]),e.converters.GPUFilterMode=e.createEnumConverter("GPUFilterMode",["nearest","linear"]),e.converters.GPUCompareFunction=e.createEnumConverter("GPUCompareFunction",["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]);let F=[{key:"addressModeU",converter:e.converters.GPUAddressMode,defaultValue:"clamp-to-edge"},{key:"addressModeV",converter:e.converters.GPUAddressMode,defaultValue:"clamp-to-edge"},{key:"addressModeW",converter:e.converters.GPUAddressMode,defaultValue:"clamp-to-edge"},{key:"magFilter",converter:e.converters.GPUFilterMode,defaultValue:"nearest"},{key:"minFilter",converter:e.converters.GPUFilterMode,defaultValue:"nearest"},{key:"mipmapFilter",converter:e.converters.GPUFilterMode,defaultValue:"nearest"},{key:"lodMinClamp",converter:e.converters.float,defaultValue:0},{key:"lodMaxClamp",converter:e.converters.float,defaultValue:4294967295},{key:"compare",converter:e.converters.GPUCompareFunction},{key:"maxAnisotropy",converter:(N,Pe)=>e.converters["unsigned short"](N,{...Pe,clamp:!0}),defaultValue:1}];e.converters.GPUSamplerDescriptor=e.createDictionaryConverter("GPUSamplerDescriptor",l,F),e.converters.GPUBindGroupLayout=e.createInterfaceConverter("GPUBindGroupLayout",B),e.converters.GPUIndex32=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters.GPUShaderStageFlags=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters.GPUBufferBindingType=e.createEnumConverter("GPUBufferBindingType",["uniform","storage","read-only-storage"]);let I=[{key:"type",converter:e.converters.GPUBufferBindingType,defaultValue:"uniform"},{key:"hasDynamicOffset",converter:e.converters.boolean,defaultValue:!1},{key:"minBindingSize",converter:e.converters.GPUSize64,defaultValue:0}];e.converters.GPUBufferBindingLayout=e.createDictionaryConverter("GPUBufferBindingLayout",I),e.converters.GPUSamplerBindingType=e.createEnumConverter("GPUSamplerBindingType",["filtering","non-filtering","comparison"]);let Z=[{key:"type",converter:e.converters.GPUSamplerBindingType,defaultValue:"filtering"}];e.converters.GPUSamplerBindingLayout=e.createDictionaryConverter("GPUSamplerBindingLayout",Z),e.converters.GPUTextureSampleType=e.createEnumConverter("GPUTextureSampleType",["float","unfilterable-float","depth","sint","uint"]);let ae=[{key:"sampleType",converter:e.converters.GPUTextureSampleType,defaultValue:"float"},{key:"viewDimension",converter:e.converters.GPUTextureViewDimension,defaultValue:"2d"},{key:"multisampled",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPUTextureBindingLayout=e.createDictionaryConverter("GPUTextureBindingLayout",ae),e.converters.GPUStorageTextureAccess=e.createEnumConverter("GPUStorageTextureAccess",["write-only"]);let O=[{key:"access",converter:e.converters.GPUStorageTextureAccess,defaultValue:"write-only"},{key:"format",converter:e.converters.GPUTextureFormat,required:!0},{key:"viewDimension",converter:e.converters.GPUTextureViewDimension,defaultValue:"2d"}];e.converters.GPUStorageTextureBindingLayout=e.createDictionaryConverter("GPUStorageTextureBindingLayout",O);let ge=[{key:"binding",converter:e.converters.GPUIndex32,required:!0},{key:"visibility",converter:e.converters.GPUShaderStageFlags,required:!0},{key:"buffer",converter:e.converters.GPUBufferBindingLayout},{key:"sampler",converter:e.converters.GPUSamplerBindingLayout},{key:"texture",converter:e.converters.GPUTextureBindingLayout},{key:"storageTexture",converter:e.converters.GPUStorageTextureBindingLayout}];e.converters.GPUBindGroupLayoutEntry=e.createDictionaryConverter("GPUBindGroupLayoutEntry",ge);let we=[{key:"entries",converter:e.createSequenceConverter(e.converters.GPUBindGroupLayoutEntry),required:!0}];e.converters.GPUBindGroupLayoutDescriptor=e.createDictionaryConverter("GPUBindGroupLayoutDescriptor",l,we),e.converters.GPUShaderStage=e.createInterfaceConverter("GPUShaderStage",h),e.converters.GPUBindGroup=e.createInterfaceConverter("GPUBindGroup",y);let Ae=[{key:"buffer",converter:e.converters.GPUBuffer,required:!0},{key:"offset",converter:e.converters.GPUSize64,defaultValue:0},{key:"size",converter:e.converters.GPUSize64}];e.converters.GPUBufferBinding=e.createDictionaryConverter("GPUBufferBinding",Ae),e.converters.GPUBindingResource=e.converters.any;let G=[{key:"binding",converter:e.converters.GPUIndex32,required:!0},{key:"resource",converter:e.converters.GPUBindingResource,required:!0}];e.converters.GPUBindGroupEntry=e.createDictionaryConverter("GPUBindGroupEntry",G);let pe=[{key:"layout",converter:e.converters.GPUBindGroupLayout,required:!0},{key:"entries",converter:e.createSequenceConverter(e.converters.GPUBindGroupEntry),required:!0}];e.converters.GPUBindGroupDescriptor=e.createDictionaryConverter("GPUBindGroupDescriptor",l,pe),e.converters.GPUPipelineLayout=e.createInterfaceConverter("GPUPipelineLayout",X);let Ue=[{key:"bindGroupLayouts",converter:e.createSequenceConverter(e.converters.GPUBindGroupLayout),required:!0}];e.converters.GPUPipelineLayoutDescriptor=e.createDictionaryConverter("GPUPipelineLayoutDescriptor",l,Ue),e.converters.GPUShaderModule=e.createInterfaceConverter("GPUShaderModule",S);let it=[{key:"code",converter:e.converters.DOMString,required:!0},{key:"sourceMap",converter:e.converters.object}];e.converters.GPUShaderModuleDescriptor=e.createDictionaryConverter("GPUShaderModuleDescriptor",l,it);let Q=[{key:"layout",converter:e.converters.GPUPipelineLayout}];e.converters.GPUPipelineDescriptorBase=e.createDictionaryConverter("GPUPipelineDescriptorBase",l,Q),e.converters.GPUPipelineConstantValue=e.converters.double,e.converters["record<USVString, GPUPipelineConstantValue>"]=e.createRecordConverter(e.converters.USVString,e.converters.GPUPipelineConstantValue);let ve=[{key:"module",converter:e.converters.GPUShaderModule,required:!0},{key:"entryPoint",converter:e.converters.USVString,required:!0},{key:"constants",converter:e.converters["record<USVString, GPUPipelineConstantValue>"]}];e.converters.GPUProgrammableStage=e.createDictionaryConverter("GPUProgrammableStage",ve),e.converters.GPUComputePipeline=e.createInterfaceConverter("GPUComputePipeline",A);let Se=[{key:"compute",converter:e.converters.GPUProgrammableStage,required:!0}];e.converters.GPUComputePipelineDescriptor=e.createDictionaryConverter("GPUComputePipelineDescriptor",l,Q,Se),e.converters.GPURenderPipeline=e.createInterfaceConverter("GPURenderPipeline",V),e.converters.GPUVertexStepMode=e.createEnumConverter("GPUVertexStepMode",["vertex","instance"]),e.converters.GPUVertexFormat=e.createEnumConverter("GPUVertexFormat",["uint8x2","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4"]);let Te=[{key:"format",converter:e.converters.GPUVertexFormat,required:!0},{key:"offset",converter:e.converters.GPUSize64,required:!0},{key:"shaderLocation",converter:e.converters.GPUIndex32,required:!0}];e.converters.GPUVertexAttribute=e.createDictionaryConverter("GPUVertexAttribute",Te);let Fe=[{key:"arrayStride",converter:e.converters.GPUSize64,required:!0},{key:"stepMode",converter:e.converters.GPUVertexStepMode,defaultValue:"vertex"},{key:"attributes",converter:e.createSequenceConverter(e.converters.GPUVertexAttribute),required:!0}];e.converters.GPUVertexBufferLayout=e.createDictionaryConverter("GPUVertexBufferLayout",Fe);let z=[{key:"buffers",converter:e.createSequenceConverter(e.createNullableConverter(e.converters.GPUVertexBufferLayout)),get defaultValue(){return[]}}];e.converters.GPUVertexState=e.createDictionaryConverter("GPUVertexState",ve,z),e.converters.GPUPrimitiveTopology=e.createEnumConverter("GPUPrimitiveTopology",["point-list","line-list","line-strip","triangle-list","triangle-strip"]),e.converters.GPUIndexFormat=e.createEnumConverter("GPUIndexFormat",["uint16","uint32"]),e.converters.GPUFrontFace=e.createEnumConverter("GPUFrontFace",["ccw","cw"]),e.converters.GPUCullMode=e.createEnumConverter("GPUCullMode",["none","front","back"]);let ie=[{key:"topology",converter:e.converters.GPUPrimitiveTopology,defaultValue:"triangle-list"},{key:"stripIndexFormat",converter:e.converters.GPUIndexFormat},{key:"frontFace",converter:e.converters.GPUFrontFace,defaultValue:"ccw"},{key:"cullMode",converter:e.converters.GPUCullMode,defaultValue:"none"},{key:"clampDepth",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPUPrimitiveState=e.createDictionaryConverter("GPUPrimitiveState",ie),e.converters.GPUStencilOperation=e.createEnumConverter("GPUStencilOperation",["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]);let w=[{key:"compare",converter:e.converters.GPUCompareFunction,defaultValue:"always"},{key:"failOp",converter:e.converters.GPUStencilOperation,defaultValue:"keep"},{key:"depthFailOp",converter:e.converters.GPUStencilOperation,defaultValue:"keep"},{key:"passOp",converter:e.converters.GPUStencilOperation,defaultValue:"keep"}];e.converters.GPUStencilFaceState=e.createDictionaryConverter("GPUStencilFaceState",w),e.converters.GPUStencilValue=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters.GPUDepthBias=(N,Pe)=>e.converters.long(N,{...Pe,enforceRange:!0});let le=[{key:"format",converter:e.converters.GPUTextureFormat,required:!0},{key:"depthWriteEnabled",converter:e.converters.boolean,defaultValue:!1},{key:"depthCompare",converter:e.converters.GPUCompareFunction,defaultValue:"always"},{key:"stencilFront",converter:e.converters.GPUStencilFaceState,get defaultValue(){return{}}},{key:"stencilBack",converter:e.converters.GPUStencilFaceState,get defaultValue(){return{}}},{key:"stencilReadMask",converter:e.converters.GPUStencilValue,defaultValue:4294967295},{key:"stencilWriteMask",converter:e.converters.GPUStencilValue,defaultValue:4294967295},{key:"depthBias",converter:e.converters.GPUDepthBias,defaultValue:0},{key:"depthBiasSlopeScale",converter:e.converters.float,defaultValue:0},{key:"depthBiasClamp",converter:e.converters.float,defaultValue:0}];e.converters.GPUDepthStencilState=e.createDictionaryConverter("GPUDepthStencilState",le),e.converters.GPUSampleMask=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0});let me=[{key:"count",converter:e.converters.GPUSize32,defaultValue:1},{key:"mask",converter:e.converters.GPUSampleMask,defaultValue:4294967295},{key:"alphaToCoverageEnabled",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPUMultisampleState=e.createDictionaryConverter("GPUMultisampleState",me),e.converters.GPUBlendFactor=e.createEnumConverter("GPUBlendFactor",["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"]),e.converters.GPUBlendOperation=e.createEnumConverter("GPUBlendOperation",["add","subtract","reverse-subtract","min","max"]);let b=[{key:"srcFactor",converter:e.converters.GPUBlendFactor,defaultValue:"one"},{key:"dstFactor",converter:e.converters.GPUBlendFactor,defaultValue:"zero"},{key:"operation",converter:e.converters.GPUBlendOperation,defaultValue:"add"}];e.converters.GPUBlendComponent=e.createDictionaryConverter("GPUBlendComponent",b);let re=[{key:"color",converter:e.converters.GPUBlendComponent,required:!0},{key:"alpha",converter:e.converters.GPUBlendComponent,required:!0}];e.converters.GPUBlendState=e.createDictionaryConverter("GPUBlendState",re),e.converters.GPUColorWriteFlags=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0});let De=[{key:"format",converter:e.converters.GPUTextureFormat,required:!0},{key:"blend",converter:e.converters.GPUBlendState},{key:"writeMask",converter:e.converters.GPUColorWriteFlags,defaultValue:15}];e.converters.GPUColorTargetState=e.createDictionaryConverter("GPUColorTargetState",De);let Re=[{key:"targets",converter:e.createSequenceConverter(e.converters.GPUColorTargetState),required:!0}];e.converters.GPUFragmentState=e.createDictionaryConverter("GPUFragmentState",ve,Re);let ye=[{key:"vertex",converter:e.converters.GPUVertexState,required:!0},{key:"primitive",converter:e.converters.GPUPrimitiveState,get defaultValue(){return{}}},{key:"depthStencil",converter:e.converters.GPUDepthStencilState},{key:"multisample",converter:e.converters.GPUMultisampleState,get defaultValue(){return{}}},{key:"fragment",converter:e.converters.GPUFragmentState}];e.converters.GPURenderPipelineDescriptor=e.createDictionaryConverter("GPURenderPipelineDescriptor",l,Q,ye),e.converters.GPUColorWrite=e.createInterfaceConverter("GPUColorWrite",M),e.converters.GPUCommandBuffer=e.createInterfaceConverter("GPUCommandBuffer",ue),e.converters["sequence<GPUCommandBuffer>"]=e.createSequenceConverter(e.converters.GPUCommandBuffer);let Ze=[];e.converters.GPUCommandBufferDescriptor=e.createDictionaryConverter("GPUCommandBufferDescriptor",l,Ze),e.converters.GPUCommandEncoder=e.createInterfaceConverter("GPUCommandEncoder",g);let gt=[{key:"measureExecutionTime",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPUCommandEncoderDescriptor=e.createDictionaryConverter("GPUCommandEncoderDescriptor",l,gt);let Ie=[{key:"offset",converter:e.converters.GPUSize64,defaultValue:0},{key:"bytesPerRow",converter:e.converters.GPUSize32},{key:"rowsPerImage",converter:e.converters.GPUSize32}];e.converters.GPUImageDataLayout=e.createDictionaryConverter("GPUImageDataLayout",Ie);let Ft=[{key:"buffer",converter:e.converters.GPUBuffer,required:!0}];e.converters.GPUImageCopyBuffer=e.createDictionaryConverter("GPUImageCopyBuffer",Ie,Ft);let St=[{key:"x",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"y",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"z",converter:e.converters.GPUIntegerCoordinate,defaultValue:0}];e.converters.GPUOrigin3DDict=e.createDictionaryConverter("GPUOrigin3DDict",St),e.converters.GPUOrigin3D=(N,Pe)=>{if(N==null)return e.converters.GPUOrigin3DDict(N,Pe);if(typeof N=="object"){let Qe=N[U];return Qe!==void 0?e.converters["sequence<GPUIntegerCoordinate>"](N,Pe):e.converters.GPUOrigin3DDict(N,Pe)}throw e.makeException(k,"can not be converted to sequence<GPUIntegerCoordinate> or GPUOrigin3DDict.",Pe)};let dt=[{key:"texture",converter:e.converters.GPUTexture,required:!0},{key:"mipLevel",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"origin",converter:e.converters.GPUOrigin3D,get defaultValue(){return{}}},{key:"aspect",converter:e.converters.GPUTextureAspect,defaultValue:"all"}];e.converters.GPUImageCopyTexture=e.createDictionaryConverter("GPUImageCopyTexture",dt);let Lt=[{key:"x",converter:e.converters.GPUIntegerCoordinate,defaultValue:0},{key:"y",converter:e.converters.GPUIntegerCoordinate,defaultValue:0}];e.converters.GPUOrigin2DDict=e.createDictionaryConverter("GPUOrigin2DDict",Lt),e.converters.GPUOrigin2D=(N,Pe)=>{if(N==null)return e.converters.GPUOrigin2DDict(N,Pe);if(typeof N=="object"){let Qe=N[U];return Qe!==void 0?e.converters["sequence<GPUIntegerCoordinate>"](N,Pe):e.converters.GPUOrigin2DDict(N,Pe)}throw e.makeException(k,"can not be converted to sequence<GPUIntegerCoordinate> or GPUOrigin2DDict.",Pe)},e.converters.GPUComputePassEncoder=e.createInterfaceConverter("GPUComputePassEncoder",ee);let Tt=[];e.converters.GPUComputePassDescriptor=e.createDictionaryConverter("GPUComputePassDescriptor",l,Tt),e.converters.GPURenderPassEncoder=e.createInterfaceConverter("GPURenderPassEncoder",_),e.converters.GPULoadOp=e.createEnumConverter("GPULoadOp",["load"]);let $e=[{key:"r",converter:e.converters.double,required:!0},{key:"g",converter:e.converters.double,required:!0},{key:"b",converter:e.converters.double,required:!0},{key:"a",converter:e.converters.double,required:!0}];e.converters.GPUColorDict=e.createDictionaryConverter("GPUColorDict",$e),e.converters.GPUColor=(N,Pe)=>{if(N==null)return e.converters.GPUColorDict(N,Pe);if(typeof N=="object"){let Qe=N[U];return Qe!==void 0?e.converters["sequence<double>"](N,Pe):e.converters.GPUColorDict(N,Pe)}throw e.makeException(k,"can not be converted to sequence<double> or GPUColorDict.",Pe)},e.converters.GPUStoreOp=e.createEnumConverter("GPUStoreOp",["store","discard"]);let zt=[{key:"view",converter:e.converters.GPUTextureView,required:!0},{key:"resolveTarget",converter:e.converters.GPUTextureView},{key:"loadValue",converter:e.converters.any,required:!0},{key:"storeOp",converter:e.converters.GPUStoreOp,required:!0}];e.converters.GPURenderPassColorAttachment=e.createDictionaryConverter("GPURenderPassColorAttachment",zt);let qt=[{key:"view",converter:e.converters.GPUTextureView,required:!0},{key:"depthLoadValue",converter:e.converters.any,required:!0},{key:"depthStoreOp",converter:e.converters.GPUStoreOp,required:!0},{key:"depthReadOnly",converter:e.converters.boolean,defaultValue:!1},{key:"stencilLoadValue",converter:e.converters.any,required:!0},{key:"stencilStoreOp",converter:e.converters.GPUStoreOp,required:!0},{key:"stencilReadOnly",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPURenderPassDepthStencilAttachment=e.createDictionaryConverter("GPURenderPassDepthStencilAttachment",qt),e.converters.GPUQuerySet=e.createInterfaceConverter("GPUQuerySet",p);let mt=[{key:"colorAttachments",converter:e.createSequenceConverter(e.converters.GPURenderPassColorAttachment),required:!0},{key:"depthStencilAttachment",converter:e.converters.GPURenderPassDepthStencilAttachment},{key:"occlusionQuerySet",converter:e.converters.GPUQuerySet}];e.converters.GPURenderPassDescriptor=e.createDictionaryConverter("GPURenderPassDescriptor",l,mt),e.converters.GPURenderBundle=e.createInterfaceConverter("GPURenderBundle",C),e.converters["sequence<GPURenderBundle>"]=e.createSequenceConverter(e.converters.GPURenderBundle);let ot=[];e.converters.GPURenderBundleDescriptor=e.createDictionaryConverter("GPURenderBundleDescriptor",l,ot),e.converters.GPURenderBundleEncoder=e.createInterfaceConverter("GPURenderBundleEncoder",D);let Dt=[{key:"colorFormats",converter:e.createSequenceConverter(e.converters.GPUTextureFormat),required:!0},{key:"depthStencilFormat",converter:e.converters.GPUTextureFormat},{key:"sampleCount",converter:e.converters.GPUSize32,defaultValue:1}];e.converters.GPURenderPassLayout=e.createDictionaryConverter("GPURenderPassLayout",l,Dt);let At=[{key:"depthReadOnly",converter:e.converters.boolean,defaultValue:!1},{key:"stencilReadOnly",converter:e.converters.boolean,defaultValue:!1}];e.converters.GPURenderBundleEncoderDescriptor=e.createDictionaryConverter("GPURenderBundleEncoderDescriptor",l,Dt,At),e.converters.GPUQueue=e.createInterfaceConverter("GPUQueue",he),e.converters.GPUQueryType=e.createEnumConverter("GPUQueryType",["occlusion","pipeline-statistics","timestamp"]),e.converters.GPUPipelineStatisticName=e.createEnumConverter("GPUPipelineStatisticName",["vertex-shader-invocations","clipper-invocations","clipper-primitives-out","fragment-shader-invocations","compute-shader-invocations"]);let kt=[{key:"type",converter:e.converters.GPUQueryType,required:!0},{key:"count",converter:e.converters.GPUSize32,required:!0},{key:"pipelineStatistics",converter:e.createSequenceConverter(e.converters.GPUPipelineStatisticName),get defaultValue(){return[]}}];e.converters.GPUQuerySetDescriptor=e.createDictionaryConverter("GPUQuerySetDescriptor",l,kt),e.converters.GPUDeviceLostReason=e.createEnumConverter("GPUDeviceLostReason",["destroyed"]),e.converters.GPUErrorFilter=e.createEnumConverter("GPUErrorFilter",["out-of-memory","validation"]),e.converters.GPUOutOfMemoryError=e.createInterfaceConverter("GPUOutOfMemoryError",u),e.converters.GPUValidationError=e.createInterfaceConverter("GPUValidationError",v),e.converters.GPUError=e.converters.any;let _e=[{key:"error",converter:e.converters.GPUError,required:!0}];e.converters.GPUUncapturedErrorEventInit=e.createDictionaryConverter("GPUUncapturedErrorEventInit",_e),e.converters.GPUBufferDynamicOffset=(N,Pe)=>e.converters["unsigned long"](N,{...Pe,enforceRange:!0}),e.converters.GPUSignedOffset32=(N,Pe)=>e.converters.long(N,{...Pe,enforceRange:!0}),e.converters.GPUFlagsConstant=e.converters["unsigned long"]})(q)}),To=pt(q=>{"use strict";(i=>{let{ObjectFreeze:e,StringPrototypeSplit:t}=i.__bootstrap.primordials,d={target:"unknown",arch:"unknown",os:"unknown",vendor:"unknown",env:void 0};function ce($){let[L,he,j,te]=t($,"-",4);d.target=$,d.arch=L,d.vendor=he,d.os=j,d.env=te,e(d)}i.__bootstrap.build={build:d,setBuildInfo:ce}})(q)}),Do=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Error:t}=i.__bootstrap.primordials,{BadResource:d,Interrupted:ce}=e;class $ extends t{constructor(_){super(_);this.name="NotFound"}}class L extends t{constructor(_){super(_);this.name="PermissionDenied"}}class he extends t{constructor(_){super(_);this.name="ConnectionRefused"}}class j extends t{constructor(_){super(_);this.name="ConnectionReset"}}class te extends t{constructor(_){super(_);this.name="ConnectionAborted"}}class R extends t{constructor(_){super(_);this.name="NotConnected"}}class fe extends t{constructor(_){super(_);this.name="AddrInUse"}}class Y extends t{constructor(_){super(_);this.name="AddrNotAvailable"}}class ne extends t{constructor(_){super(_);this.name="BrokenPipe"}}class K extends t{constructor(_){super(_);this.name="AlreadyExists"}}class B extends t{constructor(_){super(_);this.name="InvalidData"}}class X extends t{constructor(_){super(_);this.name="TimedOut"}}class y extends t{constructor(_){super(_);this.name="WriteZero"}}class S extends t{constructor(_){super(_);this.name="UnexpectedEof"}}class h extends t{constructor(_){super(_);this.name="Http"}}class A extends t{constructor(_){super(_);this.name="Busy"}}class V extends t{constructor(_){super(_);this.name="NotSupported"}}let M={NotFound:$,PermissionDenied:L,ConnectionRefused:he,ConnectionReset:j,ConnectionAborted:te,NotConnected:R,AddrInUse:fe,AddrNotAvailable:Y,BrokenPipe:ne,AlreadyExists:K,InvalidData:B,TimedOut:X,Interrupted:ce,WriteZero:y,UnexpectedEof:S,BadResource:d,Http:h,Busy:A,NotSupported:V};i.__bootstrap.errors={errors:M}})(q)}),ko=pt(q=>{"use strict";(i=>{let{ObjectFreeze:e}=i.__bootstrap.primordials,t={deno:"",v8:"",typescript:""};function d(ce,$,L){t.deno=ce,t.v8=$,t.typescript=L,e(t)}i.__bootstrap.version={version:t,setVersions:d}})(q)}),Go=pt(q=>{"use strict";(i=>{let{TypeError:e,Symbol:t}=i.__bootstrap.primordials,d=t("illegalConstructorKey");function ce($,L,he){if(L<he){let j=`${$} requires at least ${he} argument${he===1?"":"s"}, but only ${L} present`;throw new e(j)}}i.__bootstrap.webUtil={illegalConstructorKey:d,requiredArguments:ce}})(q)}),Io=pt(q=>{"use strict";(i=>{let{StringPrototypeReplace:e,TypeError:t,Promise:d,decodeURIComponent:ce,Error:$}=i.__bootstrap.primordials,{build:L}=i.__bootstrap.build,{URL:he}=i.__bootstrap.url,j=!1,te="JS";function R(M,g){j=M,g&&(te=g)}function fe(...M){j&&je.console.log(`DEBUG ${te} -`,...M)}class Y extends ${constructor(g){super(g);this.name="AssertionError"}}function ne(M,g="Assertion failed."){if(!M)throw new Y(g)}function K(){let M,g,_=new d((ee,ue)=>{M=ee,g=ue});return _.resolve=M,_.reject=g,_}function B(M){let g=e(M.pathname,/^\/*([A-Za-z]:)(\/|$)/,"$1/");g=e(g,/\//g,"\\"),g=e(g,/%(?![0-9A-Fa-f]{2})/g,"%25");let _=ce(g);return M.hostname!=""&&(_=`\\\\${M.hostname}${_}`),_}function X(M){if(M.hostname!=="")throw new t("Host must be empty.");return ce(e(M.pathname,/%(?![0-9A-Fa-f]{2})/g,"%25"))}function y(M){if(M instanceof he){if(M.protocol!="file:")throw new t("Must be a file URL.");return L.os=="windows"?B(M):X(M)}return M}i.__bootstrap.internals={...i.__bootstrap.internals??{},pathFromURL:y};function S(M){return{value:M,writable:!0,enumerable:!0,configurable:!0}}function h(M){return{value:M,writable:!0,enumerable:!1,configurable:!0}}function A(M){return{value:M,enumerable:!0,writable:!1,configurable:!0}}function V(M){return{get:M,enumerable:!0,configurable:!0}}i.__bootstrap.util={log:fe,setLogDebug:R,createResolvable:K,assert:ne,AssertionError:Y,pathFromURL:y,writable:S,nonEnumerable:h,readOnly:A,getterOnly:V}})(q)}),Fo=pt(q=>{"use strict";(i=>{let{Event:e,EventTarget:t,Deno:{core:d},__bootstrap:{webUtil:{illegalConstructorKey:ce}}}=i,{pathFromURL:$}=i.__bootstrap.util,{ArrayIsArray:L,ArrayPrototypeIncludes:he,ArrayPrototypeMap:j,ArrayPrototypeSlice:te,Map:R,MapPrototypeGet:fe,MapPrototypeHas:Y,MapPrototypeSet:ne,FunctionPrototypeCall:K,PromiseResolve:B,PromiseReject:X,SymbolFor:y,TypeError:S}=i.__bootstrap.primordials,h=["read","write","net","env","run","ffi","hrtime"];function A(u){return d.opSync("op_query_permission",u)}function V(u){return d.opSync("op_revoke_permission",u)}function M(u){return d.opSync("op_request_permission",u)}class g extends t{#e;onchange=null;get state(){return this.#e.state}constructor(v=null,U=null){if(U!=ce)throw new S("Illegal constructor.");super();this.#e=v}dispatchEvent(v){let U=super.dispatchEvent(v);return U&&this.onchange&&(K(this.onchange,this,v),U=!v.defaultPrevented),U}[y("Deno.privateCustomInspect")](v){return`${this.constructor.name} ${v({state:this.state,onchange:this.onchange})}`}}let _=new R;function ee(u,v){let{name:U}=u;if((u.name==="read"||u.name==="write")&&"path"in u?U+=`-${u.path}`:u.name==="net"&&u.host&&(U+=`-${u.host}`),Y(_,U)){let l=fe(_,U);return l.state!==v&&(l.state=v,l.status.dispatchEvent(new e("change",{cancelable:!1}))),l.status}let k={state:v};return k.status=new g(k,ce),ne(_,U,k),k.status}function ue(u){return u&&u!==null&&he(h,u.name)}class D{constructor(v=null){if(v!=ce)throw new S("Illegal constructor.")}query(v){if(!ue(v))return X(new S(`The provided value "${v.name}" is not a valid permission name.`));v.name==="read"||v.name==="write"||v.name==="ffi"?v.path=$(v.path):v.name==="run"&&(v.command=$(v.command));let U=A(v);return B(ee(v,U))}revoke(v){if(!ue(v))return X(new S(`The provided value "${v.name}" is not a valid permission name.`));v.name==="read"||v.name==="write"?v.path=$(v.path):v.name==="run"&&(v.command=$(v.command));let U=V(v);return B(ee(v,U))}request(v){if(!ue(v))return X(new S(`The provided value "${v.name}" is not a valid permission name.`));v.name==="read"||v.name==="write"?v.path=$(v.path):v.name==="run"&&(v.command=$(v.command));let U=M(v);return B(ee(v,U))}}let C=new D(ce);function p(u){if(typeof u=="object"&&u!=null){let v={};for(let U of["read","write","run","ffi"])L(u[U])?v[U]=j(u[U],k=>$(k)):v[U]=u[U];for(let U of["env","hrtime","net"])L(u[U])?v[U]=te(u[U]):v[U]=u[U];return v}return u}i.__bootstrap.permissions={serializePermissions:p,permissions:C,Permissions:D,PermissionStatus:g}})(q)}),Mo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Error:t,StringPrototypeStartsWith:d,String:ce,SymbolIterator:$,SymbolToStringTag:L}=i.__bootstrap.primordials,he=i.__bootstrap.webidl,{URL:j}=i.__bootstrap.url,{getLocationHref:te}=i.__bootstrap.location,{serializePermissions:R}=i.__bootstrap.permissions,{log:fe}=i.__bootstrap.util,{defineEventHandler:Y}=i.__bootstrap.event,{deserializeJsMessageData:ne,serializeJsMessageData:K}=i.__bootstrap.messagePort;function B(V,M,g,_,ee,ue,D){return e.opSync("op_create_worker",{hasSourceCode:M,name:ue,permissions:R(ee),sourceCode:g,specifier:V,useDenoNamespace:_,workerType:D})}function X(V){e.opSync("op_host_terminate_worker",V)}function y(V,M){e.opSync("op_host_post_message",V,M)}function S(V){return e.opAsync("op_host_recv_ctrl",V)}function h(V){return e.opAsync("op_host_recv_message",V)}class A extends EventTarget{#e=0;#t="";#r="RUNNING";constructor(M,g={}){super();M=ce(M);let{deno:_,name:ee,type:ue="classic"}=g,D,C;typeof _=="object"?(D=_.namespace??!1,C=_.permissions??void 0):(D=!!_,C=void 0);let p=he.converters.WorkerType(ue);if(d(M,"./")||d(M,"../")||d(M,"/")||p==="classic"){let k=te();k!=null&&(M=new j(M,k).href)}this.#t=ee;let u,v;p==="classic"?(u=!0,v='importScripts("#");'):(u=!1,v="");let U=B(M,u,v,D,C,ee,p);this.#e=U,this.#o(),this.#s()}#n(M){let g=new ErrorEvent("error",{cancelable:!0,message:M.message,lineno:M.lineNumber?M.lineNumber+1:void 0,colno:M.columnNumber?M.columnNumber+1:void 0,filename:M.fileName,error:null}),_=!1;return this.dispatchEvent(g),g.defaultPrevented&&(_=!0),_}#o=async()=>{for(;this.#r==="RUNNING";){let[M,g]=await S(this.#e);if(this.#r==="TERMINATED")return;switch(M){case 1:this.#r="CLOSED";case 2:{if(!this.#n(g))throw new t("Unhandled error event in child worker.");break}case 3:{fe(`Host got "close" message from worker: ${this.#t}`),this.#r="CLOSED";return}default:throw new t(`Unknown worker event: "${M}"`)}}};#s=async()=>{for(;this.#r!=="TERMINATED";){let M=await h(this.#e);if(this.#r==="TERMINATED"||M===null)return;let g,_;try{let ue=ne(M);g=ue[0],_=ue[1]}catch(ue){let D=new MessageEvent("messageerror",{cancelable:!1,data:ue});this.dispatchEvent(D);return}let ee=new MessageEvent("message",{cancelable:!1,data:g,ports:_.filter(ue=>ue instanceof MessagePort)});this.dispatchEvent(ee)}};postMessage(M,g={}){let _="Failed to execute 'postMessage' on 'MessagePort'";he.requiredArguments(arguments.length,1,{prefix:_}),M=he.converters.any(M);let ee;if(he.type(g)==="Object"&&g!==void 0&&g[$]!==void 0){let C=he.converters["sequence<object>"](g,{prefix:_,context:"Argument 2"});ee={transfer:C}}else ee=he.converters.StructuredSerializeOptions(g,{prefix:_,context:"Argument 2"});let{transfer:ue}=ee,D=K(M,ue);this.#r==="RUNNING"&&y(this.#e,D)}terminate(){this.#r!=="TERMINATED"&&(this.#r="TERMINATED",X(this.#e))}[L]="Worker"}Y(A.prototype,"error"),Y(A.prototype,"message"),Y(A.prototype,"messageerror"),he.converters.WorkerType=he.createEnumConverter("WorkerType",["classic","module"]),i.__bootstrap.worker={Worker:A}})(q)}),Oo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{DOMException:t}=i.__bootstrap.domException,{Uint8Array:d,ArrayPrototypePush:ce,MathMin:$,TypedArrayPrototypeSubarray:L,TypedArrayPrototypeSet:he}=i.__bootstrap.primordials,j=32*1024,te={0:"Start",1:"Current",2:"End",Start:0,Current:1,End:2};async function R(_,ee,ue){let D=0,C=ue?.bufSize??j,p=new d(C),u=!1;for(;u===!1;){let v=await _.read(p);if(v===null)u=!0;else{let U=0;for(;U<v;)U+=await ee.write(L(p,U,v));D+=U}}return D}async function*fe(_,ee){let ue=ee?.bufSize??j,D=new d(ue);for(;;){let C=await _.read(D);if(C===null)break;yield L(D,0,C)}}function*Y(_,ee){let ue=ee?.bufSize??j,D=new d(ue);for(;;){let C=_.readSync(D);if(C===null)break;yield L(D,0,C)}}function ne(_,ee){if(ee.length===0)return 0;let ue=e.opSync("op_read_sync",_,ee);return ue===0?null:ue}async function K(_,ee){if(ee.length===0)return 0;let ue=await e.read(_,ee);return ue===0?null:ue}function B(_,ee){return e.opSync("op_write_sync",_,ee)}function X(_,ee){return e.write(_,ee)}let y=16*1024;function S(_){return h(_)}async function h(_,ee){let ue=[],D=ee?.signal??null;for(;!D?.aborted;){let C=new d(y),p=await _.read(C);if(typeof p=="number")ce(ue,new d(C.buffer,0,p));else break}if(D?.aborted)throw new t("The read operation was aborted.","AbortError");return V(ue)}function A(_){let ee=[];for(;;){let ue=new d(y),D=_.readSync(ue);if(typeof D=="number")ce(ee,ue.subarray(0,D));else break}return V(ee)}function V(_){let ee=0;for(let C of _)ee+=C.byteLength;let ue=new d(ee),D=0;for(let C of _)he(ue,C,D),D+=C.byteLength;return ue}function M(_,ee){let ue=new d(ee+1),D=0;for(;D<ee;){let C=$(ee+1,D+y),p=ue.subarray(D,C),u=_.readSync(p);if(typeof u=="number")D+=u;else break}return D>ee?V([ue,A(_)]):ue.subarray(0,D)}async function g(_,ee,ue){let D=new d(ee+1),C=0,p=ue?.signal??null;for(;!p?.aborted&&C<ee;){let u=$(ee+1,C+y),v=D.subarray(C,u),U=await _.read(v);if(typeof U=="number")C+=U;else break}if(p?.aborted)throw new t("The read operation was aborted.","AbortError");return C>ee?V([D,await h(_,ue)]):D.subarray(0,C)}i.__bootstrap.io={iterSync:Y,iter:fe,copy:R,SeekMode:te,read:K,readSync:ne,write:X,writeSync:B,readAll:S,readAllInner:h,readAllSync:A,readAllSyncSized:M,readAllInnerSized:g}})(q)}),Lo=pt(q=>{"use strict";(i=>{let{assert:e}=i.__bootstrap.util,{TypedArrayPrototypeSubarray:t,TypedArrayPrototypeSlice:d,TypedArrayPrototypeSet:ce,MathFloor:$,MathMin:L,PromiseResolve:he,Uint8Array:j,Error:te}=i.__bootstrap.primordials,R=32*1024,fe=2**32-2;function Y(S,h,A=0){let V=h.byteLength-A;return S.byteLength>V&&(S=t(S,0,V)),ce(h,S,A),S.byteLength}class ne{#e=null;#t=0;constructor(h){if(h==null){this.#e=new j(0);return}this.#e=new j(h)}bytes(h={copy:!0}){return h.copy===!1?t(this.#e,this.#t):d(this.#e,this.#t)}empty(){return this.#e.byteLength<=this.#t}get length(){return this.#e.byteLength-this.#t}get capacity(){return this.#e.buffer.byteLength}truncate(h){if(h===0){this.reset();return}if(h<0||h>this.length)throw te("bytes.Buffer: truncation out of range");this.#n(this.#t+h)}reset(){this.#n(0),this.#t=0}#r(h){let A=this.#e.byteLength;return h<=this.capacity-A?(this.#n(A+h),A):-1}#n(h){e(h<=this.#e.buffer.byteLength),this.#e=new j(this.#e.buffer,0,h)}readSync(h){if(this.empty())return this.reset(),h.byteLength===0?0:null;let A=Y(t(this.#e,this.#t),h);return this.#t+=A,A}read(h){let A=this.readSync(h);return he(A)}writeSync(h){let A=this.#o(h.byteLength);return Y(h,this.#e,A)}write(h){let A=this.writeSync(h);return he(A)}#o(h){let A=this.length;A===0&&this.#t!==0&&this.reset();let V=this.#r(h);if(V>=0)return V;let M=this.capacity;if(h<=$(M/2)-A)Y(t(this.#e,this.#t),this.#e);else{if(M+h>fe)throw new te("The buffer cannot be grown beyond the maximum size.");{let g=new j(L(2*M+h,fe));Y(t(this.#e,this.#t),g),this.#e=g}}return this.#t=0,this.#n(L(A+h,fe)),A}grow(h){if(h<0)throw te("Buffer.grow: negative count");let A=this.#o(h);this.#n(A)}async readFrom(h){let A=0,V=new j(R);for(;;){let M=this.capacity-this.length<R,g=M?V:new j(this.#e.buffer,this.length),_=await h.read(g);if(_===null)return A;M?this.writeSync(t(g,0,_)):this.#n(this.length+_),A+=_}}readFromSync(h){let A=0,V=new j(R);for(;;){let M=this.capacity-this.length<R,g=M?V:new j(this.#e.buffer,this.length),_=h.readSync(g);if(_===null)return A;M?this.writeSync(t(g,0,_)):this.#n(this.length+_),A+=_}}}async function K(S){let h=new ne;return await h.readFrom(S),h.bytes()}function B(S){let h=new ne;return h.readFromSync(S),h.bytes()}async function X(S,h){let A=0;for(;A<h.length;)A+=await S.write(t(h,A))}function y(S,h){let A=0;for(;A<h.length;)A+=S.writeSync(t(h,A))}i.__bootstrap.buffer={writeAll:X,writeAllSync:y,readAll:K,readAllSync:B,Buffer:ne}})(q)}),qo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Date:t,MathTrunc:d,SymbolAsyncIterator:ce,SymbolIterator:$}=i.__bootstrap.primordials,{pathFromURL:L}=i.__bootstrap.util,he=i.__bootstrap.build.build;function j(b,re){e.opSync("op_chmod_sync",{path:L(b),mode:re})}async function te(b,re){await e.opAsync("op_chmod_async",{path:L(b),mode:re})}function R(b,re,De){e.opSync("op_chown_sync",{path:L(b),uid:re,gid:De})}async function fe(b,re,De){await e.opAsync("op_chown_async",{path:L(b),uid:re,gid:De})}function Y(b,re){e.opSync("op_copy_file_sync",{from:L(b),to:L(re)})}async function ne(b,re){await e.opAsync("op_copy_file_async",{from:L(b),to:L(re)})}function K(){return e.opSync("op_cwd")}function B(b){e.opSync("op_chdir",L(b))}function X(b={}){return e.opSync("op_make_temp_dir_sync",b)}function y(b={}){return e.opAsync("op_make_temp_dir_async",b)}function S(b={}){return e.opSync("op_make_temp_file_sync",b)}function h(b={}){return e.opAsync("op_make_temp_file_async",b)}function A(b,re){let De={path:L(b),recursive:!1};return re!=null&&(typeof re.recursive=="boolean"&&(De.recursive=re.recursive),re.mode&&(De.mode=re.mode)),De}function V(b,re){e.opSync("op_mkdir_sync",A(b,re))}async function M(b,re){await e.opAsync("op_mkdir_async",A(b,re))}function g(b){return e.opSync("op_read_dir_sync",L(b))[$]()}function _(b){let re=e.opAsync("op_read_dir_async",L(b));return{async*[ce](){yield*await re}}}function ee(b){return e.opSync("op_read_link_sync",L(b))}function ue(b){return e.opAsync("op_read_link_async",L(b))}function D(b){return e.opSync("op_realpath_sync",L(b))}function C(b){return e.opAsync("op_realpath_async",L(b))}function p(b,re={}){e.opSync("op_remove_sync",{path:L(b),recursive:!!re.recursive})}async function u(b,re={}){await e.opAsync("op_remove_async",{path:L(b),recursive:!!re.recursive})}function v(b,re){e.opSync("op_rename_sync",{oldpath:L(b),newpath:L(re)})}async function U(b,re){await e.opAsync("op_rename_async",{oldpath:L(b),newpath:L(re)})}function k(b){let re=he.os==="darwin"||he.os==="linux";return{isFile:b.isFile,isDirectory:b.isDirectory,isSymlink:b.isSymlink,size:b.size,mtime:b.mtime!=null?new t(b.mtime):null,atime:b.atime!=null?new t(b.atime):null,birthtime:b.birthtime!=null?new t(b.birthtime):null,dev:re?b.dev:null,ino:re?b.ino:null,mode:re?b.mode:null,nlink:re?b.nlink:null,uid:re?b.uid:null,gid:re?b.gid:null,rdev:re?b.rdev:null,blksize:re?b.blksize:null,blocks:re?b.blocks:null}}function l(b){return k(e.opSync("op_fstat_sync",b))}async function T(b){return k(await e.opAsync("op_fstat_async",b))}async function f(b){let re=await e.opAsync("op_stat_async",{path:L(b),lstat:!0});return k(re)}function J(b){let re=e.opSync("op_stat_sync",{path:L(b),lstat:!0});return k(re)}async function P(b){let re=await e.opAsync("op_stat_async",{path:L(b),lstat:!1});return k(re)}function E(b){let re=e.opSync("op_stat_sync",{path:L(b),lstat:!1});return k(re)}function m(b){return b==null||b<0?0:b}function F(b,re){e.opSync("op_ftruncate_sync",{rid:b,len:m(re)})}async function I(b,re){await e.opAsync("op_ftruncate_async",{rid:b,len:m(re)})}function Z(b,re){e.opSync("op_truncate_sync",{path:b,len:m(re)})}async function ae(b,re){await e.opAsync("op_truncate_async",{path:b,len:m(re)})}function O(b){return e.opSync("op_umask",b)}function ge(b,re){e.opSync("op_link_sync",{oldpath:b,newpath:re})}async function we(b,re){await e.opAsync("op_link_async",{oldpath:b,newpath:re})}function Ae(b){if(b instanceof t){let Re=b.valueOf(),ye=d(Re/1e3),Ze=d(Re-ye*1e3)*1e6;return[ye,Ze]}let re=b,De=0;return[re,De]}function G(b,re,De){e.opSync("op_futime_sync",{rid:b,atime:Ae(re),mtime:Ae(De)})}async function pe(b,re,De){await e.opAsync("op_futime_async",{rid:b,atime:Ae(re),mtime:Ae(De)})}function Ue(b,re,De){e.opSync("op_utime_sync",{path:L(b),atime:Ae(re),mtime:Ae(De)})}async function it(b,re,De){await e.opAsync("op_utime_async",{path:L(b),atime:Ae(re),mtime:Ae(De)})}function Q(b,re,De){e.opSync("op_symlink_sync",{oldpath:L(b),newpath:L(re),options:De})}async function ve(b,re,De){await e.opAsync("op_symlink_async",{oldpath:L(b),newpath:L(re),options:De})}function Se(b){e.opSync("op_fdatasync_sync",b)}async function Te(b){await e.opAsync("op_fdatasync_async",b)}function Fe(b){e.opSync("op_fsync_sync",b)}async function z(b){await e.opAsync("op_fsync_async",b)}function ie(b,re){e.opSync("op_flock_sync",b,re===!0)}async function w(b,re){await e.opAsync("op_flock_async",b,re===!0)}function le(b){e.opSync("op_funlock_sync",b)}async function me(b){await e.opAsync("op_funlock_async",b)}i.__bootstrap.fs={cwd:K,chdir:B,chmodSync:j,chmod:te,chown:fe,chownSync:R,copyFile:ne,copyFileSync:Y,makeTempFile:h,makeTempDir:y,makeTempFileSync:S,makeTempDirSync:X,mkdir:M,mkdirSync:V,readDir:_,readDirSync:g,readLinkSync:ee,readLink:ue,realPathSync:D,realPath:C,remove:u,removeSync:p,renameSync:v,rename:U,lstat:f,lstatSync:J,stat:P,statSync:E,ftruncate:I,ftruncateSync:F,truncate:ae,truncateSync:Z,umask:O,link:we,linkSync:ge,fstatSync:l,fstat:T,futime:pe,futimeSync:G,utime:it,utimeSync:Ue,symlink:ve,symlinkSync:Q,fdatasync:Te,fdatasyncSync:Se,fsync:z,fsyncSync:Fe,flock:w,flockSync:ie,funlock:me,funlockSync:le}})(q)}),No=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Error:t,SymbolFor:d}=i.__bootstrap.primordials;function ce(){return e.opSync("op_loadavg")}function $(){return e.opSync("op_hostname")}function L(){return e.opSync("op_os_release")}function he(){return e.opSync("op_system_memory_info")}let j=null;function te(X){j=X}function R(X){if(typeof X=="number"?e.opSync("op_set_exit_code",X):X=0,i[d("isUnloadDispatched")]||i.dispatchEvent(new Event("unload")),j){j(X);return}throw e.opSync("op_exit"),new t("Code not reachable")}function fe(X,y){e.opSync("op_set_env",X,y)}function Y(X){return e.opSync("op_get_env",X)??void 0}function ne(X){e.opSync("op_delete_env",X)}let K={get:Y,toObject(){return e.opSync("op_env")},set:fe,delete:ne};function B(){return e.opSync("op_exec_path")}i.__bootstrap.os={env:K,execPath:B,setExitHandler:te,exit:R,osRelease:L,systemMemoryInfo:he,hostname:$,loadavg:ce}})(q)}),$o=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap.util,{StringPrototypeMatch:d,PromiseReject:ce,TypeError:$}=i.__bootstrap.primordials;function L(te){return e.opAsync("op_emit",te)}function he(te){return d(te,/^([\.\/\\]|https?:\/{2}|file:\/{2})/)?te:`./${te}`}function j(te,R={}){return t.log("Deno.emit",{rootSpecifier:te}),te?(typeof te=="string"||(te=te.toString()),R.sources||(te=he(te)),L({rootSpecifier:te,...R})):ce(new $("A root specifier must be supplied."))}i.__bootstrap.compilerApi={emit:j}})(q)}),Ho=pt(q=>{"use strict";(i=>{let e={0:"Warning",1:"Error",2:"Suggestion",3:"Message",Warning:0,Error:1,Suggestion:2,Message:3};i.__bootstrap.diagnostics={DiagnosticCategory:e}})(q)}),Wo=pt(q=>{"use strict";(i=>{let e=i.Deno.core;function t($){return e.opSync("op_format_diagnostic",$)}function d($){return e.opSync("op_format_file_name",$)}function ce($){let L=e.opSync("op_apply_source_map",$);return{fileName:L.fileName,lineNumber:L.lineNumber,columnNumber:L.columnNumber}}i.__bootstrap.errorStack={opFormatDiagnostics:t,opFormatFileName:d,opApplySourceMap:ce}})(q)}),Ko=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{read:t,readSync:d,write:ce,writeSync:$}=i.__bootstrap.io,{ftruncate:L,ftruncateSync:he,fstat:j,fstatSync:te}=i.__bootstrap.fs,{pathFromURL:R}=i.__bootstrap.util,{Error:fe,ObjectValues:Y,ArrayPrototypeFilter:ne}=i.__bootstrap.primordials;function K(C,p,u){return e.opSync("op_seek_sync",{rid:C,offset:p,whence:u})}function B(C,p,u){return e.opAsync("op_seek_async",{rid:C,offset:p,whence:u})}function X(C,p={read:!0}){D(p);let u=p?.mode,v=e.opSync("op_open_sync",{path:R(C),options:p,mode:u});return new A(v)}async function y(C,p={read:!0}){D(p);let u=p?.mode,v=await e.opAsync("op_open_async",{path:R(C),options:p,mode:u});return new A(v)}function S(C){return X(C,{read:!0,write:!0,truncate:!0,create:!0})}function h(C){return y(C,{read:!0,write:!0,truncate:!0,create:!0})}class A{#e=0;constructor(p){this.#e=p}get rid(){return this.#e}write(p){return ce(this.rid,p)}writeSync(p){return $(this.rid,p)}truncate(p){return L(this.rid,p)}truncateSync(p){return he(this.rid,p)}read(p){return t(this.rid,p)}readSync(p){return d(this.rid,p)}seek(p,u){return B(this.rid,p,u)}seekSync(p,u){return K(this.rid,p,u)}stat(){return j(this.rid)}statSync(){return te(this.rid)}close(){e.close(this.rid)}}class V{constructor(){}get rid(){return 0}read(p){return t(this.rid,p)}readSync(p){return d(this.rid,p)}close(){e.close(this.rid)}}class M{constructor(){}get rid(){return 1}write(p){return ce(this.rid,p)}writeSync(p){return $(this.rid,p)}close(){e.close(this.rid)}}class g{constructor(){}get rid(){return 2}write(p){return ce(this.rid,p)}writeSync(p){return $(this.rid,p)}close(){e.close(this.rid)}}let _=new V,ee=new M,ue=new g;function D(C){if(ne(Y(C),u=>u===!0).length===0)throw new fe("OpenOptions requires at least one option to be true");if(C.truncate&&!C.write)throw new fe("'truncate' option requires 'write' option");let p=(C.create||C.createNew)&&!(C.write||C.append);if(p)throw new fe("'create' or 'createNew' options require 'write' or 'append' option")}i.__bootstrap.files={stdin:_,stdout:ee,stderr:ue,File:A,create:h,createSync:S,open:y,openSync:X,seek:B,seekSync:K}})(q)}),zo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{errors:t}=i.__bootstrap.errors,{ArrayIsArray:d,PromiseResolve:ce,SymbolAsyncIterator:$}=i.__bootstrap.primordials;class L{#e=0;constructor(te,R){let{recursive:fe}=R;this.#e=e.opSync("op_fs_events_open",{recursive:fe,paths:te})}get rid(){return this.#e}async next(){try{let te=await e.opAsync("op_fs_events_poll",this.rid);return te?{value:te,done:!1}:{value:void 0,done:!0}}catch(te){if(te instanceof t.BadResource)return{value:void 0,done:!0};if(te instanceof t.Interrupted)return{value:void 0,done:!0};throw te}}return(te){return e.close(this.rid),ce({value:te,done:!0})}close(){e.close(this.rid)}[$](){return this}}function he(j,te={recursive:!0}){return new L(d(j)?j:[j],te)}i.__bootstrap.fsEvents={watchFs:he}})(q)}),jo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{File:t}=i.__bootstrap.files,{readAll:d}=i.__bootstrap.io,{assert:ce,pathFromURL:$}=i.__bootstrap.util,{ArrayPrototypeMap:L,TypeError:he,isNaN:j,ObjectEntries:te,String:R}=i.__bootstrap.primordials;function fe(S,h){e.opSync("op_kill",S,h)}function Y(S){return e.opAsync("op_run_status",S)}function ne(S){return ce(S.cmd.length>0),e.opSync("op_run",S)}async function K(S){let h=await Y(S);if(h.gotSignal){let A=h.exitSignal;return{success:!1,code:128+A,signal:A}}else return h.exitCode!=0?{success:!1,code:h.exitCode}:{success:!0,code:0}}class B{constructor(h){this.rid=h.rid,this.pid=h.pid,h.stdinRid&&h.stdinRid>0&&(this.stdin=new t(h.stdinRid)),h.stdoutRid&&h.stdoutRid>0&&(this.stdout=new t(h.stdoutRid)),h.stderrRid&&h.stderrRid>0&&(this.stderr=new t(h.stderrRid))}status(){return K(this.rid)}async output(){if(!this.stdout)throw new he("stdout was not piped");try{return await d(this.stdout)}finally{this.stdout.close()}}async stderrOutput(){if(!this.stderr)throw new he("stderr was not piped");try{return await d(this.stderr)}finally{this.stderr.close()}}close(){e.close(this.rid)}kill(h){fe(this.pid,h)}}function X(S){return!j(S)}function y({cmd:S,cwd:h=void 0,clearEnv:A=!1,env:V={},gid:M=void 0,uid:g=void 0,stdout:_="inherit",stderr:ee="inherit",stdin:ue="inherit"}){S[0]!=null&&(S[0]=$(S[0]));let D=ne({cmd:L(S,R),cwd:h,clearEnv:A,env:te(V),gid:M,uid:g,stdin:X(ue)?"":ue,stdout:X(_)?"":_,stderr:X(ee)?"":ee,stdinRid:X(ue)?ue:0,stdoutRid:X(_)?_:0,stderrRid:X(ee)?ee:0});return new B(D)}i.__bootstrap.process={run:y,Process:B,kill:fe}})(q)}),Vo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{open:t,openSync:d}=i.__bootstrap.files,{readAllSync:ce,readAll:$,readAllSyncSized:L,readAllInnerSized:he}=i.__bootstrap.io;function j(Y){let ne=d(Y);try{let{size:K}=ne.statSync();return K===0?ce(ne):L(ne,K)}finally{ne.close()}}async function te(Y,ne){let K=await t(Y);try{let{size:B}=await K.stat();return B===0?await $(K):await he(K,B,ne)}finally{K.close()}}function R(Y){return e.decode(j(Y))}async function fe(Y,ne){return e.decode(await te(Y,ne))}i.__bootstrap.readFile={readFile:te,readFileSync:j,readTextFileSync:R,readTextFile:fe}})(q)}),Qo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{Set:t,SymbolFor:d,TypeError:ce}=i.__bootstrap.primordials;function $(K){return e.opSync("op_signal_bind",K)}function L(K){let B=e.opAsync("op_signal_poll",K);return e.unrefOp(B[d("Deno.core.internalPromiseId")]),B}function he(K){e.opSync("op_signal_unbind",K)}let j={};function te(K){return j[K]??(j[K]={rid:void 0,listeners:new t})}function R(K){if(typeof K!="function")throw new ce(`Signal listener must be a function. "${typeof K}" is given.`)}function fe(K,B){R(B);let X=te(K);X.listeners.add(B),X.rid||(X.rid=$(K),ne(X))}function Y(K,B){R(B);let X=te(K);X.listeners.delete(B),X.listeners.size===0&&X.rid&&(he(X.rid),X.rid=void 0)}async function ne(K){for(;K.rid;){if(await L(K.rid))return;for(let B of K.listeners)B()}}i.__bootstrap.signals={addSignalListener:fe,removeSignalListener:Y}})(q)}),Jo=pt(q=>{"use strict";(i=>{let e=i.Deno.core,{setExitHandler:t}=i.__bootstrap.os,{Console:d,inspectArgs:ce}=i.__bootstrap.console,{metrics:$}=e,{serializePermissions:L}=i.__bootstrap.permissions,{assert:he}=i.__bootstrap.util,{AggregateError:j,ArrayPrototypeFilter:te,ArrayPrototypePush:R,ArrayPrototypeSome:fe,DateNow:Y,Error:ne,Function:K,JSONStringify:B,Promise:X,TypeError:y,StringPrototypeStartsWith:S,StringPrototypeEndsWith:h,StringPrototypeIncludes:A,StringPrototypeSlice:V,RegExp:M,Number:g,RegExpPrototypeTest:_,SymbolToStringTag:ee}=i.__bootstrap.primordials,ue=!1,D=null;function C(){return new X((Q,ve)=>{setTimeout(()=>{D!==null?ve(new ne("There is an op sanitizer delay already.")):D=Q},0)})}function p(){return D!==null&&(D(),D=null),!0}function u(Q){return async function(Se){let Te=$();try{await Q(Se)}finally{await C()}if(Se.shouldSkipSanitizers)return;let Fe=$(),z=Fe.opsDispatchedAsync-Te.opsDispatchedAsync,ie=Fe.opsCompletedAsync-Te.opsCompletedAsync,w=[];for(let me in Fe.ops){let b=g(Fe.ops[me]?.opsDispatchedAsync-(Te.ops[me]?.opsDispatchedAsync??0)),re=g(Fe.ops[me]?.opsCompletedAsync-(Te.ops[me]?.opsCompletedAsync??0));b!==re&&w.push(`
    ${me}:
      Before:
        - dispatched: ${Te.ops[me]?.opsDispatchedAsync??0}
        - completed: ${Te.ops[me]?.opsCompletedAsync??0}
      After:
        - dispatched: ${Fe.ops[me].opsDispatchedAsync}
        - completed: ${Fe.ops[me].opsCompletedAsync}`)}let le=`Test case is leaking async ops.
  Before:
    - dispatched: ${Te.opsDispatchedAsync}
    - completed: ${Te.opsCompletedAsync}
  After:
    - dispatched: ${Fe.opsDispatchedAsync}
    - completed: ${Fe.opsCompletedAsync}
  ${w.length>0?"Ops:"+w.join(""):""}

  Make sure to await all promises returned from Deno APIs before
  finishing test case.`;he(z===ie,le)}}function v(Q){return async function(Se){let Te=e.resources();if(await Q(Se),Se.shouldSkipSanitizers)return;let Fe=e.resources(),z=B(Te,null,2),ie=B(Fe,null,2),w=`Test case is leaking resources.
  Before: ${z}
  After: ${ie}

  Make sure to close all open resource handles returned from Deno APIs before
  finishing test case.`;he(z===ie,w)}}function U(Q){return async function(...Se){t(Te=>{he(!1,`Test case attempted to exit with exit code: ${Te}`)});try{await Q(...Se)}catch(Te){throw Te}finally{t(null)}}}function k(Q){return async function(Se){Te(),Se.canStreamReporting()&&Se.reportWait(),await Q(G(Se)),Fe();function Te(){let z=w(),ie=te(z,le=>le.usesSanitizer);if(ie.length>0)throw new ne(`Cannot start test step while another test step with sanitizers is running.
`+ie.map(le=>` * ${le.getFullName()}`).join(`
`));if(Se.usesSanitizer&&z.length>0)throw new ne(`Cannot start test step with sanitizers while another test step is running.
`+z.map(le=>` * ${le.getFullName()}`).join(`
`));function w(){let le=[],me=Se;for(let b of Se.ancestors()){for(let re of b.children){if(re===me)continue;re.finalized||R(le,re)}me=b}return le}}function Fe(){if(Se.hasRunningChildren)throw new ne("There were still test steps running after the current scope finished execution. Ensure all steps are awaited (ex. `await t.step(...)`).");for(let z of Se.ancestors())if(z.finalized)throw new ne("Parent scope completed before test step finished execution. Ensure all steps are awaited (ex. `await t.step(...)`).")}}}function l(Q,ve){function Se(Fe){return e.opSync("op_pledge_test_permissions",L(Fe))}function Te(Fe){e.opSync("op_restore_test_permissions",Fe)}return async function(...z){let ie=Se(ve);try{await Q(...z)}finally{Te(ie)}}}let T=[];function f(Q,ve,Se){let Te,Fe={ignore:!1,only:!1,sanitizeOps:!0,sanitizeResources:!0,sanitizeExit:!0,permissions:null};if(typeof Q=="string"){if(!Q)throw new y("The test name can't be empty");if(typeof ve=="function")Te={fn:ve,name:Q,...Fe};else{if(!Se||typeof Se!="function")throw new y("Missing test function");if(ve.fn!=null)throw new y("Unexpected 'fn' field in options, test function is already provided as the third argument.");if(ve.name!=null)throw new y("Unexpected 'name' field in options, test name is already provided as the first argument.");Te={...Fe,...ve,fn:Se,name:Q}}}else if(typeof Q=="function"){if(!Q.name)throw new y("The test function must have a name");if(ve!=null)throw new y("Unexpected second argument to Deno.test()");if(Se!=null)throw new y("Unexpected third argument to Deno.test()");Te={...Fe,fn:Q,name:Q.name}}else{let z,ie;if(typeof ve=="function"){if(z=ve,Q.fn!=null)throw new y("Unexpected 'fn' field in options, test function is already provided as the second argument.");ie=Q.name??z.name}else{if(!Q.fn||typeof Q.fn!="function")throw new y("Expected 'fn' field in the first argument to be a test function.");z=Q.fn,ie=Q.name??z.name}if(!ie)throw new y("The test name can't be empty");Te={...Fe,...Q,fn:z,name:ie}}Te.fn=pe(Te.fn,Te),Te.permissions&&(Te.fn=l(Te.fn,Te.permissions)),R(T,Te)}function J(Q){if(Q instanceof j){let ve=Q.errors.map(Se=>ce([Se]).replace(/^(?!\s*$)/gm," ".repeat(4))).join(`
`);return Q.name+`
`+ve+Q.stack}return ce([Q])}function P(Q){return ve=>{if(Q){if(S(Q,"/")&&h(Q,"/")){let Se=new M(V(Q,1,Q.length-1));return _(Se,ve.name)}return A(ve.name,Q)}return!0}}async function E(Q,ve){if(Q.ignore)return"ignored";let Se=new Ae({name:Q.name,parent:void 0,rootTestDescription:ve,sanitizeOps:Q.sanitizeOps,sanitizeResources:Q.sanitizeResources,sanitizeExit:Q.sanitizeExit});try{await Q.fn(Se);let Te=Se.failedChildStepsCount();return Te===0?"ok":{failed:J(new ne(`${Te} test step${Te===1?"":"s"} failed.`))}}catch(Te){return{failed:J(Te)}}finally{Se.finalized=!0;for(let Te of Se.children)Te.reportResult()}}function m(){return e.opSync("op_get_test_origin")}function F(Q){e.opSync("op_dispatch_test_event",{plan:Q})}function I(Q){e.opSync("op_dispatch_test_event",{output:{console:Q}})}function Z(Q){e.opSync("op_dispatch_test_event",{wait:Q})}function ae(Q,ve,Se){e.opSync("op_dispatch_test_event",{result:[Q,ve,Se]})}function O(Q){e.opSync("op_dispatch_test_event",{stepWait:Q})}function ge(Q,ve,Se){e.opSync("op_dispatch_test_event",{stepResult:[Q,ve,Se]})}async function we({filter:Q=null,shuffle:ve=null}={}){e.setMacrotaskCallback(p);let Se=m(),Te=je.console;je.console=new d(I);let Fe=te(T,ie=>ie.only),z=te(Fe.length>0?Fe:T,P(Q));if(F({origin:Se,total:z.length,filteredOut:T.length-z.length,usedOnly:Fe.length>0}),ve!==null){let ie=function(w){let le=2147483648,me=1103515245,b=12345;return function(re){return w=(me*w+b)%le%re}}(ve);for(let w=z.length-1;w>0;w--){let le=ie(w);[z[w],z[le]]=[z[le],z[w]]}}for(let ie of z){let w={origin:Se,name:ie.name},le=Y();Z(w);let me=await E(ie,w),b=Y()-le;ae(w,me,b)}je.console=Te}class Ae{#e;reportedWait=!1;#t=!1;finalized=!1;elapsed=0;status="pending";error=void 0;children=[];constructor(ve){this.#e=ve}get name(){return this.#e.name}get parent(){return this.#e.parent}get rootTestDescription(){return this.#e.rootTestDescription}get sanitizerOptions(){return{sanitizeResources:this.#e.sanitizeResources,sanitizeOps:this.#e.sanitizeOps,sanitizeExit:this.#e.sanitizeExit}}get usesSanitizer(){return this.#e.sanitizeResources||this.#e.sanitizeOps||this.#e.sanitizeExit}get shouldSkipSanitizers(){return this.hasRunningChildren||this.parent?.finalized}get hasRunningChildren(){return fe(this.children,ve=>ve.status==="pending")}failedChildStepsCount(){return te(this.children,ve=>ve.status==="failed").length}canStreamReporting(){return this.selfAndAllAncestorsUseSanitizer()&&this.children.every(ve=>ve.usesSanitizer||ve.finalized)}selfAndAllAncestorsUseSanitizer(){if(!this.usesSanitizer)return!1;for(let ve of this.ancestors())if(!ve.usesSanitizer)return!1;return!0}*ancestors(){let ve=this.parent;for(;ve;)yield ve,ve=ve.parent}getFullName(){return this.parent?`${this.parent.getFullName()} > ${this.name}`:this.name}reportWait(){if(this.reportedWait||!this.parent)return;O(this.#n()),this.reportedWait=!0}reportResult(){if(this.#t||!this.parent)return;this.reportWait();for(let ve of this.children)ve.reportResult();ge(this.#n(),this.#r(),this.elapsed),this.#t=!0}#r(){switch(this.status){case"ok":return"ok";case"ignored":return"ignored";case"pending":return{pending:this.error&&J(this.error)};case"failed":return{failed:this.error&&J(this.error)};default:throw new ne(`Unhandled status: ${this.status}`)}}#n(){return{test:this.rootTestDescription,name:this.name,level:this.#o()}}#o(){let ve=0;for(let Se of this.ancestors())ve++;return ve}}function G(Q){return{[ee]:"TestContext",async step(ve,Se){if(!ue)throw new ne("Test steps are unstable. The --unstable flag must be provided.");if(Q.finalized)throw new ne("Cannot run test step after parent scope has finished execution. Ensure any `.step(...)` calls are executed before their parent scope completes execution.");let Te=z(),Fe=new Ae({name:Te.name,parent:Q,rootTestDescription:Q.rootTestDescription,sanitizeOps:Ue(Te.sanitizeOps,Q.sanitizerOptions.sanitizeOps),sanitizeResources:Ue(Te.sanitizeResources,Q.sanitizerOptions.sanitizeResources),sanitizeExit:Ue(Te.sanitizeExit,Q.sanitizerOptions.sanitizeExit)});R(Q.children,Fe);try{if(Te.ignore)return Fe.status="ignored",Fe.finalized=!0,Fe.canStreamReporting()&&Fe.reportResult(),!1;let ie=pe(Te.fn,Fe.sanitizerOptions),w=Y();try{await ie(Fe),Fe.failedChildStepsCount()>0?Fe.status="failed":Fe.status="ok"}catch(le){Fe.error=J(le),Fe.status="failed"}return Fe.elapsed=Y()-w,Fe.parent?.finalized&&(Fe.status="pending"),Fe.finalized=!0,Fe.reportedWait&&Fe.canStreamReporting()&&Fe.reportResult(),Fe.status==="ok"}finally{if(Q.canStreamReporting())for(let ie of Q.children)ie.reportResult()}function z(){if(typeof ve=="string"){if(!(Se instanceof K))throw new y("Expected function for second argument.");return{name:ve,fn:Se}}else{if(typeof ve=="object")return ve;throw new y("Expected a test definition or name and function.")}}}}}function pe(Q,ve){return Q=k(Q),ve.sanitizeOps&&(Q=u(Q)),ve.sanitizeResources&&(Q=v(Q)),ve.sanitizeExit&&(Q=U(Q)),Q}function Ue(Q,ve){return Q??ve}function it(){ue=!0}i.__bootstrap.internals={...i.__bootstrap.internals??{},runTests:we,enableTestSteps:it},i.__bootstrap.testing={test:f}})(q)}),Yo=pt(q=>{"use strict";(i=>{let e=i.Deno.core;function t(L){return e.opSync("op_console_size",L)}function d(L){return e.opSync("op_isatty",L)}let ce={cbreak:!1};function $(L,he,j={}){let te={...ce,...j};e.opSync("op_set_raw",{rid:L,mode:he,options:te})}i.__bootstrap.tty={consoleSize:t,isatty:d,setRaw:$}})(q)}),Zo=pt(q=>{"use strict";(i=>{let{stat:e,statSync:t,chmod:d,chmodSync:ce}=i.__bootstrap.fs,{open:$,openSync:L}=i.__bootstrap.files,{build:he}=i.__bootstrap.build,{TypedArrayPrototypeSubarray:j}=i.__bootstrap.primordials;function te(ne,K,B={}){if(B?.signal?.aborted)throw new DOMException("The write operation was aborted.","AbortError");if(B.create!==void 0){let h=!!B.create;h||t(ne)}let X=B.append?{write:!0,create:!0,append:!0}:{write:!0,create:!0,truncate:!0},y=L(ne,X);B.mode!==void 0&&B.mode!==null&&he.os!=="windows"&&ce(ne,B.mode);let S=0;for(;S<K.length;)S+=y.writeSync(j(K,S));y.close()}async function R(ne,K,B={}){if(B.create!==void 0){let A=!!B.create;A||await e(ne)}let X=B.append?{write:!0,create:!0,append:!0}:{write:!0,create:!0,truncate:!0},y=await $(ne,X);B.mode!==void 0&&B.mode!==null&&he.os!=="windows"&&await d(ne,B.mode);let S=B?.signal??null,h=0;for(;!S?.aborted&&h<K.length;)h+=await y.write(j(K,h));if(y.close(),S?.aborted)throw new DOMException("The write operation was aborted.","AbortError")}function fe(ne,K,B={}){let X=new TextEncoder;return te(ne,X.encode(K),B)}function Y(ne,K,B={}){let X=new TextEncoder;return R(ne,X.encode(K),B)}i.__bootstrap.writeFile={writeTextFile:Y,writeTextFileSync:fe,writeFile:R,writeFileSync:te}})(q)}),Xo=pt(q=>{"use strict";(i=>{let{stdin:e}=i.__bootstrap.files,{ArrayPrototypePush:t,StringPrototypeCharCodeAt:d,Uint8Array:ce}=i.__bootstrap.primordials,{isatty:$}=i.__bootstrap.tty,L=d(`
`,0),he=d("\r",0),j=i.Deno.core;function te(ne="Alert"){if(!$(e.rid))return;j.print(`${ne} [Enter] `,!1),Y()}function R(ne="Confirm"){if(!$(e.rid))return!1;j.print(`${ne} [y/N] `,!1);let K=Y();return K==="Y"||K==="y"}function fe(ne="Prompt",K){return K??=null,$(e.rid)?(j.print(`${ne} `,!1),K&&j.print(`[${K}] `,!1),Y()||K):null}function Y(){let ne=new ce(1),K=[];for(;;){let B=e.readSync(ne);if(B===null||B===0)break;if(ne[0]===he){let X=e.readSync(ne);if(ne[0]===L)break;if(t(K,he),X===null||X===0)break}if(ne[0]===L)break;t(K,ne[0])}return j.decode(new ce(K))}i.__bootstrap.prompt={alert:te,confirm:R,prompt:fe}})(q)}),es=pt(q=>{"use strict";(i=>{let e=i.Deno.core,t=i.__bootstrap;t.denoNs={metrics:e.metrics,test:t.testing.test,Process:t.process.Process,run:t.process.run,isatty:t.tty.isatty,writeFileSync:t.writeFile.writeFileSync,writeFile:t.writeFile.writeFile,writeTextFileSync:t.writeFile.writeTextFileSync,writeTextFile:t.writeFile.writeTextFile,readTextFile:t.readFile.readTextFile,readTextFileSync:t.readFile.readTextFileSync,readFile:t.readFile.readFile,readFileSync:t.readFile.readFileSync,watchFs:t.fsEvents.watchFs,chmodSync:t.fs.chmodSync,chmod:t.fs.chmod,chown:t.fs.chown,chownSync:t.fs.chownSync,copyFileSync:t.fs.copyFileSync,cwd:t.fs.cwd,makeTempDirSync:t.fs.makeTempDirSync,makeTempDir:t.fs.makeTempDir,makeTempFileSync:t.fs.makeTempFileSync,makeTempFile:t.fs.makeTempFile,mkdirSync:t.fs.mkdirSync,mkdir:t.fs.mkdir,chdir:t.fs.chdir,copyFile:t.fs.copyFile,readDirSync:t.fs.readDirSync,readDir:t.fs.readDir,readLinkSync:t.fs.readLinkSync,readLink:t.fs.readLink,realPathSync:t.fs.realPathSync,realPath:t.fs.realPath,removeSync:t.fs.removeSync,remove:t.fs.remove,renameSync:t.fs.renameSync,rename:t.fs.rename,version:t.version.version,build:t.build.build,statSync:t.fs.statSync,lstatSync:t.fs.lstatSync,stat:t.fs.stat,lstat:t.fs.lstat,truncateSync:t.fs.truncateSync,truncate:t.fs.truncate,ftruncateSync:t.fs.ftruncateSync,ftruncate:t.fs.ftruncate,errors:t.errors.errors,customInspect:t.console.customInspect,inspect:t.console.inspect,env:t.os.env,exit:t.os.exit,execPath:t.os.execPath,Buffer:t.buffer.Buffer,readAll:t.buffer.readAll,readAllSync:t.buffer.readAllSync,writeAll:t.buffer.writeAll,writeAllSync:t.buffer.writeAllSync,copy:t.io.copy,iter:t.io.iter,iterSync:t.io.iterSync,SeekMode:t.io.SeekMode,read:t.io.read,readSync:t.io.readSync,write:t.io.write,writeSync:t.io.writeSync,File:t.files.File,open:t.files.open,openSync:t.files.openSync,create:t.files.create,createSync:t.files.createSync,stdin:t.files.stdin,stdout:t.files.stdout,stderr:t.files.stderr,seek:t.files.seek,seekSync:t.files.seekSync,connect:t.net.connect,listen:t.net.listen,connectTls:t.tls.connectTls,listenTls:t.tls.listenTls,startTls:t.tls.startTls,shutdown:t.net.shutdown,fstatSync:t.fs.fstatSync,fstat:t.fs.fstat,fsyncSync:t.fs.fsyncSync,fsync:t.fs.fsync,fdatasyncSync:t.fs.fdatasyncSync,fdatasync:t.fs.fdatasync,symlink:t.fs.symlink,symlinkSync:t.fs.symlinkSync,link:t.fs.link,linkSync:t.fs.linkSync,permissions:t.permissions.permissions,Permissions:t.permissions.Permissions,PermissionStatus:t.permissions.PermissionStatus,serveHttp:t.http.serveHttp,resolveDns:t.net.resolveDns,upgradeWebSocket:t.http.upgradeWebSocket,kill:t.process.kill},t.denoNsUnstable={addSignalListener:t.signals.addSignalListener,removeSignalListener:t.signals.removeSignalListener,emit:t.compilerApi.emit,setRaw:t.tty.setRaw,consoleSize:t.tty.consoleSize,DiagnosticCategory:t.diagnostics.DiagnosticCategory,loadavg:t.os.loadavg,hostname:t.os.hostname,osRelease:t.os.osRelease,systemMemoryInfo:t.os.systemMemoryInfo,applySourceMap:t.errorStack.opApplySourceMap,formatDiagnostics:t.errorStack.opFormatDiagnostics,sleepSync:t.timers.sleepSync,listen:t.netUnstable.listen,connect:t.netUnstable.connect,listenDatagram:t.netUnstable.listenDatagram,umask:t.fs.umask,futime:t.fs.futime,futimeSync:t.fs.futimeSync,utime:t.fs.utime,utimeSync:t.fs.utimeSync,HttpClient:t.fetch.HttpClient,createHttpClient:t.fetch.createHttpClient,http:t.http,dlopen:t.ffi.dlopen,flock:t.fs.flock,flockSync:t.fs.flockSync,funlock:t.fs.funlock,funlockSync:t.fs.funlockSync,refTimer:t.timers.refTimer,unrefTimer:t.timers.unrefTimer}})(q)}),ts=pt(q=>{"use strict";delete Object.prototype.__proto__,(i=>{let e=je.Deno.core,{ArrayPrototypeMap:t,Error:d,FunctionPrototypeCall:ce,FunctionPrototypeBind:$,ObjectAssign:L,ObjectDefineProperty:he,ObjectDefineProperties:j,ObjectFreeze:te,ObjectSetPrototypeOf:R,PromiseResolve:fe,Symbol:Y,SymbolFor:ne,SymbolIterator:K,PromisePrototypeThen:B,TypeError:X}=i.__bootstrap.primordials,y=i.__bootstrap.util,S=i.__bootstrap.eventTarget,h=i.__bootstrap.globalInterfaces,A=i.__bootstrap.location,V=i.__bootstrap.build,M=i.__bootstrap.version,g=i.__bootstrap.errorStack,_=i.__bootstrap.os,ee=i.__bootstrap.timers,ue=i.__bootstrap.base64,D=i.__bootstrap.encoding,C=i.__bootstrap.console.Console,p=i.__bootstrap.worker,u=i.__bootstrap.internals,v=i.__bootstrap.performance,U=i.__bootstrap.crypto,k=i.__bootstrap.url,l=i.__bootstrap.urlPattern,T=i.__bootstrap.headers,f=i.__bootstrap.streams,J=i.__bootstrap.fileReader,P=i.__bootstrap.webgpu,E=i.__bootstrap.webSocket,m=i.__bootstrap.webStorage,F=i.__bootstrap.broadcastChannel,I=i.__bootstrap.file,Z=i.__bootstrap.formData,ae=i.__bootstrap.fetch,O=i.__bootstrap.prompt,ge=i.__bootstrap.messagePort,we=i.__bootstrap.denoNs,Ae=i.__bootstrap.denoNsUnstable,G=i.__bootstrap.errors.errors,pe=i.__bootstrap.webidl,Ue=i.__bootstrap.domException,{defineEventHandler:it}=i.__bootstrap.event,{deserializeJsMessageData:Q,serializeJsMessageData:ve}=i.__bootstrap.messagePort,Se=!1;function Te(){Se||(Se=!0,B(fe(),()=>ce(ee.setTimeout,null,()=>{_.exit(0)},0)))}function Fe(){if(ie)return;ie=!0,e.opSync("op_worker_close")}function z(mt,ot={}){let Dt="Failed to execute 'postMessage' on 'DedicatedWorkerGlobalScope'";pe.requiredArguments(arguments.length,1,{prefix:Dt}),mt=pe.converters.any(mt);let At;if(pe.type(ot)==="Object"&&ot!==void 0&&ot[K]!==void 0){let N=pe.converters["sequence<object>"](ot,{prefix:Dt,context:"Argument 2"});At={transfer:N}}else At=pe.converters.StructuredSerializeOptions(ot,{prefix:Dt,context:"Argument 2"});let{transfer:kt}=At,_e=ve(mt,kt);e.opSync("op_worker_post_message",_e)}let ie=!1,w;async function le(){for(w||(w=$(je.dispatchEvent,je));!ie;){let mt=await e.opAsync("op_worker_recv_message");if(mt===null)break;let ot=Q(mt),Dt=ot[0],At=ot[1],kt=new MessageEvent("message",{cancelable:!1,data:Dt,ports:At.filter(_e=>_e instanceof MessagePort)});try{w(kt)}catch(_e){let N=new ErrorEvent("error",{cancelable:!0,message:_e.message,lineno:_e.lineNumber?_e.lineNumber+1:void 0,colno:_e.columnNumber?_e.columnNumber+1:void 0,filename:_e.fileName,error:_e});if(w(N),!N.defaultPrevented)throw _e}}}let me=!1;function b(...mt){if(e.opSync("op_worker_get_type")==="module")throw new X("Can't import scripts in a module worker.");let ot=A.getLocationHref(),Dt=t(mt,kt=>{try{return new k.URL(kt,ot??void 0).href}catch{throw new Ue.DOMException("Failed to parse URL.","SyntaxError")}}),At=e.opSync("op_worker_sync_fetch",Dt,!me);me=!0;for(let{url:kt,script:_e}of At){let N=e.evalContext(_e,kt)[1];if(N!==null)throw N.thrown}}function re(){return e.opSync("op_main_module")}function De(mt,ot){e.setMacrotaskCallback(ee.handleTimerMacrotask),e.setWasmStreamingCallback(ae.handleWasmStreaming),M.setVersions(mt.denoVersion,mt.v8Version,mt.tsVersion),mt.unstableFlag&&u.enableTestSteps(),V.setBuildInfo(mt.target),y.setLogDebug(mt.debugFlag,ot);let Dt=e.createPrepareStackTrace(mt.applySourceMaps?g.opApplySourceMap:void 0,g.opFormatFileName);d.prepareStackTrace=Dt}function Re(){e.registerErrorClass("NotFound",G.NotFound),e.registerErrorClass("PermissionDenied",G.PermissionDenied),e.registerErrorClass("ConnectionRefused",G.ConnectionRefused),e.registerErrorClass("ConnectionReset",G.ConnectionReset),e.registerErrorClass("ConnectionAborted",G.ConnectionAborted),e.registerErrorClass("NotConnected",G.NotConnected),e.registerErrorClass("AddrInUse",G.AddrInUse),e.registerErrorClass("AddrNotAvailable",G.AddrNotAvailable),e.registerErrorClass("BrokenPipe",G.BrokenPipe),e.registerErrorClass("AlreadyExists",G.AlreadyExists),e.registerErrorClass("InvalidData",G.InvalidData),e.registerErrorClass("TimedOut",G.TimedOut),e.registerErrorClass("Interrupted",G.Interrupted),e.registerErrorClass("WriteZero",G.WriteZero),e.registerErrorClass("UnexpectedEof",G.UnexpectedEof),e.registerErrorClass("BadResource",G.BadResource),e.registerErrorClass("Http",G.Http),e.registerErrorClass("Busy",G.Busy),e.registerErrorClass("NotSupported",G.NotSupported),e.registerErrorBuilder("DOMExceptionOperationError",function(ot){return new Ue.DOMException(ot,"OperationError")}),e.registerErrorBuilder("DOMExceptionQuotaExceededError",function(ot){return new Ue.DOMException(ot,"QuotaExceededError")}),e.registerErrorBuilder("DOMExceptionNotSupportedError",function(ot){return new Ue.DOMException(ot,"NotSupported")}),e.registerErrorBuilder("DOMExceptionNetworkError",function(ot){return new Ue.DOMException(ot,"NetworkError")}),e.registerErrorBuilder("DOMExceptionAbortError",function(ot){return new Ue.DOMException(ot,"AbortError")}),e.registerErrorBuilder("DOMExceptionInvalidCharacterError",function(ot){return new Ue.DOMException(ot,"InvalidCharacterError")}),e.registerErrorBuilder("DOMExceptionDataError",function(ot){return new Ue.DOMException(ot,"DataError")})}class ye{constructor(){pe.illegalConstructor()}[ne("Deno.privateCustomInspect")](ot){return`${this.constructor.name} ${ot({})}`}}let Ze=pe.createBranded(ye),gt;j(ye.prototype,{gpu:{configurable:!0,enumerable:!0,get(){return pe.assertBranded(this,ye),P.gpu}},hardwareConcurrency:{configurable:!0,enumerable:!0,get(){return pe.assertBranded(this,ye),gt}}});class Ie{constructor(){pe.illegalConstructor()}[ne("Deno.privateCustomInspect")](ot){return`${this.constructor.name} ${ot({})}`}}let Ft=pe.createBranded(Ie);j(Ie.prototype,{gpu:{configurable:!0,enumerable:!0,get(){return pe.assertBranded(this,Ie),P.gpu}},hardwareConcurrency:{configurable:!0,enumerable:!0,get(){return pe.assertBranded(this,Ie),gt}}});let St={Blob:y.nonEnumerable(I.Blob),ByteLengthQueuingStrategy:y.nonEnumerable(f.ByteLengthQueuingStrategy),CloseEvent:y.nonEnumerable(CloseEvent),CountQueuingStrategy:y.nonEnumerable(f.CountQueuingStrategy),CryptoKey:y.nonEnumerable(U.CryptoKey),CustomEvent:y.nonEnumerable(CustomEvent),DOMException:y.nonEnumerable(Ue.DOMException),ErrorEvent:y.nonEnumerable(ErrorEvent),Event:y.nonEnumerable(Event),EventTarget:y.nonEnumerable(EventTarget),File:y.nonEnumerable(I.File),FileReader:y.nonEnumerable(J.FileReader),FormData:y.nonEnumerable(Z.FormData),Headers:y.nonEnumerable(T.Headers),MessageEvent:y.nonEnumerable(MessageEvent),Performance:y.nonEnumerable(v.Performance),PerformanceEntry:y.nonEnumerable(v.PerformanceEntry),PerformanceMark:y.nonEnumerable(v.PerformanceMark),PerformanceMeasure:y.nonEnumerable(v.PerformanceMeasure),ProgressEvent:y.nonEnumerable(ProgressEvent),ReadableStream:y.nonEnumerable(f.ReadableStream),ReadableStreamDefaultReader:y.nonEnumerable(f.ReadableStreamDefaultReader),Request:y.nonEnumerable(ae.Request),Response:y.nonEnumerable(ae.Response),TextDecoder:y.nonEnumerable(D.TextDecoder),TextEncoder:y.nonEnumerable(D.TextEncoder),TextDecoderStream:y.nonEnumerable(D.TextDecoderStream),TextEncoderStream:y.nonEnumerable(D.TextEncoderStream),TransformStream:y.nonEnumerable(f.TransformStream),URL:y.nonEnumerable(k.URL),URLPattern:y.nonEnumerable(l.URLPattern),URLSearchParams:y.nonEnumerable(k.URLSearchParams),WebSocket:y.nonEnumerable(E.WebSocket),MessageChannel:y.nonEnumerable(ge.MessageChannel),MessagePort:y.nonEnumerable(ge.MessagePort),Worker:y.nonEnumerable(p.Worker),WritableStream:y.nonEnumerable(f.WritableStream),WritableStreamDefaultWriter:y.nonEnumerable(f.WritableStreamDefaultWriter),WritableStreamDefaultController:y.nonEnumerable(f.WritableStreamDefaultController),ReadableByteStreamController:y.nonEnumerable(f.ReadableByteStreamController),ReadableStreamBYOBReader:y.nonEnumerable(f.ReadableStreamBYOBReader),ReadableStreamBYOBRequest:y.nonEnumerable(f.ReadableStreamBYOBRequest),ReadableStreamDefaultController:y.nonEnumerable(f.ReadableStreamDefaultController),TransformStreamDefaultController:y.nonEnumerable(f.TransformStreamDefaultController),atob:y.writable(ue.atob),btoa:y.writable(ue.btoa),clearInterval:y.writable(ee.clearInterval),clearTimeout:y.writable(ee.clearTimeout),console:y.nonEnumerable(new C((mt,ot)=>e.print(mt,ot>1))),crypto:y.readOnly(U.crypto),Crypto:y.nonEnumerable(U.Crypto),SubtleCrypto:y.nonEnumerable(U.SubtleCrypto),fetch:y.writable(ae.fetch),performance:y.writable(v.performance),setInterval:y.writable(ee.setInterval),setTimeout:y.writable(ee.setTimeout),structuredClone:y.writable(ge.structuredClone)},dt={BroadcastChannel:y.nonEnumerable(F.BroadcastChannel),WebSocketStream:y.nonEnumerable(E.WebSocketStream),GPU:y.nonEnumerable(P.GPU),GPUAdapter:y.nonEnumerable(P.GPUAdapter),GPUSupportedLimits:y.nonEnumerable(P.GPUSupportedLimits),GPUSupportedFeatures:y.nonEnumerable(P.GPUSupportedFeatures),GPUDevice:y.nonEnumerable(P.GPUDevice),GPUQueue:y.nonEnumerable(P.GPUQueue),GPUBuffer:y.nonEnumerable(P.GPUBuffer),GPUBufferUsage:y.nonEnumerable(P.GPUBufferUsage),GPUMapMode:y.nonEnumerable(P.GPUMapMode),GPUTexture:y.nonEnumerable(P.GPUTexture),GPUTextureUsage:y.nonEnumerable(P.GPUTextureUsage),GPUTextureView:y.nonEnumerable(P.GPUTextureView),GPUSampler:y.nonEnumerable(P.GPUSampler),GPUBindGroupLayout:y.nonEnumerable(P.GPUBindGroupLayout),GPUPipelineLayout:y.nonEnumerable(P.GPUPipelineLayout),GPUBindGroup:y.nonEnumerable(P.GPUBindGroup),GPUShaderModule:y.nonEnumerable(P.GPUShaderModule),GPUShaderStage:y.nonEnumerable(P.GPUShaderStage),GPUComputePipeline:y.nonEnumerable(P.GPUComputePipeline),GPURenderPipeline:y.nonEnumerable(P.GPURenderPipeline),GPUColorWrite:y.nonEnumerable(P.GPUColorWrite),GPUCommandEncoder:y.nonEnumerable(P.GPUCommandEncoder),GPURenderPassEncoder:y.nonEnumerable(P.GPURenderPassEncoder),GPUComputePassEncoder:y.nonEnumerable(P.GPUComputePassEncoder),GPUCommandBuffer:y.nonEnumerable(P.GPUCommandBuffer),GPURenderBundleEncoder:y.nonEnumerable(P.GPURenderBundleEncoder),GPURenderBundle:y.nonEnumerable(P.GPURenderBundle),GPUQuerySet:y.nonEnumerable(P.GPUQuerySet),GPUOutOfMemoryError:y.nonEnumerable(P.GPUOutOfMemoryError),GPUValidationError:y.nonEnumerable(P.GPUValidationError)},Lt={Location:A.locationConstructorDescriptor,location:A.locationDescriptor,Window:h.windowConstructorDescriptor,window:y.readOnly(je),self:y.writable(je),Navigator:y.nonEnumerable(ye),navigator:{configurable:!0,enumerable:!0,get:()=>Ze},close:y.writable(Te),closed:y.getterOnly(()=>Se),alert:y.writable(O.alert),confirm:y.writable(O.confirm),prompt:y.writable(O.prompt),localStorage:{configurable:!0,enumerable:!0,get:m.localStorage},sessionStorage:{configurable:!0,enumerable:!0,get:m.sessionStorage},Storage:y.nonEnumerable(m.Storage)},Tt={WorkerLocation:A.workerLocationConstructorDescriptor,location:A.workerLocationDescriptor,WorkerGlobalScope:h.workerGlobalScopeConstructorDescriptor,DedicatedWorkerGlobalScope:h.dedicatedWorkerGlobalScopeConstructorDescriptor,WorkerNavigator:y.nonEnumerable(Ie),navigator:{configurable:!0,enumerable:!0,get:()=>Ft},self:y.readOnly(je),close:y.nonEnumerable(Fe),postMessage:y.writable(z)},$e=!1;function zt(mt){if($e)throw new d("Worker runtime already bootstrapped");let ot=i.console,Dt=i.__bootstrap.console.wrapConsole;delete je.__bootstrap,delete je.bootstrap,y.log("bootstrapMainRuntime"),$e=!0,j(je,St),mt.unstableFlag&&j(je,dt),j(je,Lt),R(je,Window.prototype);let At=je.console;Dt(At,ot),S.setEventTargetData(je),it(i,"load"),it(i,"unload");let kt=ne("isUnloadDispatched");i[kt]=!1,i.addEventListener("unload",()=>{i[kt]=!0}),De(mt);let{args:_e,location:N,noColor:Pe,pid:Qe,ppid:st,unstableFlag:ct,cpuCount:ut}=mt;N!=null&&A.setLocationHref(N),gt=ut,Re();let Et=Y("Deno.internal"),_t={core:e,internal:Et,[Et]:u,resources:e.resources,close:e.close,memoryUsage:e.memoryUsage,...we};j(_t,{pid:y.readOnly(Qe),ppid:y.readOnly(st),noColor:y.readOnly(Pe),args:y.readOnly(te(_e)),mainModule:y.getterOnly(re)}),ct&&L(_t,Ae),he(je,"Deno",y.readOnly(_t)),te(je.Deno.core),y.log("args",_e)}function qt(mt,ot,Dt,At){if($e)throw new d("Worker runtime already bootstrapped");let kt=i.console,_e=i.__bootstrap.console.wrapConsole;delete je.__bootstrap,delete je.bootstrap,y.log("bootstrapWorkerRuntime"),$e=!0,j(je,St),mt.unstableFlag&&j(je,dt),j(je,Tt),j(je,{name:y.writable(ot)}),mt.enableTestingFeaturesFlag&&he(je,"importScripts",y.writable(b)),R(je,DedicatedWorkerGlobalScope.prototype);let N=je.console;_e(N,kt),S.setEventTargetData(je),it(self,"message"),it(self,"error",void 0,!0),De(mt,At??ot);let{unstableFlag:Pe,pid:Qe,noColor:st,args:ct,location:ut,cpuCount:Et}=mt;A.setLocationHref(ut),gt=Et,Re(),le();let _t=Y("Deno.internal"),Pt={core:e,internal:_t,[_t]:u,resources:e.resources,close:e.close,...we};Dt?(Pe&&L(Pt,Ae),j(Pt,{pid:y.readOnly(Qe),noColor:y.readOnly(st),args:y.readOnly(te(ct))}),he(je,"Deno",y.readOnly(Pt)),te(je.Deno.core)):(delete je.Deno,y.assert(je.Deno===void 0))}j(je,{bootstrap:{value:{mainRuntime:zt,workerRuntime:qt},configurable:!0}})})(q)});"use strict";(()=>{let q={},{defineProperty:i,getOwnPropertyDescriptor:e,ownKeys:t}=Reflect,{apply:d,bind:ce,call:$}=Function.prototype,L=ce.bind($);q.uncurryThis=L;let he=ce.bind(d);q.applyBind=he;let j=["ArrayOf","ArrayPrototypePush","ArrayPrototypeUnshift","MathHypot","MathMax","MathMin","StringPrototypeConcat","TypedArrayOf"];function te(p){return typeof p=="symbol"?`Symbol${p.description[7].toUpperCase()}${p.description.slice(8)}`:`${p[0].toUpperCase()}${p.slice(1)}`}function R(p,u,v,{enumerable:U,get:k,set:l}){i(p,`${u}Get${v}`,{value:L(k),enumerable:U}),l!==void 0&&i(p,`${u}Set${v}`,{value:L(l),enumerable:U})}function fe(p,u,v){for(let U of t(p)){let k=te(U),l=e(p,U);if("get"in l)R(u,v,k,l);else{let T=`${v}${k}`;i(u,T,l),j.includes(T)&&i(u,`${T}Apply`,{value:he(l.value,p)})}}}function Y(p,u,v){for(let U of t(p)){let k=te(U),l=e(p,U);if("get"in l)R(u,v,k,l);else{let{value:T}=l;typeof T=="function"&&(l.value=T.bind(p));let f=`${v}${k}`;i(u,f,l),j.includes(f)&&i(u,`${f}Apply`,{value:he(T,p)})}}}function ne(p,u,v){for(let U of t(p)){let k=te(U),l=e(p,U);if("get"in l)R(u,v,k,l);else{let{value:T}=l;typeof T=="function"&&(l.value=L(T));let f=`${v}${k}`;i(u,f,l),j.includes(f)&&i(u,`${f}Apply`,{value:he(T)})}}}["Proxy","__context"].forEach(p=>{q[p]=je[p]}),q[isNaN.name]=isNaN,q.queueMicrotask=queueMicrotask,[decodeURI,decodeURIComponent,encodeURI,encodeURIComponent].forEach(p=>{q[p.name]=p}),["JSON","Math","Proxy","Reflect"].forEach(p=>{fe(je[p],q,p)}),["AggregateError","Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","Int16Array","Int32Array","Int8Array","Map","Number","Object","RangeError","ReferenceError","RegExp","Set","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakRef","WeakSet"].forEach(p=>{let u=je[p];q[p]=u,fe(u,q,p),ne(u.prototype,q,`${p}Prototype`)}),["Promise"].forEach(p=>{let u=je[p];q[p]=u,Y(u,q,p),ne(u.prototype,q,`${p}Prototype`)}),[{name:"TypedArray",original:Reflect.getPrototypeOf(Uint8Array)},{name:"ArrayIterator",original:{prototype:Reflect.getPrototypeOf(Array.prototype[Symbol.iterator]())}},{name:"StringIterator",original:{prototype:Reflect.getPrototypeOf(String.prototype[Symbol.iterator]())}}].forEach(({name:p,original:u})=>{q[p]=u,ne(u,q,p),ne(u.prototype,q,`${p}Prototype`)});let{ArrayPrototypeForEach:K,FunctionPrototypeCall:B,Map:X,ObjectFreeze:y,ObjectSetPrototypeOf:S,Promise:h,PromisePrototypeThen:A,Set:V,SymbolIterator:M,WeakMap:g,WeakSet:_}=q,ee=(p,u)=>{class v{constructor(k){this._iterator=p(k)}next(){return u(this._iterator)}[M](){return this}}return S(v.prototype,null),y(v.prototype),y(v),v};q.SafeArrayIterator=ee(q.ArrayPrototypeSymbolIterator,q.ArrayIteratorPrototypeNext),q.SafeStringIterator=ee(q.StringPrototypeSymbolIterator,q.StringIteratorPrototypeNext);let ue=(p,u)=>{K(t(p),v=>{e(u,v)||i(u,v,e(p,v))})},D=(p,u)=>{if(M in p.prototype){let v=new p,U;K(t(p.prototype),k=>{if(!e(u.prototype,k)){let l=e(p.prototype,k);if(typeof l.value=="function"&&l.value.length===0&&M in(B(l.value,v)??{})){let T=L(l.value);U??=L(T(v).next);let f=ee(T,U);l.value=function(){return new f(this)}}i(u.prototype,k,l)}})}else ue(p.prototype,u.prototype);return ue(p,u),S(u.prototype,null),y(u.prototype),y(u),u};q.makeSafe=D,q.SafeMap=D(X,class extends X{constructor(u){super(u)}}),q.SafeWeakMap=D(g,class extends g{constructor(u){super(u)}}),q.SafeSet=D(V,class extends V{constructor(u){super(u)}}),q.SafeWeakSet=D(_,class extends _{constructor(u){super(u)}}),q.SafeFinalizationRegistry=D(FinalizationRegistry,class extends FinalizationRegistry{constructor(u){super(u)}}),q.SafeWeakRef=D(WeakRef,class extends WeakRef{constructor(u){super(u)}});let C=D(h,class extends h{constructor(u){super(u)}});q.PromisePrototypeCatch=(p,u)=>A(p,void 0,u),q.SafePromisePrototypeFinally=(p,u)=>new h((v,U)=>new C((k,l)=>A(p,k,l)).finally(u).then(v,U)),S(q,null),y(q),je.__bootstrap={primordials:q}})();"use strict";(q=>{let{Error:i,RangeError:e,ReferenceError:t,SyntaxError:d,TypeError:ce,URIError:$,Map:L,Array:he,ArrayPrototypeFill:j,ArrayPrototypeMap:te,ErrorCaptureStackTrace:R,Promise:fe,ObjectEntries:Y,ObjectFreeze:ne,ObjectFromEntries:K,MapPrototypeGet:B,MapPrototypeDelete:X,MapPrototypeSet:y,PromisePrototypeThen:S,ObjectAssign:h,SymbolFor:A}=q.__bootstrap.primordials,{opcallSync:V,opcallAsync:M}=q.Deno.core,g={},_={};J("Error",i),J("RangeError",e),J("ReferenceError",t),J("SyntaxError",d),J("TypeError",ce),J("URIError",$);let ee=1,ue=new L,D=4*1024,C=null,p=j(new he(D),C),u=A("Deno.core.internalPromiseId");function v(Q){let ve=Q%D,Se=p[ve];if(Se!==C){let Te=Q-D;y(ue,Te,Se)}return p[ve]=k()}function U(Q){let ve=Q<ee-D;if(ve){let Fe=B(ue,Q);return X(ue,Q),Fe}let Se=Q%D,Te=p[Se];return p[Se]=C,Te}function k(){let Q,ve,Se=new fe((Te,Fe)=>{Q=Te,ve=Fe});return Se.resolve=Q,Se.reject=ve,Se}function l(){return g}function T(){g=ne(K(V(0)))}function f(){for(let Q=0;Q<arguments.length;Q+=2){let ve=arguments[Q],Se=arguments[Q+1],Te=U(ve);Te.resolve(Se)}}function J(Q,ve){P(Q,Se=>new ve(Se))}function P(Q,ve){if(typeof _[Q]!="undefined")throw new ce(`Error class for "${Q}" already registered`);_[Q]=ve}function E(Q){if(Q?.$err_class_name){let ve=Q.$err_class_name,Se=_[ve],Te=Se?Se(Q.message):new i(`Unregistered error class: "${ve}"
    ${Q.message}
    Classes of errors returned from ops should be registered via__context.Deno.core.registerErrorClass().`);throw Q.code&&(Te.code=Q.code),R(Te,E),Te}return Q}function m(Q,ve=null,Se=null){let Te=ee++,Fe=M(g[Q],Te,ve,Se);if(Fe)return E(Fe);let z=S(v(Te),E);return z[u]=Te,z}function F(Q,ve=null,Se=null){return E(V(g[Q],ve,Se))}function I(){return K(F("op_resources"))}function Z(Q,ve){return m("op_read",Q,ve)}function ae(Q,ve){return m("op_write",Q,ve)}function O(Q){return m("op_shutdown",Q)}function ge(Q){F("op_close",Q)}function we(Q){F("op_try_close",Q)}function Ae(Q,ve=!1){F("op_print",Q,ve)}function G(){let[Q,ve]=F("op_metrics");return Q.ops=K(te(Y(g),([Se,Te])=>[Se,ve[Te]])),Q}class pe extends i{constructor(ve){super(ve);this.name="BadResource"}}class Ue extends i{constructor(ve){super(ve);this.name="Interrupted"}}let it=h(je.Deno.core,{opAsync:m,opSync:F,ops:l,close:ge,tryClose:we,read:Z,write:ae,shutdown:O,print:Ae,resources:I,metrics:G,registerErrorBuilder:P,registerErrorClass:J,opresolve:f,syncOpsCache:T,BadResource:pe,Interrupted:Ue});h(je.__bootstrap,{core:it}),h(je.Deno,{core:it})})(je),Yn(),Zn(),Xn(),eo(),to();"use strict";(q=>{let i=q.Deno.core,e=q.__bootstrap.webidl,{ArrayPrototypeMap:t,ObjectKeys:d,ObjectFromEntries:ce,RegExp:$,RegExpPrototypeExec:L,RegExpPrototypeTest:he,Symbol:j,SymbolFor:te,TypeError:R}=q.__bootstrap.primordials,fe=j("components");class Y{[fe];constructor(K,B=void 0){this[e.brand]=e.brand;let X="Failed to construct 'URLPattern'";e.requiredArguments(arguments.length,1,{prefix:X}),K=e.converters.URLPatternInput(K,{prefix:X,context:"Argument 1"}),B!==void 0&&(B=e.converters.USVString(B,{prefix:X,context:"Argument 2"}));let y=i.opSync("op_urlpattern_parse",K,B);for(let S of d(y))try{y[S].regexp=new $(y[S].regexpString,"u")}catch(h){throw new R(`${X}: ${S} is invalid; ${h.message}`)}this[fe]=y}get protocol(){return e.assertBranded(this,Y),this[fe].protocol.patternString}get username(){return e.assertBranded(this,Y),this[fe].username.patternString}get password(){return e.assertBranded(this,Y),this[fe].password.patternString}get hostname(){return e.assertBranded(this,Y),this[fe].hostname.patternString}get port(){return e.assertBranded(this,Y),this[fe].port.patternString}get pathname(){return e.assertBranded(this,Y),this[fe].pathname.patternString}get search(){return e.assertBranded(this,Y),this[fe].search.patternString}get hash(){return e.assertBranded(this,Y),this[fe].hash.patternString}test(K,B=void 0){e.assertBranded(this,Y);let X="Failed to execute 'test' on 'URLPattern'";e.requiredArguments(arguments.length,1,{prefix:X}),K=e.converters.URLPatternInput(K,{prefix:X,context:"Argument 1"}),B!==void 0&&(B=e.converters.USVString(B,{prefix:X,context:"Argument 2"}));let y=i.opSync("op_urlpattern_process_match_input",K,B);if(y===null)return!1;let[S]=y;for(let h of d(S))if(!he(this[fe][h].regexp,S[h]))return!1;return!0}exec(K,B=void 0){e.assertBranded(this,Y);let X="Failed to execute 'exec' on 'URLPattern'";e.requiredArguments(arguments.length,1,{prefix:X}),K=e.converters.URLPatternInput(K,{prefix:X,context:"Argument 1"}),B!==void 0&&(B=e.converters.USVString(B,{prefix:X,context:"Argument 2"}));let y=i.opSync("op_urlpattern_process_match_input",K,B);if(y===null)return null;let[S,h]=y;h[1]===null&&h.pop();let A={inputs:h};for(let V of d(S)){let M=this[fe][V],g=S[V],_=L(M.regexp,g);if(_===null)return null;let ee=t(M.groupNameList,(D,C)=>[D,_[C+1]??""]),ue=ce(ee);A[V]={input:g,groups:ue}}return A}[te("Deno.customInspect")](K){return`URLPattern ${K({protocol:this.protocol,username:this.username,password:this.password,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,hash:this.hash})}`}}e.configurePrototype(Y),e.converters.URLPatternInit=e.createDictionaryConverter("URLPatternInit",[{key:"protocol",converter:e.converters.USVString},{key:"username",converter:e.converters.USVString},{key:"password",converter:e.converters.USVString},{key:"hostname",converter:e.converters.USVString},{key:"port",converter:e.converters.USVString},{key:"pathname",converter:e.converters.USVString},{key:"search",converter:e.converters.USVString},{key:"hash",converter:e.converters.USVString},{key:"baseURL",converter:e.converters.USVString}]),e.converters.URLPatternInput=(ne,K)=>typeof ne=="object"?e.converters.URLPatternInit(ne,K):e.converters.USVString(ne,K),q.__bootstrap.urlPattern={URLPattern:Y}})(je);"use strict";(q=>{let i=je.Deno.core,{RegExp:e,ArrayPrototypeMap:t,StringPrototypeCharCodeAt:d,NumberPrototypeToString:ce,StringPrototypePadStart:$,TypeError:L,ArrayPrototypeJoin:he,StringPrototypeCharAt:j,StringPrototypeMatch:te,StringPrototypeSlice:R,String:fe,StringPrototypeReplace:Y,StringPrototypeToUpperCase:ne,StringPrototypeToLowerCase:K,StringPrototypeSubstring:B}=q.__bootstrap.primordials,X=["0-9"],y=["A-Z"],S=["a-z"],h=[...y,...S],A=[...X,...h],V=["	"," "],M=[`
`,"\r",...V],g=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~",...A],_=new e(`^[${l(g)}]+$`),ee=["	"," -~","\x80-\xFF"],ue=new e(`^[${l(ee)}]+$`),D=l(V),C=new e(`^[${D}]+`,"g"),p=new e(`[${D}]+$`,"g"),u=l(M),v=new e(`^[${u}]*(.*?)[${u}]*$`),U=new e(`^[${u}]+`,"g"),k=new e(`[${u}]+$`,"g");function l(Z){let ae=t(Z,O=>{if(O.length===1){let ge=$(ce(d(O,0),16),4,"0");return`\\u${ge}`}else if(O.length===3&&O[1]==="-"){let ge=$(ce(d(O,0),16),4,"0"),we=$(ce(d(O,2),16),4,"0");return`\\u${ge}-\\u${we}`}else throw L("unreachable")});return he(ae,"")}function T(Z,ae,O){let ge=ae;for(let we=j(Z,ae);ae<Z.length&&O(we);we=j(Z,++ae));return{result:R(Z,ge,ae),position:ae}}function f(Z){return Y(fe(Z),/[a-z]/g,function(O){return ne(O)})}function J(Z){return K(Z)}function P(Z,ae,O){let ge=ae,we="";if(Z[ae]!=='"')throw new L('must be "');for(ae++;;){let Ae=T(Z,ae,pe=>pe!=='"'&&pe!=="\\");if(we+=Ae.result,ae=Ae.position,ae>=Z.length)break;let G=Z[ae];if(ae++,G==="\\"){if(ae>=Z.length){we+="\\";break}we+=Z[ae],ae++}else{if(G!=='"')throw new L('must be "');break}}return O?{result:we,position:ae}:{result:B(Z,ge,ae+1),position:ae}}function E(Z){return i.opSync("op_base64_encode",Z)}function m(Z){return i.opSync("op_base64_decode",Z)}function F(Z){switch(Z){case"	":case`
`:case"\r":case" ":return!0;default:return!1}}function I(Z){return!F(Z[0])&&!F(Z[Z.length-1])?Z:te(Z,v)?.[1]??""}q.__bootstrap.infra={collectSequenceOfCodepoints:T,ASCII_DIGIT:X,ASCII_UPPER_ALPHA:y,ASCII_LOWER_ALPHA:S,ASCII_ALPHA:h,ASCII_ALPHANUMERIC:A,HTTP_TAB_OR_SPACE:V,HTTP_WHITESPACE:M,HTTP_TOKEN_CODE_POINT:g,HTTP_TOKEN_CODE_POINT_RE:_,HTTP_QUOTED_STRING_TOKEN_POINT:ee,HTTP_QUOTED_STRING_TOKEN_POINT_RE:ue,HTTP_TAB_OR_SPACE_PREFIX_RE:C,HTTP_TAB_OR_SPACE_SUFFIX_RE:p,HTTP_WHITESPACE_PREFIX_RE:U,HTTP_WHITESPACE_SUFFIX_RE:k,httpTrim:I,regexMatcher:l,byteUpperCase:f,byteLowerCase:J,collectHttpQuotedString:P,forgivingBase64Encode:E,forgivingBase64Decode:m}})(je),ro(),no(),oo();"use strict";(q=>{let i=q.Deno.core,{DOMException:e}=q.__bootstrap.domException,{ArrayBuffer:t,ArrayBufferIsView:d,DataView:ce,TypedArrayPrototypeSlice:$,TypeError:L,WeakMap:he,WeakMapPrototypeSet:j}=q.__bootstrap.primordials,te=new he;function R(Y,ne,K,B){return $(Y,ne,ne+K)}function fe(Y){if(Y instanceof t){let ne=R(Y,0,Y.byteLength,t);return j(te,Y,ne),ne}if(d(Y)){let ne=fe(Y.buffer),K;return Y instanceof ce?K=Y.byteLength:K=Y.length,new Y.constructor(ne,Y.byteOffset,K)}try{return i.deserialize(i.serialize(Y))}catch(ne){throw ne instanceof L?new e("Uncloneable value","DataCloneError"):ne}}q.__bootstrap.structuredClone=fe})(je),so(),io();"use strict";(q=>{let i=q.__bootstrap.webidl,{forgivingBase64Encode:e,forgivingBase64Decode:t}=q.__bootstrap.infra,{DOMException:d}=q.__bootstrap.domException,{ArrayPrototypeMap:ce,StringPrototypeCharCodeAt:$,ArrayPrototypeJoin:L,StringFromCharCode:he,TypedArrayFrom:j,Uint8Array:te}=q.__bootstrap.primordials;function R(Y){Y=i.converters.DOMString(Y,{prefix:"Failed to execute 'atob'",context:"Argument 1"});let ne=t(Y),K=ce([...ne],B=>he(B));return L(K,"")}function fe(Y){let ne="Failed to execute 'btoa'";i.requiredArguments(arguments.length,1,{prefix:ne}),Y=i.converters.DOMString(Y,{prefix:ne,context:"Argument 1"});let K=ce([...Y],B=>{let X=$(B,0);if(X>255)throw new d("The string to be encoded contains characters outside of the Latin1 range.","InvalidCharacterError");return X});return e(j(te,K))}q.__bootstrap.base64={atob:R,btoa:fe}})(je),ao(),co(),uo(),lo();"use strict";(q=>{let i=je.Deno.core,e=q.__bootstrap.webidl,{getParts:t}=q.__bootstrap.file,{URL:d}=q.__bootstrap.url;function ce(L){let he="Failed to execute 'createObjectURL' on 'URL'";e.requiredArguments(arguments.length,1,{prefix:he}),L=e.converters.Blob(L,{context:"Argument 1",prefix:he});let j=i.opSync("op_blob_create_object_url",L.type,t(L));return j}function $(L){let he="Failed to execute 'revokeObjectURL' on 'URL'";e.requiredArguments(arguments.length,1,{prefix:he}),L=e.converters.DOMString(L,{context:"Argument 1",prefix:he}),i.opSync("op_blob_revoke_object_url",L)}d.createObjectURL=ce,d.revokeObjectURL=$})(je),fo();"use strict";(q=>{let i=q.Deno.core,{Interrupted:e}=i,t=q.__bootstrap.webidl,{setEventTargetData:d}=q.__bootstrap.eventTarget,{defineEventHandler:ce}=q.__bootstrap.event,{DOMException:$}=q.__bootstrap.domException,{ArrayBuffer:L,ArrayPrototypeFilter:he,ArrayPrototypeIncludes:j,ArrayPrototypePush:te,ObjectSetPrototypeOf:R,Symbol:fe,SymbolFor:Y,TypeError:ne,WeakSet:K,WeakSetPrototypeAdd:B,WeakSetPrototypeHas:X}=q.__bootstrap.primordials;class y{#e;#t;constructor(){this[t.brand]=t.brand;let[C,p]=M(),u=A(C),v=A(p);this.#e=u,this.#t=v}get port1(){return t.assertBranded(this,y),this.#e}get port2(){return t.assertBranded(this,y),this.#t}[Y("Deno.inspect")](C){return`MessageChannel ${C({port1:this.port1,port2:this.port2})}`}}t.configurePrototype(y);let S=fe("id"),h=fe("enabled");function A(D){let C=i.createHostObject();return R(C,V.prototype),C[t.brand]=t.brand,d(C),C[S]=D,C}class V extends EventTarget{[S]=null;[h]=!1;constructor(){super();t.illegalConstructor()}postMessage(C,p={}){t.assertBranded(this,V);let u="Failed to execute 'postMessage' on 'MessagePort'";t.requiredArguments(arguments.length,1,{prefix:u}),C=t.converters.any(C);let v;if(t.type(p)==="Object"&&p!==void 0&&p[fe.iterator]!==void 0){let l=t.converters["sequence<object>"](p,{prefix:u,context:"Argument 2"});v={transfer:l}}else v=t.converters.StructuredSerializeOptions(p,{prefix:u,context:"Argument 2"});let{transfer:U}=v;if(j(U,this))throw new $("Can not tranfer self","DataCloneError");let k=ee(C,U);if(this[S]===null)return;i.opSync("op_message_port_post_message",this[S],k)}start(){if(t.assertBranded(this,V),this[h])return;(async()=>{for(this[h]=!0;!(this[S]===null);){let C;try{C=await i.opAsync("op_message_port_recv_message",this[S])}catch(U){if(U instanceof e)break;throw U}if(C===null)break;let p,u;try{let U=g(C);p=U[0],u=U[1]}catch(U){let k=new MessageEvent("messageerror",{data:U});this.dispatchEvent(k);return}let v=new MessageEvent("message",{data:p,ports:he(u,U=>U instanceof V)});this.dispatchEvent(v)}this[h]=!1})()}close(){t.assertBranded(this,V),this[S]!==null&&(i.close(this[S]),this[S]=null)}}ce(V.prototype,"message",function(D){D.start()}),ce(V.prototype,"messageerror"),t.configurePrototype(V);function M(){return i.opSync("op_message_port_create_entangled")}function g(D){let C=[],p=[],u=[],v=[];for(let k of D.transferables)switch(k.kind){case"messagePort":{let l=A(k.data);te(C,l),te(p,l);break}case"arrayBuffer":{te(v,k.data);let l=te(C,null);te(u,l);break}default:throw new ne("Unreachable")}let U=i.deserialize(D.data,{hostObjects:p,transferedArrayBuffers:v});for(let k in u){let l=u[k];C[l]=v[k]}return[U,C]}let _=new K;function ee(D,C){let p=he(C,k=>k instanceof L);for(let k of p){if(X(_,k))throw new $("Can not transfer detached ArrayBuffer","DataCloneError");B(_,k)}let u;try{u=i.serialize(D,{hostObjects:he(C,k=>k instanceof V),transferedArrayBuffers:p})}catch(k){throw new $(k.message,"DataCloneError")}let v=[],U=0;for(let k of C)if(k instanceof V){t.assertBranded(k,V);let l=k[S];if(l===null)throw new $("Can not transfer disentangled message port","DataCloneError");k[S]=null,te(v,{kind:"messagePort",data:l})}else if(k instanceof L)te(v,{kind:"arrayBuffer",data:p[U]}),U++;else throw new $("Value not transferable","DataCloneError");return{data:u,transferables:v}}t.converters.StructuredSerializeOptions=t.createDictionaryConverter("StructuredSerializeOptions",[{key:"transfer",converter:t.converters["sequence<object>"],get defaultValue(){return[]}}]);function ue(D,C){let p="Failed to execute 'structuredClone'";t.requiredArguments(arguments.length,1,{prefix:p}),C=t.converters.StructuredSerializeOptions(C,{prefix:p,context:"Argument 2"});let u=ee(D,C.transfer),[v]=g(u);return v}q.__bootstrap.messagePort={MessageChannel:y,MessagePort:V,deserializeJsMessageData:g,serializeJsMessageData:ee,structuredClone:ue}})(je),po(),ho();"use strict";(q=>{let i=q.Deno.core,e=je.__bootstrap.webidl,{Blob:t,File:d}=je.__bootstrap.file,{ArrayPrototypeMap:ce,ArrayPrototypePush:$,ArrayPrototypeSlice:L,ArrayPrototypeSplice:he,ArrayPrototypeFilter:j,ArrayPrototypeForEach:te,Map:R,MapPrototypeGet:fe,MapPrototypeSet:Y,MathRandom:ne,Symbol:K,StringFromCharCode:B,StringPrototypeTrim:X,StringPrototypeSlice:y,StringPrototypeSplit:S,StringPrototypeReplace:h,StringPrototypeIndexOf:A,StringPrototypePadStart:V,StringPrototypeCodePointAt:M,StringPrototypeReplaceAll:g,TypeError:_,TypedArrayPrototypeSubarray:ee}=q.__bootstrap.primordials,ue=K("entry list");function D(P,E,m){return E instanceof t&&!(E instanceof d)&&(E=new d([E],"blob",{type:E.type})),E instanceof d&&m!==void 0&&(E=new d([E],m,{type:E.type,lastModified:E.lastModified})),{name:P,value:E}}class C{[ue]=[];constructor(E){E!==void 0&&e.illegalConstructor(),this[e.brand]=e.brand}append(E,m,F){e.assertBranded(this,C);let I="Failed to execute 'append' on 'FormData'";e.requiredArguments(arguments.length,2,{prefix:I}),E=e.converters.USVString(E,{prefix:I,context:"Argument 1"}),m instanceof t?(m=e.converters.Blob(m,{prefix:I,context:"Argument 2"}),F!==void 0&&(F=e.converters.USVString(F,{prefix:I,context:"Argument 3"}))):m=e.converters.USVString(m,{prefix:I,context:"Argument 2"});let Z=D(E,m,F);$(this[ue],Z)}delete(E){e.assertBranded(this,C);let m="Failed to execute 'name' on 'FormData'";e.requiredArguments(arguments.length,1,{prefix:m}),E=e.converters.USVString(E,{prefix:m,context:"Argument 1"});let F=this[ue];for(let I=0;I<F.length;I++)F[I].name===E&&(he(F,I,1),I--)}get(E){e.assertBranded(this,C);let m="Failed to execute 'get' on 'FormData'";e.requiredArguments(arguments.length,1,{prefix:m}),E=e.converters.USVString(E,{prefix:m,context:"Argument 1"});for(let F of this[ue])if(F.name===E)return F.value;return null}getAll(E){e.assertBranded(this,C);let m="Failed to execute 'getAll' on 'FormData'";e.requiredArguments(arguments.length,1,{prefix:m}),E=e.converters.USVString(E,{prefix:m,context:"Argument 1"});let F=[];for(let I of this[ue])I.name===E&&$(F,I.value);return F}has(E){e.assertBranded(this,C);let m="Failed to execute 'has' on 'FormData'";e.requiredArguments(arguments.length,1,{prefix:m}),E=e.converters.USVString(E,{prefix:m,context:"Argument 1"});for(let F of this[ue])if(F.name===E)return!0;return!1}set(E,m,F){e.assertBranded(this,C);let I="Failed to execute 'set' on 'FormData'";e.requiredArguments(arguments.length,2,{prefix:I}),E=e.converters.USVString(E,{prefix:I,context:"Argument 1"}),m instanceof t?(m=e.converters.Blob(m,{prefix:I,context:"Argument 2"}),F!==void 0&&(F=e.converters.USVString(F,{prefix:I,context:"Argument 3"}))):m=e.converters.USVString(m,{prefix:I,context:"Argument 2"});let Z=D(E,m,F),ae=this[ue],O=!1;for(let ge=0;ge<ae.length;ge++)ae[ge].name===E&&(O?(he(ae,ge,1),ge--):(ae[ge]=Z,O=!0));O||$(ae,Z)}}e.mixinPairIterable("FormData",C,ue,"name","value"),e.configurePrototype(C);let p=(P,E)=>h(h(h(E?P:h(P,/\r?\n|\r/g,`\r
`),/\n/g,"%0A"),/\r/g,"%0D"),/"/g,"%22");function u(P){let E=V(y(g(`${ne()}${ne()}`,".",""),-28),32,"-"),m=[],F=`--${E}\r
  Content-Disposition: form-data; name="`;for(let[I,Z]of P)typeof Z=="string"?$(m,F+p(I)+'"'+U+U+h(Z,/\r(?!\n)|(?<!\r)\n/g,U)+U):$(m,F+p(I)+`"; filename="${p(Z.name,!0)}"`+U+`Content-Type: ${Z.type||"application/octet-stream"}\r
  \r
  `,Z,U);return $(m,`--${E}--`),new t(m,{type:"multipart/form-data; boundary="+E})}function v(P){let E=new R;return te(ce(j(ce(L(S(P,";"),1),m=>S(X(m),"=")),m=>m.length>1),([m,F])=>[m,h(F,/^"([^"]*)"$/,"$1")]),([m,F])=>Y(E,m,F)),E}let U=`\r
`,k=M(U,1),l=M(U,0);class T{constructor(E,m){if(!m)throw new _("multipart/form-data must provide a boundary");this.boundary=`--${m}`,this.body=E,this.boundaryChars=i.encode(this.boundary)}#e(E){let m=new Headers,F=S(E,`\r
`);for(let Z of F){let ae=A(Z,":");if(ae<0)continue;let O=y(Z,0,ae),ge=y(Z,ae+1);m.set(O,ge)}let I=v(m.get("Content-Disposition")??"");return{headers:m,disposition:I}}parse(){if(this.body.length<this.boundary.length*2+4)throw new _("Form data too short to be valid.");let E=new C,m="",F=0,I=0,Z=0;for(let ae=0;ae<this.body.length;ae++){let O=this.body[ae],ge=this.body[ae-1],we=O===k&&ge===l;if((I===1||I===2||I==3)&&(m+=B(O)),I===0&&we)I=1;else if(I===1&&we){I=2;let Ae=this.body[ae+1]===l&&this.body[ae+2]===k;Ae&&(I=3)}else if(I===2&&we)I=3;else if(I===3&&we)I=4,Z=ae+1;else if(I===4){if(this.boundaryChars[F]!==O?F=0:F++,F>=this.boundary.length){let{headers:Ae,disposition:G}=this.#e(m),pe=ee(this.body,Z,ae-F-1),Ue=fe(G,"filename"),it=fe(G,"name");if(I=5,F=0,m="",!it)continue;if(Ue){let Q=new t([pe],{type:Ae.get("Content-Type")||"application/octet-stream"});E.append(it,Q,Ue)}else E.append(it,i.decode(pe))}}else I===5&&we&&(I=1)}return E}}function f(P,E){let m=new T(P,E);return m.parse()}function J(P){let E=new C;return E[ue]=P,E}e.converters.FormData=e.createInterfaceConverter("FormData",C),je.__bootstrap.formData={FormData:C,formDataToBlob:u,parseFormData:f,formDataFromEntries:J}})(je);"use strict";(q=>{let i=q.Deno.core,e=je.__bootstrap.webidl,{parseUrlEncoded:t}=je.__bootstrap.url,{parseFormData:d,formDataFromEntries:ce,formDataToBlob:$}=je.__bootstrap.formData,L=je.__bootstrap.mimesniff,{isReadableStreamDisturbed:he,errorReadableStream:j,createProxy:te}=je.__bootstrap.streams,{ArrayBuffer:R,ArrayBufferIsView:fe,ArrayPrototypePush:Y,ArrayPrototypeMap:ne,JSONParse:K,ObjectDefineProperties:B,PromiseResolve:X,TypedArrayPrototypeSet:y,TypedArrayPrototypeSlice:S,TypeError:h,Uint8Array:A}=q.__bootstrap.primordials;function V(D){return typeof D=="string"?i.encode(D):D}function M(D){return typeof D=="string"?D:i.decode(D)}class g{constructor(C){this.streamOrStatic=C??{body:new A,consumed:!1},this.source=null,this.length=null}get stream(){if(!(this.streamOrStatic instanceof ReadableStream)){let{body:C,consumed:p}=this.streamOrStatic;p?(this.streamOrStatic=new ReadableStream,this.streamOrStatic.getReader()):this.streamOrStatic=new ReadableStream({start(u){u.enqueue(V(C)),u.close()}})}return this.streamOrStatic}unusable(){return this.streamOrStatic instanceof ReadableStream?this.streamOrStatic.locked||he(this.streamOrStatic):this.streamOrStatic.consumed}consumed(){return this.streamOrStatic instanceof ReadableStream?he(this.streamOrStatic):this.streamOrStatic.consumed}async consume(){if(this.unusable())throw new h("Body already consumed.");if(this.streamOrStatic instanceof ReadableStream){let C=this.stream.getReader(),p=[],u=0;for(;;){let{value:k,done:l}=await C.read();if(l)break;Y(p,k),u+=k.byteLength}let v=new A(u),U=0;for(let k of p)y(v,k,U),U+=k.byteLength;return v}else return this.streamOrStatic.consumed=!0,this.streamOrStatic.body}cancel(C){this.streamOrStatic instanceof ReadableStream?this.streamOrStatic.cancel(C):this.streamOrStatic.consumed=!0}error(C){this.streamOrStatic instanceof ReadableStream?j(this.streamOrStatic,C):this.streamOrStatic.consumed=!0}clone(){let[C,p]=this.stream.tee();this.streamOrStatic=C;let u=new g(p);return u.source=i.deserialize(i.serialize(this.source)),u.length=this.length,u}createProxy(){let C;this.streamOrStatic instanceof ReadableStream?C=te(this.streamOrStatic):(C={...this.streamOrStatic},this.streamOrStatic.consumed=!0);let p=new g(C);return p.source=this.source,p.length=this.length,p}}function _(D,C,p){function u(U){return U[C]!==null?U[C].consume():X(new A)}let v={body:{get(){return e.assertBranded(this,D),this[C]===null?null:this[C].stream},configurable:!0,enumerable:!0},bodyUsed:{get(){return e.assertBranded(this,D),this[C]!==null?this[C].consumed():!1},configurable:!0,enumerable:!0},arrayBuffer:{value:async function(){e.assertBranded(this,D);let k=await u(this);return ee(k,"ArrayBuffer")},writable:!0,configurable:!0,enumerable:!0},blob:{value:async function(){e.assertBranded(this,D);let k=await u(this);return ee(k,"Blob",this[p])},writable:!0,configurable:!0,enumerable:!0},formData:{value:async function(){e.assertBranded(this,D);let k=await u(this);return ee(k,"FormData",this[p])},writable:!0,configurable:!0,enumerable:!0},json:{value:async function(){e.assertBranded(this,D);let k=await u(this);return ee(k,"JSON")},writable:!0,configurable:!0,enumerable:!0},text:{value:async function(){e.assertBranded(this,D);let k=await u(this);return ee(k,"text")},writable:!0,configurable:!0,enumerable:!0}};return B(D.prototype,v)}function ee(D,C,p){switch(C){case"ArrayBuffer":return V(D).buffer;case"Blob":return new Blob([D],{type:p!==null?L.serializeMimeType(p):""});case"FormData":{if(p!==null){let u=L.essence(p);if(u==="multipart/form-data"){let v=p.parameters.get("boundary");if(v===null)throw new h("Missing boundary parameter in mime type of multipart formdata.");return d(V(D),v)}else if(u==="application/x-www-form-urlencoded"){let v=t(V(D));return ce(ne(v,U=>({name:U[0],value:U[1]})))}throw new h("Body can not be decoded as form data")}throw new h("Missing content type")}case"JSON":return K(M(D));case"text":return M(D)}}function ue(D){let C,p=null,u=null,v=null;if(D instanceof Blob)C=D.stream(),p=D,u=D.size,D.type.length!==0&&(v=D.type);else if(D instanceof A){let k=S(D,0,D.byteLength);p=k}else if(fe(D)||D instanceof R){let k=fe(D)?new A(D.buffer,D.byteOffset,D.byteLength):new A(D),l=S(k,0,k.byteLength);p=l}else if(D instanceof FormData){let k=$(D);C=k.stream(),p=k,u=k.size,v=k.type}else if(D instanceof URLSearchParams)p=D.toString(),v="application/x-www-form-urlencoded;charset=UTF-8";else if(typeof D=="string")p=D,v="text/plain;charset=UTF-8";else if(D instanceof ReadableStream&&(C=D,D.locked||he(D)))throw new h("ReadableStream is locked or disturbed");p instanceof A?(C={body:p,consumed:!1},u=p.byteLength):typeof p=="string"&&(C={body:p,consumed:!1},u=null);let U=new g(C);return U.source=p,U.length=u,{body:U,contentType:v}}e.converters.BodyInit_DOMString=(D,C)=>{if(D instanceof ReadableStream)return D;if(D instanceof Blob)return e.converters.Blob(D,C);if(D instanceof FormData)return e.converters.FormData(D,C);if(D instanceof URLSearchParams)return D;if(typeof D=="object"){if(D instanceof R||D instanceof SharedArrayBuffer)return e.converters.ArrayBuffer(D,C);if(fe(D))return e.converters.ArrayBufferView(D,C)}return e.converters.DOMString(D,C)},e.converters["BodyInit_DOMString?"]=e.createNullableConverter(e.converters.BodyInit_DOMString),q.__bootstrap.fetchBody={mixinBody:_,InnerBody:g,extractBody:ue}})(je);"use strict";(q=>{let i=q.Deno.core;function e(d){return d.caCerts??=[],new t(i.opSync("op_fetch_custom_client",d))}class t{constructor(ce){this.rid=ce}close(){i.close(this.rid)}}q.__bootstrap.fetch??={},q.__bootstrap.fetch.createHttpClient=e,q.__bootstrap.fetch.HttpClient=t})(je);"use strict";(q=>{let i=q.__bootstrap.webidl,e=q.__bootstrap.console,{HTTP_TOKEN_CODE_POINT_RE:t,byteUpperCase:d}=q.__bootstrap.infra,{URL:ce}=q.__bootstrap.url,{guardFromHeaders:$}=q.__bootstrap.headers,{mixinBody:L,extractBody:he}=q.__bootstrap.fetchBody,{getLocationHref:j}=q.__bootstrap.location,te=q.__bootstrap.mimesniff,{blobFromObjectUrl:R}=q.__bootstrap.file,{headersFromHeaderList:fe,headerListFromHeaders:Y,fillHeaders:ne,getDecodeSplitHeader:K}=q.__bootstrap.headers,{HttpClient:B}=q.__bootstrap.fetch,X=q.__bootstrap.abortSignal,{ArrayPrototypeMap:y,ArrayPrototypeSlice:S,ArrayPrototypeSplice:h,MapPrototypeHas:A,MapPrototypeGet:V,MapPrototypeSet:M,ObjectKeys:g,RegExpPrototypeTest:_,Symbol:ee,SymbolFor:ue,TypeError:D}=q.__bootstrap.primordials,C=ee("request"),p=ee("headers"),u=ee("signal"),v=ee("mime type"),U=ee("body");function k(m,F,I,Z,ae){let O=null;return ae&&F.startsWith("blob:")&&(O=R(F)),{method:m,headerList:I,body:Z,redirectMode:"follow",redirectCount:0,urlList:[F],clientRid:null,blobUrlEntry:O,url(){return this.urlList[0]},currentUrl(){return this.urlList[this.urlList.length-1]}}}function l(m){let F=[...y(m.headerList,Z=>[Z[0],Z[1]])],I=null;return m.body!==null&&(I=m.body.clone()),{method:m.method,headerList:F,body:I,redirectMode:m.redirectMode,redirectCount:m.redirectCount,urlList:m.urlList,clientRid:m.clientRid,blobUrlEntry:m.blobUrlEntry,url(){return this.urlList[0]},currentUrl(){return this.urlList[this.urlList.length-1]}}}function T(m){return m==="DELETE"||m==="GET"||m==="HEAD"||m==="OPTIONS"||m==="POST"||m==="PUT"}function f(m){if(T(m))return m;if(!_(t,m))throw new D("Method is not valid.");let F=d(m);if(F==="CONNECT"||F==="TRACE"||F==="TRACK")throw new D("Method is forbidden.");return F}class J{[C];[p];[u];get[v](){let F=null,I=null,Z=null,ae=K(Y(this[p]),"Content-Type");if(ae===null)return null;for(let O of ae){let ge=te.parseMimeType(O);if(ge===null||te.essence(ge)=="*/*")continue;if(Z=ge,te.essence(Z)!==I){F=null;let we=V(Z.parameters,"charset");we!==void 0&&(F=we),I=te.essence(Z)}else A(Z.parameters,"charset")===null&&F!==null&&M(Z.parameters,"charset",F)}return Z===null?null:Z}get[U](){return this[C].body}constructor(F,I={}){let Z="Failed to construct 'Request'";i.requiredArguments(arguments.length,1,{prefix:Z}),F=i.converters.RequestInfo_DOMString(F,{prefix:Z,context:"Argument 1"}),I=i.converters.RequestInit(I,{prefix:Z,context:"Argument 2"}),this[i.brand]=i.brand;let ae,O=j(),ge=null;if(typeof F=="string"){let Ue=new ce(F,O);ae=k("GET",Ue.href,[],null,!0)}else{if(!(F instanceof J))throw new D("Unreachable");ae=F[C],ge=F[u]}if(I.redirect!==void 0&&(ae.redirectMode=I.redirect),I.method!==void 0){let Ue=I.method;Ue=f(Ue),ae.method=Ue}if(I.signal!==void 0&&(ge=I.signal),I.client!==void 0){if(I.client!==null&&!(I.client instanceof B))throw i.makeException(D,"`client` must be a Deno.HttpClient",{prefix:Z,context:"Argument 2"});ae.clientRid=I.client?.rid??null}if(this[C]=ae,this[u]=X.newSignal(),ge!==null&&X.follow(this[u],ge),this[p]=fe(ae.headerList,"request"),g(I).length>0){let Ue=S(Y(this[p]),0,Y(this[p]).length);I.headers!==void 0&&(Ue=I.headers),h(Y(this[p]),0,Y(this[p]).length),ne(this[p],Ue)}let we=null;if(F instanceof J&&(we=F[U]),(ae.method==="GET"||ae.method==="HEAD")&&(I.body!==void 0&&I.body!==null||we!==null))throw new D("Request with GET/HEAD method cannot have body.");let Ae=null;if(I.body!==void 0&&I.body!==null){let Ue=he(I.body);Ae=Ue.body,Ue.contentType!==null&&!this[p].has("content-type")&&this[p].append("Content-Type",Ue.contentType)}let G=Ae??we,pe=G;if(Ae===null&&we!==null){if(F[U]&&F[U].unusable())throw new D("Input request's body is unusable.");pe=we.createProxy()}ae.body=pe}get method(){return i.assertBranded(this,J),this[C].method}get url(){return i.assertBranded(this,J),this[C].url()}get headers(){return i.assertBranded(this,J),this[p]}get redirect(){return i.assertBranded(this,J),this[C].redirectMode}get signal(){return i.assertBranded(this,J),this[u]}clone(){if(i.assertBranded(this,J),this[U]&&this[U].unusable())throw new D("Body is unusable.");let F=l(this[C]),I=X.newSignal();return X.follow(I,this[u]),E(F,I,$(this[p]))}[ue("Deno.customInspect")](F){return F(e.createFilteredInspectProxy({object:this,evaluate:this instanceof J,keys:["bodyUsed","headers","method","redirect","url"]}))}}L(J,U,v),i.configurePrototype(J),i.converters.Request=i.createInterfaceConverter("Request",J),i.converters.RequestInfo_DOMString=(m,F)=>typeof m=="object"&&m instanceof J?i.converters.Request(m,F):i.converters.DOMString(m,F),i.converters.RequestRedirect=i.createEnumConverter("RequestRedirect",["follow","error","manual"]),i.converters.RequestInit=i.createDictionaryConverter("RequestInit",[{key:"method",converter:i.converters.ByteString},{key:"headers",converter:i.converters.HeadersInit},{key:"body",converter:i.createNullableConverter(i.converters.BodyInit_DOMString)},{key:"redirect",converter:i.converters.RequestRedirect},{key:"signal",converter:i.createNullableConverter(i.converters.AbortSignal)},{key:"client",converter:i.converters.any}]);function P(m){return m[C]}function E(m,F,I){let Z=i.createBranded(J);return Z[C]=m,Z[u]=F,Z[p]=fe(m.headerList,I),Z}q.__bootstrap.fetch??={},q.__bootstrap.fetch.Request=J,q.__bootstrap.fetch.toInnerRequest=P,q.__bootstrap.fetch.fromInnerRequest=E,q.__bootstrap.fetch.newInnerRequest=k})(je);"use strict";(q=>{let{isProxy:i}=je.Deno.core,e=q.__bootstrap.webidl,t=q.__bootstrap.console,{HTTP_TAB_OR_SPACE:d,regexMatcher:ce}=q.__bootstrap.infra,{extractBody:$,mixinBody:L}=q.__bootstrap.fetchBody,{getLocationHref:he}=q.__bootstrap.location,j=q.__bootstrap.mimesniff,{URL:te}=q.__bootstrap.url,{getDecodeSplitHeader:R,headerListFromHeaders:fe,headersFromHeaderList:Y,guardFromHeaders:ne,fillHeaders:K}=q.__bootstrap.headers,{ArrayPrototypeMap:B,ArrayPrototypePush:X,MapPrototypeHas:y,MapPrototypeGet:S,MapPrototypeSet:h,RangeError:A,RegExp:V,RegExpPrototypeTest:M,Symbol:g,SymbolFor:_,TypeError:ee}=q.__bootstrap.primordials,ue=["!-~"],D=["\x80-\xFF"],C=[...d,...ue,...D],p=ce(C),u=new V(`^[${p}]*$`),v=g("response"),U=g("headers"),k=g("mime type"),l=g("body");function T(ae){return ae===101||ae===204||ae===205||ae===304}function f(ae){return ae===301||ae===302||ae===303||ae===307||ae===308}function J(ae){let O=[...ae.urlList],ge=[...B(ae.headerList,Ae=>[Ae[0],Ae[1]])],we=null;return ae.body!==null&&(we=ae.body.clone()),{type:ae.type,body:we,headerList:ge,urlList:O,status:ae.status,statusMessage:ae.statusMessage,aborted:ae.aborted,url(){return this.urlList.length==0?null:this.urlList[this.urlList.length-1]}}}function P(ae=200,O=""){return{type:"default",body:null,headerList:[],urlList:[],status:ae,statusMessage:O,aborted:!1,url(){return this.urlList.length==0?null:this.urlList[this.urlList.length-1]}}}function E(ae){let O=P(0);return O.type="error",O.error=ae,O}function m(){let ae=E("aborted");return ae.aborted=!0,ae}class F{get[k](){let O=null,ge=null,we=null,Ae=R(fe(this[U]),"Content-Type");if(Ae===null)return null;for(let G of Ae){let pe=j.parseMimeType(G);if(pe===null||j.essence(pe)=="*/*")continue;if(we=pe,j.essence(we)!==ge){O=null;let Ue=S(we.parameters,"charset");Ue!==void 0&&(O=Ue),ge=j.essence(we)}else y(we.parameters,"charset")===null&&O!==null&&h(we.parameters,"charset",O)}return we===null?null:we}get[l](){return this[v].body}static error(){let O=P(0);O.type="error";let ge=e.createBranded(F);return ge[v]=O,ge[U]=Y(ge[v].headerList,"immutable"),ge}static redirect(O,ge=302){let we="Failed to call 'Response.redirect'";O=e.converters.USVString(O,{prefix:we,context:"Argument 1"}),ge=e.converters["unsigned short"](ge,{prefix:we,context:"Argument 2"});let Ae=he(),G=new te(O,Ae);if(!f(ge))throw new A("Invalid redirect status code.");let pe=P(ge);pe.type="default",X(pe.headerList,["Location",G.href]);let Ue=e.createBranded(F);return Ue[v]=pe,Ue[U]=Y(Ue[v].headerList,"immutable"),Ue}constructor(O=null,ge={}){let we="Failed to construct 'Response'";if(O=e.converters["BodyInit_DOMString?"](O,{prefix:we,context:"Argument 1"}),ge=e.converters.ResponseInit_fast(ge,{prefix:we,context:"Argument 2"}),ge.status<200||ge.status>599)throw new A(`The status provided (${ge.status}) is outside the range [200, 599].`);if(ge.statusText&&!M(u,ge.statusText))throw new ee("Status text is not valid.");this[e.brand]=e.brand;let Ae=P(ge.status,ge.statusText);if(this[v]=Ae,this[U]=Y(Ae.headerList,"response"),ge.headers&&K(this[U],ge.headers),O!==null){if(T(Ae.status))throw new ee("Response with null body status cannot have body");let G=$(O);Ae.body=G.body,G.contentType!==null&&!this[U].has("content-type")&&this[U].append("Content-Type",G.contentType)}}get type(){return e.assertBranded(this,F),this[v].type}get url(){e.assertBranded(this,F);let O=this[v].url();if(O===null)return"";let ge=new te(O);return ge.hash="",ge.href}get redirected(){return e.assertBranded(this,F),this[v].urlList.length>1}get status(){return e.assertBranded(this,F),this[v].status}get ok(){e.assertBranded(this,F);let O=this[v].status;return O>=200&&O<=299}get statusText(){return e.assertBranded(this,F),this[v].statusMessage}get headers(){return e.assertBranded(this,F),this[U]}clone(){if(e.assertBranded(this,F),this[l]&&this[l].unusable())throw new ee("Body is unusable.");let O=e.createBranded(F),ge=J(this[v]);return O[v]=ge,O[U]=Y(ge.headerList,ne(this[U])),O}[_("Deno.customInspect")](O){return O(t.createFilteredInspectProxy({object:this,evaluate:this instanceof F,keys:["body","bodyUsed","headers","ok","redirected","status","statusText","url"]}))}}L(F,l,k),e.configurePrototype(F),e.converters.Response=e.createInterfaceConverter("Response",F),e.converters.ResponseInit=e.createDictionaryConverter("ResponseInit",[{key:"status",defaultValue:200,converter:e.converters["unsigned short"]},{key:"statusText",defaultValue:"",converter:e.converters.ByteString},{key:"headers",converter:e.converters.HeadersInit}]),e.converters.ResponseInit_fast=function(ae,O){if(ae==null)return{status:200,statusText:"",headers:void 0};if(typeof ae=="object"&&!i(ae)){let ge=ae.status!==void 0?e.converters["unsigned short"](ae.status):200,we=ae.statusText!==void 0?e.converters.ByteString(ae.statusText):"",Ae=ae.headers!==void 0?e.converters.HeadersInit(ae.headers):void 0;return{status:ge,statusText:we,headers:Ae}}return e.converters.ResponseInit(ae,O)};function I(ae){return ae[v]}function Z(ae,O){let ge=e.createBranded(F);return ge[v]=ae,ge[U]=Y(ae.headerList,O),ge}q.__bootstrap.fetch??={},q.__bootstrap.fetch.Response=F,q.__bootstrap.fetch.newInnerResponse=P,q.__bootstrap.fetch.toInnerResponse=I,q.__bootstrap.fetch.fromInnerResponse=Z,q.__bootstrap.fetch.redirectStatus=f,q.__bootstrap.fetch.nullBodyStatus=T,q.__bootstrap.fetch.networkError=E,q.__bootstrap.fetch.abortedNetworkError=m})(je),yo(),go(),mo(),bo(),vo(),So(),_o(),Po(),wo(),xo(),Ao(),Eo(),Co(),Bo(),Ro(),Uo(),To(),Do(),ko(),Go(),Io(),Fo(),Mo(),Oo(),Lo(),qo(),No(),$o(),Ho(),Wo(),Ko(),zo();"use strict";(q=>{let i=q.__bootstrap.core,{HttpConn:e}=q.__bootstrap.http;function t(d){let ce=i.opSync("op_http_start",d.rid);return new e(ce)}q.__bootstrap.http.serveHttp=t})(je),jo(),Vo(),Qo(),Jo(),Yo(),Zo(),Xo(),es(),ts()})()}export{Os as loadRuntime};
